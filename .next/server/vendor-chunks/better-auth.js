"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/better-auth";
exports.ids = ["vendor-chunks/better-auth"];
exports.modules = {

/***/ "(rsc)/./node_modules/better-auth/dist/adapters/prisma.js":
/*!**********************************************************!*\
  !*** ./node_modules/better-auth/dist/adapters/prisma.js ***!
  \**********************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   prismaAdapter: () => (/* binding */ nt)\n/* harmony export */ });\n/* harmony import */ var zod__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! zod */ \"(rsc)/./node_modules/zod/v3/types.js\");\n/* harmony import */ var consola__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! consola */ \"(rsc)/./node_modules/consola/dist/index.mjs\");\nvar V=zod__WEBPACK_IMPORTED_MODULE_0__.object({id:zod__WEBPACK_IMPORTED_MODULE_0__.string(),providerId:zod__WEBPACK_IMPORTED_MODULE_0__.string(),accountId:zod__WEBPACK_IMPORTED_MODULE_0__.string(),userId:zod__WEBPACK_IMPORTED_MODULE_0__.string(),accessToken:zod__WEBPACK_IMPORTED_MODULE_0__.string().nullish(),refreshToken:zod__WEBPACK_IMPORTED_MODULE_0__.string().nullish(),idToken:zod__WEBPACK_IMPORTED_MODULE_0__.string().nullish(),expiresAt:zod__WEBPACK_IMPORTED_MODULE_0__.date().nullish(),password:zod__WEBPACK_IMPORTED_MODULE_0__.string().nullish()}),L=zod__WEBPACK_IMPORTED_MODULE_0__.object({id:zod__WEBPACK_IMPORTED_MODULE_0__.string(),email:zod__WEBPACK_IMPORTED_MODULE_0__.string().transform(e=>e.toLowerCase()),emailVerified:zod__WEBPACK_IMPORTED_MODULE_0__.boolean().default(!1),name:zod__WEBPACK_IMPORTED_MODULE_0__.string(),image:zod__WEBPACK_IMPORTED_MODULE_0__.string().nullish(),createdAt:zod__WEBPACK_IMPORTED_MODULE_0__.date().default(new Date),updatedAt:zod__WEBPACK_IMPORTED_MODULE_0__.date().default(new Date)}),C=zod__WEBPACK_IMPORTED_MODULE_0__.object({id:zod__WEBPACK_IMPORTED_MODULE_0__.string(),userId:zod__WEBPACK_IMPORTED_MODULE_0__.string(),expiresAt:zod__WEBPACK_IMPORTED_MODULE_0__.date(),ipAddress:zod__WEBPACK_IMPORTED_MODULE_0__.string().nullish(),userAgent:zod__WEBPACK_IMPORTED_MODULE_0__.string().nullish()}),U=zod__WEBPACK_IMPORTED_MODULE_0__.object({id:zod__WEBPACK_IMPORTED_MODULE_0__.string(),value:zod__WEBPACK_IMPORTED_MODULE_0__.string(),createdAt:zod__WEBPACK_IMPORTED_MODULE_0__.date(),expiresAt:zod__WEBPACK_IMPORTED_MODULE_0__.date(),identifier:zod__WEBPACK_IMPORTED_MODULE_0__.string()});var b=Object.create(null),A=e=>globalThis.process?.env||globalThis.Deno?.env.toObject()||globalThis.__env__||(e?b:globalThis),F=new Proxy(b,{get(e,d){return A()[d]??b[d]},has(e,d){let u=A();return d in u||d in b},set(e,d,u){let l=A(!0);return l[d]=u,!0},deleteProperty(e,d){if(!d)return!1;let u=A(!0);return delete u[d],!0},ownKeys(){let e=A(!0);return Object.keys(e)}});function O(e){return e?e!==\"false\":!1}var I=typeof process<\"u\"&&process.env&&\"development\"||\"\";var k=I===\"test\"||O(F.TEST);var w=e=>{let d=e.plugins?.reduce((n,f)=>{let a=f.schema;if(!a)return n;for(let[t,o]of Object.entries(a))n[t]={fields:{...n[t]?.fields,...o.fields},modelName:o.modelName||t};return n},{}),u=e.rateLimit?.storage===\"database\",l={rateLimit:{modelName:e.rateLimit?.modelName||\"rateLimit\",fields:{key:{type:\"string\",fieldName:e.rateLimit?.fields?.key||\"key\"},count:{type:\"number\",fieldName:e.rateLimit?.fields?.count||\"count\"},lastRequest:{type:\"number\",fieldName:e.rateLimit?.fields?.lastRequest||\"lastRequest\"}}}},{user:c,session:m,account:p,...i}=d||{};return{user:{modelName:e.user?.modelName||\"user\",fields:{name:{type:\"string\",required:!0,fieldName:e.user?.fields?.name||\"name\"},email:{type:\"string\",unique:!0,required:!0,fieldName:e.user?.fields?.email||\"email\"},emailVerified:{type:\"boolean\",defaultValue:()=>!1,required:!0,fieldName:e.user?.fields?.emailVerified||\"emailVerified\"},image:{type:\"string\",required:!1,fieldName:e.user?.fields?.image||\"image\"},createdAt:{type:\"date\",defaultValue:()=>new Date,required:!0,fieldName:e.user?.fields?.createdAt||\"createdAt\"},updatedAt:{type:\"date\",defaultValue:()=>new Date,required:!0,fieldName:e.user?.fields?.updatedAt||\"updatedAt\"},...c?.fields,...e.user?.additionalFields},order:1},session:{modelName:e.session?.modelName||\"session\",fields:{expiresAt:{type:\"date\",required:!0,fieldName:e.session?.fields?.expiresAt||\"expiresAt\"},ipAddress:{type:\"string\",required:!1,fieldName:e.session?.fields?.ipAddress||\"ipAddress\"},userAgent:{type:\"string\",required:!1,fieldName:e.session?.fields?.userAgent||\"userAgent\"},userId:{type:\"string\",fieldName:e.session?.fields?.userId||\"userId\",references:{model:e.user?.modelName||\"user\",field:\"id\",onDelete:\"cascade\"},required:!0},...m?.fields,...e.session?.additionalFields},order:2},account:{modelName:e.account?.modelName||\"account\",fields:{accountId:{type:\"string\",required:!0,fieldName:e.account?.fields?.accountId||\"accountId\"},providerId:{type:\"string\",required:!0,fieldName:e.account?.fields?.providerId||\"providerId\"},userId:{type:\"string\",references:{model:e.user?.modelName||\"user\",field:\"id\",onDelete:\"cascade\"},required:!0,fieldName:e.account?.fields?.userId||\"userId\"},accessToken:{type:\"string\",required:!1,fieldName:e.account?.fields?.accessToken||\"accessToken\"},refreshToken:{type:\"string\",required:!1,fieldName:e.account?.fields?.refreshToken||\"refreshToken\"},idToken:{type:\"string\",required:!1,fieldName:e.account?.fields?.idToken||\"idToken\"},expiresAt:{type:\"date\",required:!1,fieldName:e.account?.fields?.expiresAt||\"expiresAt\"},password:{type:\"string\",required:!1,fieldName:e.account?.fields?.password||\"password\"},...p?.fields},order:3},verification:{modelName:e.verification?.modelName||\"verification\",fields:{identifier:{type:\"string\",required:!0,fieldName:e.verification?.fields?.identifier||\"identifier\"},value:{type:\"string\",required:!0,fieldName:e.verification?.fields?.value||\"value\"},expiresAt:{type:\"date\",required:!0,fieldName:e.verification?.fields?.expiresAt||\"expiresAt\"},createdAt:{type:\"date\",required:!1,defaultValue:()=>new Date,fieldName:e.verification?.fields?.createdAt||\"createdAt\"}},order:4},...i,...u?l:{}}};var x=[\"info\",\"success\",\"warn\",\"error\",\"debug\"];function S(e,d){return x.indexOf(d)<=x.indexOf(e)}var D=(0,consola__WEBPACK_IMPORTED_MODULE_1__.createConsola)({formatOptions:{date:!1,colors:!0,compact:!0},defaults:{tag:\"Better Auth\"}}),v=e=>{let d=e?.disabled!==!0,u=e?.level??\"error\",l=(c,m,p=[])=>{if(!(!d||!S(u,c))){if(!e||typeof e.log!=\"function\"){D[c](\"\",m,...p);return}e.log(c===\"success\"?\"info\":c,m,p)}};return Object.fromEntries(x.map(c=>[c,(...[m,...p])=>l(c,m,p)]))},Ce=v();var R=(e,d)=>{let u=w(d);function l(i,n){return n===\"id\"?n:u[i].fields[n].fieldName||n}function c(i){switch(i){case\"starts_with\":return\"startsWith\";case\"ends_with\":return\"endsWith\";default:return i}}function m(i){return u[i].modelName}let p=e?.generateId!==!1;return{transformInput(i,n){let f=i.id&&p?{id:e?.generateId?e.generateId():i.id}:{};for(let a in i){let t=u[n].fields[a];t&&(f[t.fieldName||a]=i[a])}return f},transformOutput(i,n,f=[]){if(!i)return null;let a=i.id||i._id?f.length===0||f.includes(\"id\")?{id:i.id}:{}:{},t=u[n].fields;for(let o in t){if(f.length&&!f.includes(o))continue;let r=t[o];r&&(a[o]=i[r.fieldName||o])}return a},convertWhereClause(i,n){if(!n)return{};if(n.length===1){let r=n[0];return r?{[l(i,r.field)]:r.operator===\"eq\"||!r.operator?r.value:{[c(r.operator)]:r.value}}:void 0}let f=n.filter(r=>r.connector===\"AND\"||!r.connector),a=n.filter(r=>r.connector===\"OR\"),t=f.map(r=>({[l(i,r.field)]:r.operator===\"eq\"||!r.operator?r.value:{[c(r.operator)]:r.value}})),o=a.map(r=>({[l(i,r.field)]:{[r.operator||\"eq\"]:r.value}}));return{AND:t.length?t:void 0,OR:o.length?o:void 0}},convertSelect:(i,n)=>{if(!(!i||!n))return i.reduce((f,a)=>({...f,[l(n,a)]:!0}),{})},getModelName:m,getField:l}},nt=(e,d)=>u=>{let l=e,{transformInput:c,transformOutput:m,convertWhereClause:p,convertSelect:i,getModelName:n,getField:f}=R(d,u);return{id:\"prisma\",async create(a){let{model:t,data:o,select:r}=a,y=c(o,t),g=await l[n(t)].create({data:y,select:i(r,t)});return m(g,t,r)},async findOne(a){let{model:t,where:o,select:r}=a,y=p(t,o),g=await l[n(t)].findFirst({where:y,select:i(r,t)});return m(g,t,r)},async findMany(a){let{model:t,where:o,limit:r,offset:y,sortBy:g}=a,h=p(t,o);return(await l[n(t)].findMany({where:h,take:r||100,skip:y||0,orderBy:g?.field?{[f(t,g.field)]:g.direction===\"desc\"?\"desc\":\"asc\"}:void 0})).map(T=>m(T,t))},async update(a){let{model:t,where:o,update:r}=a,y=p(t,o),g=c(r,t),h=await l[n(t)].update({where:y,data:g});return m(h,t)},async updateMany(a){let{model:t,where:o,update:r}=a,y=p(t,o),g=c(r,t),h=await l[n(t)].updateMany({where:y,data:g});return h?h.count:0},async delete(a){let{model:t,where:o}=a,r=p(t,o);try{await l[n(t)].delete({where:r})}catch{}},async deleteMany(a){let{model:t,where:o}=a,r=p(t,o),y=await l[n(t)].deleteMany({where:r});return y?y.count:0},options:d}};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvYmV0dGVyLWF1dGgvZGlzdC9hZGFwdGVycy9wcmlzbWEuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQXdCLE1BQU0sdUNBQVEsRUFBRSxHQUFHLHVDQUFRLGNBQWMsdUNBQVEsYUFBYSx1Q0FBUSxVQUFVLHVDQUFRLGVBQWUsdUNBQVEsMEJBQTBCLHVDQUFRLHFCQUFxQix1Q0FBUSx1QkFBdUIscUNBQU0sc0JBQXNCLHVDQUFRLGFBQWEsSUFBSSx1Q0FBUSxFQUFFLEdBQUcsdUNBQVEsU0FBUyx1Q0FBUSwrQ0FBK0Msd0NBQVMsb0JBQW9CLHVDQUFRLFNBQVMsdUNBQVEsdUJBQXVCLHFDQUFNLCtCQUErQixxQ0FBTSxxQkFBcUIsSUFBSSx1Q0FBUSxFQUFFLEdBQUcsdUNBQVEsVUFBVSx1Q0FBUSxhQUFhLHFDQUFNLGFBQWEsdUNBQVEsdUJBQXVCLHVDQUFRLGFBQWEsSUFBSSx1Q0FBUSxFQUFFLEdBQUcsdUNBQVEsU0FBUyx1Q0FBUSxhQUFhLHFDQUFNLGFBQWEscUNBQU0sY0FBYyx1Q0FBUSxHQUFHLEVBQWtDLDZJQUE2SSxTQUFTLG9CQUFvQixVQUFVLFVBQVUsc0JBQXNCLFlBQVksWUFBWSxpQkFBaUIscUJBQXFCLGVBQWUsWUFBWSxzQkFBc0IsV0FBVyxZQUFZLHVCQUF1QixFQUFFLGNBQWMsd0JBQXdCLHVDQUF1QyxhQUFvQixLQUFLLDRCQUE0QixVQUFVLGdDQUFnQyxlQUFlLGVBQWUsdUNBQXVDLFFBQVEsNEJBQTRCLDJCQUEyQixTQUFTLEdBQUcseUNBQXlDLFdBQVcsc0RBQXNELEtBQUssd0RBQXdELFFBQVEsNERBQTRELGNBQWMsMkVBQTJFLEVBQUUsZ0NBQWdDLE9BQU8sT0FBTyxNQUFNLDRDQUE0QyxNQUFNLGlFQUFpRSxRQUFRLDZFQUE2RSxnQkFBZ0Isd0dBQXdHLFFBQVEsbUVBQW1FLFlBQVksbUdBQW1HLFlBQVksbUdBQW1HLDBDQUEwQyxTQUFTLFVBQVUsa0RBQWtELFdBQVcsNEVBQTRFLFlBQVksOEVBQThFLFlBQVksOEVBQThFLFNBQVMsd0VBQXdFLDhEQUE4RCxhQUFhLDZDQUE2QyxTQUFTLFVBQVUsa0RBQWtELFdBQVcsOEVBQThFLGFBQWEsZ0ZBQWdGLFNBQVMsMEJBQTBCLDhEQUE4RCwyREFBMkQsY0FBYyxrRkFBa0YsZUFBZSxvRkFBb0YsVUFBVSwwRUFBMEUsWUFBWSw0RUFBNEUsV0FBVyw0RUFBNEUsY0FBYyxTQUFTLGVBQWUsNERBQTRELFlBQVkscUZBQXFGLFFBQVEsMkVBQTJFLFlBQVksaUZBQWlGLFlBQVksNEdBQTRHLFNBQVMsa0JBQXdOLGdEQUFnRCxnQkFBZ0Isa0NBQWtDLE1BQU0sc0RBQUMsRUFBRSxlQUFlLDZCQUE2QixXQUFXLG1CQUFtQixRQUFRLDBEQUEwRCxtQkFBbUIsaUNBQWlDLGdCQUFnQixPQUFPLG9DQUFvQyxpRUFBaUUsUUFBUSxjQUFjLFdBQVcsZ0JBQWdCLDhDQUE4QyxjQUFjLFVBQVUscUNBQXFDLGlDQUFpQyxrQkFBa0IsY0FBYyxzQkFBc0IseUJBQXlCLE9BQU8sb0JBQW9CLGVBQWUscUNBQXFDLElBQUksZ0JBQWdCLHFCQUFxQiw0QkFBNEIsU0FBUywyQkFBMkIsa0JBQWtCLGtEQUFrRCxRQUFRLEdBQUcsR0FBRyxlQUFlLGdCQUFnQixxQ0FBcUMsV0FBVyw0QkFBNEIsU0FBUyx5QkFBeUIsZUFBZSxpQkFBaUIsV0FBVyxVQUFVLHVEQUF1RCx5QkFBeUIsUUFBUSxvR0FBb0csdURBQXVELHlCQUF5QixnQkFBZ0IsZ0JBQWdCLDRCQUE0QixHQUFHLE9BQU8sNENBQTRDLHVCQUF1QixzQ0FBc0MsaUJBQWlCLElBQUksRUFBRSw0QkFBNEIsZUFBZSxTQUFTLGtHQUFrRyxRQUFRLE9BQU8sNEJBQTRCLElBQUksd0JBQXdCLG9DQUFvQyxxQkFBcUIsRUFBRSxnQkFBZ0Isa0JBQWtCLElBQUkseUJBQXlCLHVDQUF1QyxzQkFBc0IsRUFBRSxnQkFBZ0IsbUJBQW1CLElBQUksMENBQTBDLFlBQVksK0JBQStCLGdEQUFnRCxpREFBaUQsUUFBUSxrQkFBa0IsaUJBQWlCLElBQUkseUJBQXlCLDZDQUE2QyxlQUFlLEVBQUUsY0FBYyxxQkFBcUIsSUFBSSx5QkFBeUIsaURBQWlELGVBQWUsRUFBRSxtQkFBbUIsaUJBQWlCLElBQUksZ0JBQWdCLFlBQVksSUFBSSxzQkFBc0IsUUFBUSxFQUFFLFFBQVEscUJBQXFCLElBQUksZ0JBQWdCLHdDQUF3QyxRQUFRLEVBQUUsbUJBQW1CLGFBQXlDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYXR0YWNrLWNhcGl0YWwtdGFzay8uL25vZGVfbW9kdWxlcy9iZXR0ZXItYXV0aC9kaXN0L2FkYXB0ZXJzL3ByaXNtYS5qcz84MDUyIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydHt6IGFzIHN9ZnJvbVwiem9kXCI7dmFyIFY9cy5vYmplY3Qoe2lkOnMuc3RyaW5nKCkscHJvdmlkZXJJZDpzLnN0cmluZygpLGFjY291bnRJZDpzLnN0cmluZygpLHVzZXJJZDpzLnN0cmluZygpLGFjY2Vzc1Rva2VuOnMuc3RyaW5nKCkubnVsbGlzaCgpLHJlZnJlc2hUb2tlbjpzLnN0cmluZygpLm51bGxpc2goKSxpZFRva2VuOnMuc3RyaW5nKCkubnVsbGlzaCgpLGV4cGlyZXNBdDpzLmRhdGUoKS5udWxsaXNoKCkscGFzc3dvcmQ6cy5zdHJpbmcoKS5udWxsaXNoKCl9KSxMPXMub2JqZWN0KHtpZDpzLnN0cmluZygpLGVtYWlsOnMuc3RyaW5nKCkudHJhbnNmb3JtKGU9PmUudG9Mb3dlckNhc2UoKSksZW1haWxWZXJpZmllZDpzLmJvb2xlYW4oKS5kZWZhdWx0KCExKSxuYW1lOnMuc3RyaW5nKCksaW1hZ2U6cy5zdHJpbmcoKS5udWxsaXNoKCksY3JlYXRlZEF0OnMuZGF0ZSgpLmRlZmF1bHQobmV3IERhdGUpLHVwZGF0ZWRBdDpzLmRhdGUoKS5kZWZhdWx0KG5ldyBEYXRlKX0pLEM9cy5vYmplY3Qoe2lkOnMuc3RyaW5nKCksdXNlcklkOnMuc3RyaW5nKCksZXhwaXJlc0F0OnMuZGF0ZSgpLGlwQWRkcmVzczpzLnN0cmluZygpLm51bGxpc2goKSx1c2VyQWdlbnQ6cy5zdHJpbmcoKS5udWxsaXNoKCl9KSxVPXMub2JqZWN0KHtpZDpzLnN0cmluZygpLHZhbHVlOnMuc3RyaW5nKCksY3JlYXRlZEF0OnMuZGF0ZSgpLGV4cGlyZXNBdDpzLmRhdGUoKSxpZGVudGlmaWVyOnMuc3RyaW5nKCl9KTtpbXBvcnR7bmFub2lkIGFzIEV9ZnJvbVwibmFub2lkXCI7dmFyIGI9T2JqZWN0LmNyZWF0ZShudWxsKSxBPWU9Pmdsb2JhbFRoaXMucHJvY2Vzcz8uZW52fHxnbG9iYWxUaGlzLkRlbm8/LmVudi50b09iamVjdCgpfHxnbG9iYWxUaGlzLl9fZW52X198fChlP2I6Z2xvYmFsVGhpcyksRj1uZXcgUHJveHkoYix7Z2V0KGUsZCl7cmV0dXJuIEEoKVtkXT8/YltkXX0saGFzKGUsZCl7bGV0IHU9QSgpO3JldHVybiBkIGluIHV8fGQgaW4gYn0sc2V0KGUsZCx1KXtsZXQgbD1BKCEwKTtyZXR1cm4gbFtkXT11LCEwfSxkZWxldGVQcm9wZXJ0eShlLGQpe2lmKCFkKXJldHVybiExO2xldCB1PUEoITApO3JldHVybiBkZWxldGUgdVtkXSwhMH0sb3duS2V5cygpe2xldCBlPUEoITApO3JldHVybiBPYmplY3Qua2V5cyhlKX19KTtmdW5jdGlvbiBPKGUpe3JldHVybiBlP2UhPT1cImZhbHNlXCI6ITF9dmFyIEk9dHlwZW9mIHByb2Nlc3M8XCJ1XCImJnByb2Nlc3MuZW52JiZwcm9jZXNzLmVudi5OT0RFX0VOVnx8XCJcIjt2YXIgaz1JPT09XCJ0ZXN0XCJ8fE8oRi5URVNUKTt2YXIgdz1lPT57bGV0IGQ9ZS5wbHVnaW5zPy5yZWR1Y2UoKG4sZik9PntsZXQgYT1mLnNjaGVtYTtpZighYSlyZXR1cm4gbjtmb3IobGV0W3Qsb11vZiBPYmplY3QuZW50cmllcyhhKSluW3RdPXtmaWVsZHM6ey4uLm5bdF0/LmZpZWxkcywuLi5vLmZpZWxkc30sbW9kZWxOYW1lOm8ubW9kZWxOYW1lfHx0fTtyZXR1cm4gbn0se30pLHU9ZS5yYXRlTGltaXQ/LnN0b3JhZ2U9PT1cImRhdGFiYXNlXCIsbD17cmF0ZUxpbWl0Onttb2RlbE5hbWU6ZS5yYXRlTGltaXQ/Lm1vZGVsTmFtZXx8XCJyYXRlTGltaXRcIixmaWVsZHM6e2tleTp7dHlwZTpcInN0cmluZ1wiLGZpZWxkTmFtZTplLnJhdGVMaW1pdD8uZmllbGRzPy5rZXl8fFwia2V5XCJ9LGNvdW50Ont0eXBlOlwibnVtYmVyXCIsZmllbGROYW1lOmUucmF0ZUxpbWl0Py5maWVsZHM/LmNvdW50fHxcImNvdW50XCJ9LGxhc3RSZXF1ZXN0Ont0eXBlOlwibnVtYmVyXCIsZmllbGROYW1lOmUucmF0ZUxpbWl0Py5maWVsZHM/Lmxhc3RSZXF1ZXN0fHxcImxhc3RSZXF1ZXN0XCJ9fX19LHt1c2VyOmMsc2Vzc2lvbjptLGFjY291bnQ6cCwuLi5pfT1kfHx7fTtyZXR1cm57dXNlcjp7bW9kZWxOYW1lOmUudXNlcj8ubW9kZWxOYW1lfHxcInVzZXJcIixmaWVsZHM6e25hbWU6e3R5cGU6XCJzdHJpbmdcIixyZXF1aXJlZDohMCxmaWVsZE5hbWU6ZS51c2VyPy5maWVsZHM/Lm5hbWV8fFwibmFtZVwifSxlbWFpbDp7dHlwZTpcInN0cmluZ1wiLHVuaXF1ZTohMCxyZXF1aXJlZDohMCxmaWVsZE5hbWU6ZS51c2VyPy5maWVsZHM/LmVtYWlsfHxcImVtYWlsXCJ9LGVtYWlsVmVyaWZpZWQ6e3R5cGU6XCJib29sZWFuXCIsZGVmYXVsdFZhbHVlOigpPT4hMSxyZXF1aXJlZDohMCxmaWVsZE5hbWU6ZS51c2VyPy5maWVsZHM/LmVtYWlsVmVyaWZpZWR8fFwiZW1haWxWZXJpZmllZFwifSxpbWFnZTp7dHlwZTpcInN0cmluZ1wiLHJlcXVpcmVkOiExLGZpZWxkTmFtZTplLnVzZXI/LmZpZWxkcz8uaW1hZ2V8fFwiaW1hZ2VcIn0sY3JlYXRlZEF0Ont0eXBlOlwiZGF0ZVwiLGRlZmF1bHRWYWx1ZTooKT0+bmV3IERhdGUscmVxdWlyZWQ6ITAsZmllbGROYW1lOmUudXNlcj8uZmllbGRzPy5jcmVhdGVkQXR8fFwiY3JlYXRlZEF0XCJ9LHVwZGF0ZWRBdDp7dHlwZTpcImRhdGVcIixkZWZhdWx0VmFsdWU6KCk9Pm5ldyBEYXRlLHJlcXVpcmVkOiEwLGZpZWxkTmFtZTplLnVzZXI/LmZpZWxkcz8udXBkYXRlZEF0fHxcInVwZGF0ZWRBdFwifSwuLi5jPy5maWVsZHMsLi4uZS51c2VyPy5hZGRpdGlvbmFsRmllbGRzfSxvcmRlcjoxfSxzZXNzaW9uOnttb2RlbE5hbWU6ZS5zZXNzaW9uPy5tb2RlbE5hbWV8fFwic2Vzc2lvblwiLGZpZWxkczp7ZXhwaXJlc0F0Ont0eXBlOlwiZGF0ZVwiLHJlcXVpcmVkOiEwLGZpZWxkTmFtZTplLnNlc3Npb24/LmZpZWxkcz8uZXhwaXJlc0F0fHxcImV4cGlyZXNBdFwifSxpcEFkZHJlc3M6e3R5cGU6XCJzdHJpbmdcIixyZXF1aXJlZDohMSxmaWVsZE5hbWU6ZS5zZXNzaW9uPy5maWVsZHM/LmlwQWRkcmVzc3x8XCJpcEFkZHJlc3NcIn0sdXNlckFnZW50Ont0eXBlOlwic3RyaW5nXCIscmVxdWlyZWQ6ITEsZmllbGROYW1lOmUuc2Vzc2lvbj8uZmllbGRzPy51c2VyQWdlbnR8fFwidXNlckFnZW50XCJ9LHVzZXJJZDp7dHlwZTpcInN0cmluZ1wiLGZpZWxkTmFtZTplLnNlc3Npb24/LmZpZWxkcz8udXNlcklkfHxcInVzZXJJZFwiLHJlZmVyZW5jZXM6e21vZGVsOmUudXNlcj8ubW9kZWxOYW1lfHxcInVzZXJcIixmaWVsZDpcImlkXCIsb25EZWxldGU6XCJjYXNjYWRlXCJ9LHJlcXVpcmVkOiEwfSwuLi5tPy5maWVsZHMsLi4uZS5zZXNzaW9uPy5hZGRpdGlvbmFsRmllbGRzfSxvcmRlcjoyfSxhY2NvdW50Onttb2RlbE5hbWU6ZS5hY2NvdW50Py5tb2RlbE5hbWV8fFwiYWNjb3VudFwiLGZpZWxkczp7YWNjb3VudElkOnt0eXBlOlwic3RyaW5nXCIscmVxdWlyZWQ6ITAsZmllbGROYW1lOmUuYWNjb3VudD8uZmllbGRzPy5hY2NvdW50SWR8fFwiYWNjb3VudElkXCJ9LHByb3ZpZGVySWQ6e3R5cGU6XCJzdHJpbmdcIixyZXF1aXJlZDohMCxmaWVsZE5hbWU6ZS5hY2NvdW50Py5maWVsZHM/LnByb3ZpZGVySWR8fFwicHJvdmlkZXJJZFwifSx1c2VySWQ6e3R5cGU6XCJzdHJpbmdcIixyZWZlcmVuY2VzOnttb2RlbDplLnVzZXI/Lm1vZGVsTmFtZXx8XCJ1c2VyXCIsZmllbGQ6XCJpZFwiLG9uRGVsZXRlOlwiY2FzY2FkZVwifSxyZXF1aXJlZDohMCxmaWVsZE5hbWU6ZS5hY2NvdW50Py5maWVsZHM/LnVzZXJJZHx8XCJ1c2VySWRcIn0sYWNjZXNzVG9rZW46e3R5cGU6XCJzdHJpbmdcIixyZXF1aXJlZDohMSxmaWVsZE5hbWU6ZS5hY2NvdW50Py5maWVsZHM/LmFjY2Vzc1Rva2VufHxcImFjY2Vzc1Rva2VuXCJ9LHJlZnJlc2hUb2tlbjp7dHlwZTpcInN0cmluZ1wiLHJlcXVpcmVkOiExLGZpZWxkTmFtZTplLmFjY291bnQ/LmZpZWxkcz8ucmVmcmVzaFRva2VufHxcInJlZnJlc2hUb2tlblwifSxpZFRva2VuOnt0eXBlOlwic3RyaW5nXCIscmVxdWlyZWQ6ITEsZmllbGROYW1lOmUuYWNjb3VudD8uZmllbGRzPy5pZFRva2VufHxcImlkVG9rZW5cIn0sZXhwaXJlc0F0Ont0eXBlOlwiZGF0ZVwiLHJlcXVpcmVkOiExLGZpZWxkTmFtZTplLmFjY291bnQ/LmZpZWxkcz8uZXhwaXJlc0F0fHxcImV4cGlyZXNBdFwifSxwYXNzd29yZDp7dHlwZTpcInN0cmluZ1wiLHJlcXVpcmVkOiExLGZpZWxkTmFtZTplLmFjY291bnQ/LmZpZWxkcz8ucGFzc3dvcmR8fFwicGFzc3dvcmRcIn0sLi4ucD8uZmllbGRzfSxvcmRlcjozfSx2ZXJpZmljYXRpb246e21vZGVsTmFtZTplLnZlcmlmaWNhdGlvbj8ubW9kZWxOYW1lfHxcInZlcmlmaWNhdGlvblwiLGZpZWxkczp7aWRlbnRpZmllcjp7dHlwZTpcInN0cmluZ1wiLHJlcXVpcmVkOiEwLGZpZWxkTmFtZTplLnZlcmlmaWNhdGlvbj8uZmllbGRzPy5pZGVudGlmaWVyfHxcImlkZW50aWZpZXJcIn0sdmFsdWU6e3R5cGU6XCJzdHJpbmdcIixyZXF1aXJlZDohMCxmaWVsZE5hbWU6ZS52ZXJpZmljYXRpb24/LmZpZWxkcz8udmFsdWV8fFwidmFsdWVcIn0sZXhwaXJlc0F0Ont0eXBlOlwiZGF0ZVwiLHJlcXVpcmVkOiEwLGZpZWxkTmFtZTplLnZlcmlmaWNhdGlvbj8uZmllbGRzPy5leHBpcmVzQXR8fFwiZXhwaXJlc0F0XCJ9LGNyZWF0ZWRBdDp7dHlwZTpcImRhdGVcIixyZXF1aXJlZDohMSxkZWZhdWx0VmFsdWU6KCk9Pm5ldyBEYXRlLGZpZWxkTmFtZTplLnZlcmlmaWNhdGlvbj8uZmllbGRzPy5jcmVhdGVkQXR8fFwiY3JlYXRlZEF0XCJ9fSxvcmRlcjo0fSwuLi5pLC4uLnU/bDp7fX19O2ltcG9ydHt6IGFzIGZlfWZyb21cInpvZFwiO2ltcG9ydHtLeXNlbHkgYXMgZ2UsTXNzcWxEaWFsZWN0IGFzIGhlfWZyb21cImt5c2VseVwiO2ltcG9ydHtNeXNxbERpYWxlY3QgYXMgYmUsUG9zdGdyZXNEaWFsZWN0IGFzIHdlLFNxbGl0ZURpYWxlY3QgYXMgeGV9ZnJvbVwia3lzZWx5XCI7aW1wb3J0e2NyZWF0ZUNvbnNvbGEgYXMgcX1mcm9tXCJjb25zb2xhXCI7dmFyIHg9W1wiaW5mb1wiLFwic3VjY2Vzc1wiLFwid2FyblwiLFwiZXJyb3JcIixcImRlYnVnXCJdO2Z1bmN0aW9uIFMoZSxkKXtyZXR1cm4geC5pbmRleE9mKGQpPD14LmluZGV4T2YoZSl9dmFyIEQ9cSh7Zm9ybWF0T3B0aW9uczp7ZGF0ZTohMSxjb2xvcnM6ITAsY29tcGFjdDohMH0sZGVmYXVsdHM6e3RhZzpcIkJldHRlciBBdXRoXCJ9fSksdj1lPT57bGV0IGQ9ZT8uZGlzYWJsZWQhPT0hMCx1PWU/LmxldmVsPz9cImVycm9yXCIsbD0oYyxtLHA9W10pPT57aWYoISghZHx8IVModSxjKSkpe2lmKCFlfHx0eXBlb2YgZS5sb2chPVwiZnVuY3Rpb25cIil7RFtjXShcIlwiLG0sLi4ucCk7cmV0dXJufWUubG9nKGM9PT1cInN1Y2Nlc3NcIj9cImluZm9cIjpjLG0scCl9fTtyZXR1cm4gT2JqZWN0LmZyb21FbnRyaWVzKHgubWFwKGM9PltjLCguLi5bbSwuLi5wXSk9PmwoYyxtLHApXSkpfSxDZT12KCk7dmFyIFI9KGUsZCk9PntsZXQgdT13KGQpO2Z1bmN0aW9uIGwoaSxuKXtyZXR1cm4gbj09PVwiaWRcIj9uOnVbaV0uZmllbGRzW25dLmZpZWxkTmFtZXx8bn1mdW5jdGlvbiBjKGkpe3N3aXRjaChpKXtjYXNlXCJzdGFydHNfd2l0aFwiOnJldHVyblwic3RhcnRzV2l0aFwiO2Nhc2VcImVuZHNfd2l0aFwiOnJldHVyblwiZW5kc1dpdGhcIjtkZWZhdWx0OnJldHVybiBpfX1mdW5jdGlvbiBtKGkpe3JldHVybiB1W2ldLm1vZGVsTmFtZX1sZXQgcD1lPy5nZW5lcmF0ZUlkIT09ITE7cmV0dXJue3RyYW5zZm9ybUlucHV0KGksbil7bGV0IGY9aS5pZCYmcD97aWQ6ZT8uZ2VuZXJhdGVJZD9lLmdlbmVyYXRlSWQoKTppLmlkfTp7fTtmb3IobGV0IGEgaW4gaSl7bGV0IHQ9dVtuXS5maWVsZHNbYV07dCYmKGZbdC5maWVsZE5hbWV8fGFdPWlbYV0pfXJldHVybiBmfSx0cmFuc2Zvcm1PdXRwdXQoaSxuLGY9W10pe2lmKCFpKXJldHVybiBudWxsO2xldCBhPWkuaWR8fGkuX2lkP2YubGVuZ3RoPT09MHx8Zi5pbmNsdWRlcyhcImlkXCIpP3tpZDppLmlkfTp7fTp7fSx0PXVbbl0uZmllbGRzO2ZvcihsZXQgbyBpbiB0KXtpZihmLmxlbmd0aCYmIWYuaW5jbHVkZXMobykpY29udGludWU7bGV0IHI9dFtvXTtyJiYoYVtvXT1pW3IuZmllbGROYW1lfHxvXSl9cmV0dXJuIGF9LGNvbnZlcnRXaGVyZUNsYXVzZShpLG4pe2lmKCFuKXJldHVybnt9O2lmKG4ubGVuZ3RoPT09MSl7bGV0IHI9blswXTtyZXR1cm4gcj97W2woaSxyLmZpZWxkKV06ci5vcGVyYXRvcj09PVwiZXFcInx8IXIub3BlcmF0b3I/ci52YWx1ZTp7W2Moci5vcGVyYXRvcildOnIudmFsdWV9fTp2b2lkIDB9bGV0IGY9bi5maWx0ZXIocj0+ci5jb25uZWN0b3I9PT1cIkFORFwifHwhci5jb25uZWN0b3IpLGE9bi5maWx0ZXIocj0+ci5jb25uZWN0b3I9PT1cIk9SXCIpLHQ9Zi5tYXAocj0+KHtbbChpLHIuZmllbGQpXTpyLm9wZXJhdG9yPT09XCJlcVwifHwhci5vcGVyYXRvcj9yLnZhbHVlOntbYyhyLm9wZXJhdG9yKV06ci52YWx1ZX19KSksbz1hLm1hcChyPT4oe1tsKGksci5maWVsZCldOntbci5vcGVyYXRvcnx8XCJlcVwiXTpyLnZhbHVlfX0pKTtyZXR1cm57QU5EOnQubGVuZ3RoP3Q6dm9pZCAwLE9SOm8ubGVuZ3RoP286dm9pZCAwfX0sY29udmVydFNlbGVjdDooaSxuKT0+e2lmKCEoIWl8fCFuKSlyZXR1cm4gaS5yZWR1Y2UoKGYsYSk9Pih7Li4uZixbbChuLGEpXTohMH0pLHt9KX0sZ2V0TW9kZWxOYW1lOm0sZ2V0RmllbGQ6bH19LG50PShlLGQpPT51PT57bGV0IGw9ZSx7dHJhbnNmb3JtSW5wdXQ6Yyx0cmFuc2Zvcm1PdXRwdXQ6bSxjb252ZXJ0V2hlcmVDbGF1c2U6cCxjb252ZXJ0U2VsZWN0OmksZ2V0TW9kZWxOYW1lOm4sZ2V0RmllbGQ6Zn09UihkLHUpO3JldHVybntpZDpcInByaXNtYVwiLGFzeW5jIGNyZWF0ZShhKXtsZXR7bW9kZWw6dCxkYXRhOm8sc2VsZWN0OnJ9PWEseT1jKG8sdCksZz1hd2FpdCBsW24odCldLmNyZWF0ZSh7ZGF0YTp5LHNlbGVjdDppKHIsdCl9KTtyZXR1cm4gbShnLHQscil9LGFzeW5jIGZpbmRPbmUoYSl7bGV0e21vZGVsOnQsd2hlcmU6byxzZWxlY3Q6cn09YSx5PXAodCxvKSxnPWF3YWl0IGxbbih0KV0uZmluZEZpcnN0KHt3aGVyZTp5LHNlbGVjdDppKHIsdCl9KTtyZXR1cm4gbShnLHQscil9LGFzeW5jIGZpbmRNYW55KGEpe2xldHttb2RlbDp0LHdoZXJlOm8sbGltaXQ6cixvZmZzZXQ6eSxzb3J0Qnk6Z309YSxoPXAodCxvKTtyZXR1cm4oYXdhaXQgbFtuKHQpXS5maW5kTWFueSh7d2hlcmU6aCx0YWtlOnJ8fDEwMCxza2lwOnl8fDAsb3JkZXJCeTpnPy5maWVsZD97W2YodCxnLmZpZWxkKV06Zy5kaXJlY3Rpb249PT1cImRlc2NcIj9cImRlc2NcIjpcImFzY1wifTp2b2lkIDB9KSkubWFwKFQ9Pm0oVCx0KSl9LGFzeW5jIHVwZGF0ZShhKXtsZXR7bW9kZWw6dCx3aGVyZTpvLHVwZGF0ZTpyfT1hLHk9cCh0LG8pLGc9YyhyLHQpLGg9YXdhaXQgbFtuKHQpXS51cGRhdGUoe3doZXJlOnksZGF0YTpnfSk7cmV0dXJuIG0oaCx0KX0sYXN5bmMgdXBkYXRlTWFueShhKXtsZXR7bW9kZWw6dCx3aGVyZTpvLHVwZGF0ZTpyfT1hLHk9cCh0LG8pLGc9YyhyLHQpLGg9YXdhaXQgbFtuKHQpXS51cGRhdGVNYW55KHt3aGVyZTp5LGRhdGE6Z30pO3JldHVybiBoP2guY291bnQ6MH0sYXN5bmMgZGVsZXRlKGEpe2xldHttb2RlbDp0LHdoZXJlOm99PWEscj1wKHQsbyk7dHJ5e2F3YWl0IGxbbih0KV0uZGVsZXRlKHt3aGVyZTpyfSl9Y2F0Y2h7fX0sYXN5bmMgZGVsZXRlTWFueShhKXtsZXR7bW9kZWw6dCx3aGVyZTpvfT1hLHI9cCh0LG8pLHk9YXdhaXQgbFtuKHQpXS5kZWxldGVNYW55KHt3aGVyZTpyfSk7cmV0dXJuIHk/eS5jb3VudDowfSxvcHRpb25zOmR9fTtleHBvcnR7bnQgYXMgcHJpc21hQWRhcHRlcn07XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/better-auth/dist/adapters/prisma.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/better-auth/dist/index.js":
/*!************************************************!*\
  !*** ./node_modules/better-auth/dist/index.js ***!
  \************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   BetterAuthError: () => (/* binding */ O),\n/* harmony export */   HIDE_METADATA: () => (/* binding */ z),\n/* harmony export */   MissingDependencyError: () => (/* binding */ Le),\n/* harmony export */   betterAuth: () => (/* binding */ ec),\n/* harmony export */   capitalizeFirstLetter: () => (/* binding */ Tn),\n/* harmony export */   createCookieGetter: () => (/* binding */ ge),\n/* harmony export */   createLogger: () => (/* binding */ ie),\n/* harmony export */   deleteSessionCookie: () => (/* binding */ q),\n/* harmony export */   generateId: () => (/* binding */ B),\n/* harmony export */   generateState: () => (/* binding */ ne),\n/* harmony export */   getCookies: () => (/* binding */ De),\n/* harmony export */   levels: () => (/* binding */ ye),\n/* harmony export */   logger: () => (/* binding */ L),\n/* harmony export */   parseCookies: () => (/* binding */ Ro),\n/* harmony export */   parseSetCookieHeader: () => (/* binding */ mo),\n/* harmony export */   parseState: () => (/* binding */ $e),\n/* harmony export */   setSessionCookie: () => (/* binding */ I),\n/* harmony export */   shouldPublishLog: () => (/* binding */ gr)\n/* harmony export */ });\n/* harmony import */ var better_call__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! better-call */ \"(rsc)/./node_modules/better-call/dist/index.js\");\n/* harmony import */ var zod__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! zod */ \"(rsc)/./node_modules/zod/v3/types.js\");\n/* harmony import */ var oslo__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! oslo */ \"(rsc)/./node_modules/oslo/dist/index.js\");\n/* harmony import */ var oslo_encoding__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! oslo/encoding */ \"(rsc)/./node_modules/oslo/dist/encoding/index.js\");\n/* harmony import */ var oslo_crypto__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! oslo/crypto */ \"(rsc)/./node_modules/oslo/dist/crypto/index.js\");\n/* harmony import */ var _better_fetch_fetch__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @better-fetch/fetch */ \"(rsc)/./node_modules/@better-fetch/fetch/dist/index.js\");\n/* harmony import */ var jose__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! jose */ \"(rsc)/./node_modules/jose/dist/node/esm/util/decode_protected_header.js\");\n/* harmony import */ var jose__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! jose */ \"(rsc)/./node_modules/jose/dist/node/esm/jwt/verify.js\");\n/* harmony import */ var jose__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! jose */ \"(rsc)/./node_modules/jose/dist/node/esm/key/import.js\");\n/* harmony import */ var oslo_jwt__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! oslo/jwt */ \"(rsc)/./node_modules/oslo/dist/jwt/index.js\");\n/* harmony import */ var oslo_oauth2__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! oslo/oauth2 */ \"(rsc)/./node_modules/oslo/dist/oauth2/index.js\");\n/* harmony import */ var consola__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! consola */ \"(rsc)/./node_modules/consola/dist/index.mjs\");\n/* harmony import */ var nanoid__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! nanoid */ \"(rsc)/./node_modules/nanoid/index.js\");\n/* harmony import */ var defu__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! defu */ \"(rsc)/./node_modules/defu/dist/defu.mjs\");\n/* harmony import */ var _noble_hashes_scrypt__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! @noble/hashes/scrypt */ \"(rsc)/./node_modules/@noble/hashes/esm/scrypt.js\");\n/* harmony import */ var uncrypto__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! uncrypto */ \"(rsc)/./node_modules/uncrypto/dist/crypto.node.mjs\");\n/* harmony import */ var kysely__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! kysely */ \"(rsc)/./node_modules/kysely/dist/esm/dialect/mssql/mssql-dialect.js\");\n/* harmony import */ var kysely__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! kysely */ \"(rsc)/./node_modules/kysely/dist/esm/kysely.js\");\n/* harmony import */ var kysely__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! kysely */ \"(rsc)/./node_modules/kysely/dist/esm/dialect/sqlite/sqlite-dialect.js\");\n/* harmony import */ var kysely__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! kysely */ \"(rsc)/./node_modules/kysely/dist/esm/dialect/mysql/mysql-dialect.js\");\n/* harmony import */ var kysely__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! kysely */ \"(rsc)/./node_modules/kysely/dist/esm/dialect/postgres/postgres-dialect.js\");\nvar Oe=(0,better_call__WEBPACK_IMPORTED_MODULE_0__.createMiddleware)(async()=>({})),ee=(0,better_call__WEBPACK_IMPORTED_MODULE_0__.createMiddlewareCreator)({use:[Oe,(0,better_call__WEBPACK_IMPORTED_MODULE_0__.createMiddleware)(async()=>({}))]}),b=(0,better_call__WEBPACK_IMPORTED_MODULE_0__.createEndpointCreator)({use:[Oe]});var Se=ee(async e=>{if(e.request?.method!==\"POST\")return;let{body:t,query:r,context:o}=e,i=e.headers?.get(\"origin\")||e.headers?.get(\"referer\")||\"\",n=t?.callbackURL||r?.callbackURL,d=t?.redirectTo,u=r?.currentURL,s=o.trustedOrigins,a=e.headers?.has(\"cookie\"),c=(f,l)=>l.includes(\"*\")?new RegExp(\"^\"+l.replace(/\\*/g,\"[^/]+\").replace(/\\./g,\"\\\\.\")+\"$\").test(f):f.startsWith(l),m=(f,l)=>{if(!f)return;if(!s.some(g=>c(f,g)||f?.startsWith(\"/\")&&l!==\"origin\"&&!f.includes(\":\")))throw e.context.logger.error(`Invalid ${l}: ${f}`),e.context.logger.info(`If it's a valid URL, please add ${f} to trustedOrigins in your auth config\n`,`Current list of trustedOrigins: ${s}`),new better_call__WEBPACK_IMPORTED_MODULE_0__.APIError(\"FORBIDDEN\",{message:`Invalid ${l}`})};a&&!e.context.options.advanced?.disableCSRFCheck&&m(i,\"origin\"),n&&m(n,\"callbackURL\"),d&&m(d,\"redirectURL\"),u&&m(u,\"currentURL\")});function me(e,t){let r=new Uint8Array(e),o=new Uint8Array(t);if(r.length!==o.length)return!1;let i=0;for(let n=0;n<r.length;n++)i|=r[n]^o[n];return i===0}async function Qt({value:e,secret:t}){return new oslo_crypto__WEBPACK_IMPORTED_MODULE_3__.HMAC(\"SHA-256\").sign(new TextEncoder().encode(t),new TextEncoder().encode(e)).then(o=>Buffer.from(o).toString(\"base64\"))}function Wt({value:e,signature:t,secret:r}){return new oslo_crypto__WEBPACK_IMPORTED_MODULE_3__.HMAC(\"SHA-256\").verify(new TextEncoder().encode(r),Buffer.from(t,\"base64\"),new TextEncoder().encode(e))}var te={sign:Qt,verify:Wt};var O=class extends Error{constructor(t,r){super(t),this.name=\"BetterAuthError\",this.message=t,this.cause=r,this.stack=\"\"}},Le=class extends O{constructor(t){super(`The package \"${t}\" is required. Make sure it is installed.`,t)}};var S=(e,t=\"ms\")=>new Date(Date.now()+(t===\"sec\"?e*1e3:e));var re=Object.create(null),K=e=>globalThis.process?.env||globalThis.Deno?.env.toObject()||globalThis.__env__||(e?re:globalThis),_=new Proxy(re,{get(e,t){return K()[t]??re[t]},has(e,t){let r=K();return t in r||t in re},set(e,t,r){let o=K(!0);return o[t]=r,!0},deleteProperty(e,t){if(!t)return!1;let r=K(!0);return delete r[t],!0},ownKeys(){let e=K(!0);return Object.keys(e)}});function Zt(e){return e?e!==\"false\":!1}var oe=typeof process<\"u\"&&process.env&&\"development\"||\"\",Q=oe===\"production\",Ce=oe===\"dev\"||oe===\"development\",Be=oe===\"test\"||Zt(_.TEST);function mo(e){let t=new Map;return e.split(\", \").forEach(o=>{let i=o.split(\";\").map(m=>m.trim()),[n,...d]=i,[u,...s]=n.split(\"=\"),a=s.join(\"=\");if(!u||a===void 0){console.warn(`Malformed cookie: ${o}`);return}let c={value:a};d.forEach(m=>{let[f,...l]=m.split(\"=\"),p=l.join(\"=\"),g=f.trim().toLowerCase();switch(g){case\"max-age\":c[\"max-age\"]=p?parseInt(p.trim(),10):void 0;break;case\"expires\":c.expires=p?new Date(p.trim()):void 0;break;case\"domain\":c.domain=p?p.trim():void 0;break;case\"path\":c.path=p?p.trim():void 0;break;case\"secure\":c.secure=!0;break;case\"httponly\":c.httponly=!0;break;case\"samesite\":c.samesite=p?p.trim().toLowerCase():void 0;break;default:c[g]=p?p.trim():!0;break}}),t.set(u,c)}),t}function ge(e){let r=(e.advanced?.useSecureCookies!==void 0?e.advanced?.useSecureCookies:e.baseURL!==void 0?!!e.baseURL.startsWith(\"https://\"):Q)?\"__Secure-\":\"\",o=!!e.advanced?.crossSubDomainCookies?.enabled,i=o?e.advanced?.crossSubDomainCookies?.domain||(e.baseURL?new URL(e.baseURL).hostname:void 0):void 0;if(o&&!i)throw new O(\"baseURL is required when crossSubdomainCookies are enabled\");function n(d,u={}){let s=e.advanced?.cookiePrefix||\"better-auth\",a=e.advanced?.cookies?.[d]?.name||`${s}.${d}`,c=e.advanced?.cookies?.[d]?.attributes;return{name:`${r}${a}`,attributes:{secure:!!r,sameSite:\"lax\",path:\"/\",httpOnly:!0,...o?{domain:i}:{},...e.advanced?.defaultCookieAttributes,...u,...c}}}return n}function De(e){let t=ge(e),r=e.session?.expiresIn||new oslo__WEBPACK_IMPORTED_MODULE_1__.TimeSpan(7,\"d\").seconds(),o=t(\"session_token\",{maxAge:r}),i=t(\"session_data\",{maxAge:e.session?.cookieCache?.maxAge||60*5}),n=t(\"dont_remember\");return{sessionToken:{name:o.name,options:o.attributes},sessionData:{name:i.name,options:i.attributes},dontRememberToken:{name:n.name,options:n.attributes}}}async function I(e,t,r,o){let i=e.context.authCookies.sessionToken.options,n=r?void 0:e.context.sessionConfig.expiresIn;await e.setSignedCookie(e.context.authCookies.sessionToken.name,t.session.id,e.context.secret,{...i,maxAge:n,...o}),r&&await e.setSignedCookie(e.context.authCookies.dontRememberToken.name,\"true\",e.context.secret,e.context.authCookies.dontRememberToken.options),e.context.options.session?.cookieCache?.enabled&&e.setCookie(e.context.authCookies.sessionData.name,JSON.stringify(oslo_encoding__WEBPACK_IMPORTED_MODULE_2__.base64url.encode(new TextEncoder().encode(JSON.stringify({session:t,expiresAt:S(e.context.authCookies.sessionData.options.maxAge||60,\"sec\").getTime(),signature:await te.sign({value:JSON.stringify(t),secret:e.context.secret})})))),e.context.authCookies.sessionData.options),e.context.options.secondaryStorage&&await e.context.secondaryStorage?.set(t.session.id,JSON.stringify({user:t.user,session:t.session}),t.session.expiresAt.getTime()-Date.now())}function q(e){e.setCookie(e.context.authCookies.sessionToken.name,\"\",{...e.context.authCookies.sessionToken.options,maxAge:0}),e.setCookie(e.context.authCookies.sessionData.name,\"\",{...e.context.authCookies.sessionData.options,maxAge:0}),e.setCookie(e.context.authCookies.dontRememberToken.name,\"\",{...e.context.authCookies.dontRememberToken.options,maxAge:0})}function Ro(e){let t=e.split(\"; \"),r=new Map;return t.forEach(o=>{let[i,n]=o.split(\"=\");r.set(i,n)}),r}async function Ne(e){let t=await (0,oslo_crypto__WEBPACK_IMPORTED_MODULE_3__.sha256)(new TextEncoder().encode(e));return oslo_encoding__WEBPACK_IMPORTED_MODULE_2__.base64url.encode(new Uint8Array(t),{includePadding:!1})}function qe(e){return{tokenType:e.token_type,accessToken:e.access_token,refreshToken:e.refresh_token,accessTokenExpiresAt:e.expires_in?S(e.expires_in,\"sec\"):void 0,scopes:e?.scope?typeof e.scope==\"string\"?e.scope.split(\" \"):e.scope:[],idToken:e.id_token}}async function v({id:e,options:t,authorizationEndpoint:r,state:o,codeVerifier:i,scopes:n,claims:d,redirectURI:u}){let s=new URL(r);if(s.searchParams.set(\"response_type\",\"code\"),s.searchParams.set(\"client_id\",t.clientId),s.searchParams.set(\"state\",o),s.searchParams.set(\"scope\",n.join(\" \")),s.searchParams.set(\"redirect_uri\",t.redirectURI||u),i){let a=await Ne(i);s.searchParams.set(\"code_challenge_method\",\"S256\"),s.searchParams.set(\"code_challenge\",a)}if(d){let a=d.reduce((c,m)=>(c[m]=null,c),{});s.searchParams.set(\"claims\",JSON.stringify({id_token:{email:null,email_verified:null,...a}}))}return s}async function R({code:e,codeVerifier:t,redirectURI:r,options:o,tokenEndpoint:i,authentication:n}){let d=new URLSearchParams,u={\"content-type\":\"application/x-www-form-urlencoded\",accept:\"application/json\",\"user-agent\":\"better-auth\"};if(d.set(\"grant_type\",\"authorization_code\"),d.set(\"code\",e),t&&d.set(\"code_verifier\",t),d.set(\"redirect_uri\",r),n===\"basic\"){let m=btoa(`${o.clientId}:${o.clientSecret}`);u.authorization=`Basic ${m}`}else d.set(\"client_id\",o.clientId),d.set(\"client_secret\",o.clientSecret);let{data:s,error:a}=await (0,_better_fetch_fetch__WEBPACK_IMPORTED_MODULE_4__.betterFetch)(i,{method:\"POST\",body:d,headers:u});if(a)throw a;return qe(s)}function rr(e){try{return new URL(e).pathname!==\"/\"}catch{throw new O(`Invalid base URL: ${e}. Please provide a valid base URL.`)}}function he(e,t=\"/api/auth\"){return rr(e)?e:(t=t.startsWith(\"/\")?t:`/${t}`,`${e}${t}`)}function W(e,t){if(e)return he(e,t);let r=_.BETTER_AUTH_URL||_.NEXT_PUBLIC_BETTER_AUTH_URL||_.PUBLIC_BETTER_AUTH_URL||_.NUXT_PUBLIC_BETTER_AUTH_URL||_.NUXT_PUBLIC_AUTH_URL||(_.BASE_URL!==\"/\"?_.BASE_URL:void 0);if(r)return he(r,t);if(typeof window<\"u\"&&window.location)return he(window.location.origin,t)}function Ve(e){try{return new URL(e).origin}catch{return null}}async function ne(e,t){let r=e.body?.callbackURL||(e.query?.currentURL?Ve(e.query?.currentURL):\"\")||e.context.options.baseURL;if(!r)throw new better_call__WEBPACK_IMPORTED_MODULE_0__.APIError(\"BAD_REQUEST\",{message:\"callbackURL is required\"});let o=(0,oslo_oauth2__WEBPACK_IMPORTED_MODULE_6__.generateCodeVerifier)(),i=(0,oslo_oauth2__WEBPACK_IMPORTED_MODULE_6__.generateState)(),n=JSON.stringify({callbackURL:r,codeVerifier:o,errorURL:e.body?.errorCallbackURL||e.query?.currentURL,link:t,expiresAt:Date.now()+10*60*1e3}),d=new Date;d.setMinutes(d.getMinutes()+10);let u=await e.context.internalAdapter.createVerificationValue({value:n,identifier:i,expiresAt:d});if(!u)throw e.context.logger.error(\"Unable to create verification. Make sure the database adapter is properly working and there is a verification table in the database\"),new better_call__WEBPACK_IMPORTED_MODULE_0__.APIError(\"INTERNAL_SERVER_ERROR\",{message:\"Unable to create verification\"});return{state:u.identifier,codeVerifier:o}}async function $e(e){let t=e.query.state||e.body.state,r=await e.context.internalAdapter.findVerificationValue(t);if(!r)throw e.context.logger.error(\"State Mismatch. Verification not found\",{state:t}),e.redirect(`${e.context.baseURL}/error?error=please_restart_the_process`);let o=zod__WEBPACK_IMPORTED_MODULE_7__.object({callbackURL:zod__WEBPACK_IMPORTED_MODULE_7__.string(),codeVerifier:zod__WEBPACK_IMPORTED_MODULE_7__.string(),errorURL:zod__WEBPACK_IMPORTED_MODULE_7__.string().optional(),expiresAt:zod__WEBPACK_IMPORTED_MODULE_7__.number(),link:zod__WEBPACK_IMPORTED_MODULE_7__.object({email:zod__WEBPACK_IMPORTED_MODULE_7__.string(),userId:zod__WEBPACK_IMPORTED_MODULE_7__.string()}).optional()}).parse(JSON.parse(r.value));if(o.errorURL||(o.errorURL=`${e.context.baseURL}/error`),o.expiresAt<Date.now())throw await e.context.internalAdapter.deleteVerificationValue(r.id),e.context.logger.error(\"State expired.\",{state:t}),e.redirect(`${e.context.baseURL}/error?error=please_restart_the_process`);return await e.context.internalAdapter.deleteVerificationValue(r.id),o}var je=e=>{let t=\"https://appleid.apple.com/auth/token\";return{id:\"apple\",name:\"Apple\",createAuthorizationURL({state:r,scopes:o,redirectURI:i}){let n=o||[\"email\",\"name\"];return e.scope&&n.push(...e.scope),new URL(`https://appleid.apple.com/auth/authorize?client_id=${e.clientId}&response_type=code&redirect_uri=${i||e.redirectURI}&scope=${n.join(\" \")}&state=${r}&response_mode=form_post`)},validateAuthorizationCode:async({code:r,codeVerifier:o,redirectURI:i})=>R({code:r,codeVerifier:o,redirectURI:e.redirectURI||i,options:e,tokenEndpoint:t}),async verifyIdToken(r,o){if(e.disableIdTokenSignIn)return!1;if(e.verifyIdToken)return e.verifyIdToken(r,o);let i=(0,jose__WEBPACK_IMPORTED_MODULE_8__.decodeProtectedHeader)(r),{kid:n,alg:d}=i;if(!n||!d)return!1;let u=await lr(n),{payload:s}=await (0,jose__WEBPACK_IMPORTED_MODULE_9__.jwtVerify)(r,u,{algorithms:[d],issuer:\"https://appleid.apple.com\",audience:e.clientId,maxTokenAge:\"1h\"});return[\"email_verified\",\"is_private_email\"].forEach(a=>{s[a]!==void 0&&(s[a]=!!s[a])}),o&&s.nonce!==o?!1:!!s},async getUserInfo(r){if(!r.idToken)return null;let o=(0,oslo_jwt__WEBPACK_IMPORTED_MODULE_5__.parseJWT)(r.idToken)?.payload;if(!o)return null;let i=o.user?`${o.user.name.firstName} ${o.user.name.lastName}`:o.email;return{user:{id:o.sub,name:i,emailVerified:!1,email:o.email},data:o}}}},lr=async e=>{let t=\"https://appleid.apple.com\",r=\"/auth/keys\",{data:o}=await (0,_better_fetch_fetch__WEBPACK_IMPORTED_MODULE_4__.betterFetch)(`${t}${r}`);if(!o?.keys)throw new better_call__WEBPACK_IMPORTED_MODULE_0__.APIError(\"BAD_REQUEST\",{message:\"Keys not found\"});let i=o.keys.find(n=>n.kid===e);if(!i)throw new Error(`JWK with kid ${e} not found`);return await (0,jose__WEBPACK_IMPORTED_MODULE_10__.importJWK)(i,i.alg)};var ze=e=>({id:\"discord\",name:\"Discord\",createAuthorizationURL({state:t,scopes:r,redirectURI:o}){let i=r||[\"identify\",\"email\"];return e.scope&&i.push(...e.scope),new URL(`https://discord.com/api/oauth2/authorize?scope=${i.join(\"+\")}&response_type=code&client_id=${e.clientId}&redirect_uri=${encodeURIComponent(e.redirectURI||o)}&state=${t}`)},validateAuthorizationCode:async({code:t,redirectURI:r})=>R({code:t,redirectURI:e.redirectURI||r,options:e,tokenEndpoint:\"https://discord.com/api/oauth2/token\"}),async getUserInfo(t){let{data:r,error:o}=await (0,_better_fetch_fetch__WEBPACK_IMPORTED_MODULE_4__.betterFetch)(\"https://discord.com/api/users/@me\",{headers:{authorization:`Bearer ${t.accessToken}`}});if(o)return null;if(r.avatar===null){let i=r.discriminator===\"0\"?Number(BigInt(r.id)>>BigInt(22))%6:parseInt(r.discriminator)%5;r.image_url=`https://cdn.discordapp.com/embed/avatars/${i}.png`}else{let i=r.avatar.startsWith(\"a_\")?\"gif\":\"png\";r.image_url=`https://cdn.discordapp.com/avatars/${r.id}/${r.avatar}.${i}`}return{user:{id:r.id,name:r.display_name||r.username||\"\",email:r.email,emailVerified:r.verified,image:r.image_url},data:r}}});var Me=e=>({id:\"facebook\",name:\"Facebook\",async createAuthorizationURL({state:t,scopes:r,redirectURI:o}){let i=r||[\"email\",\"public_profile\"];return e.scope&&i.push(...e.scope),await v({id:\"facebook\",options:e,authorizationEndpoint:\"https://www.facebook.com/v21.0/dialog/oauth\",scopes:i,state:t,redirectURI:o})},validateAuthorizationCode:async({code:t,redirectURI:r})=>R({code:t,redirectURI:e.redirectURI||r,options:e,tokenEndpoint:\"https://graph.facebook.com/oauth/access_token\"}),async getUserInfo(t){let{data:r,error:o}=await (0,_better_fetch_fetch__WEBPACK_IMPORTED_MODULE_4__.betterFetch)(\"https://graph.facebook.com/me?fields=id,name,email,picture\",{auth:{type:\"Bearer\",token:t.accessToken}});return o?null:{user:{id:r.id,name:r.name,email:r.email,image:r.picture.data.url,emailVerified:r.email_verified},data:r}}});var Ge=e=>{let t=\"https://github.com/login/oauth/access_token\";return{id:\"github\",name:\"GitHub\",createAuthorizationURL({state:r,scopes:o,codeVerifier:i,redirectURI:n}){let d=o||[\"user:email\"];return e.scope&&d.push(...e.scope),v({id:\"github\",options:e,authorizationEndpoint:\"https://github.com/login/oauth/authorize\",scopes:d,state:r,redirectURI:n})},validateAuthorizationCode:async({code:r,redirectURI:o})=>R({code:r,redirectURI:e.redirectURI||o,options:e,tokenEndpoint:t}),async getUserInfo(r){let{data:o,error:i}=await (0,_better_fetch_fetch__WEBPACK_IMPORTED_MODULE_4__.betterFetch)(\"https://api.github.com/user\",{headers:{\"User-Agent\":\"better-auth\",authorization:`Bearer ${r.accessToken}`}});if(i)return null;let n=!1;if(!o.email){let{data:d,error:u}=await (0,_better_fetch_fetch__WEBPACK_IMPORTED_MODULE_4__.betterFetch)(\"https://api.github.com/user/emails\",{headers:{authorization:`Bearer ${r.accessToken}`,\"User-Agent\":\"better-auth\"}});u||(o.email=(d.find(s=>s.primary)??d[0])?.email,n=d.find(s=>s.email===o.email)?.verified??!1)}return{user:{id:o.id.toString(),name:o.name||o.login,email:o.email,image:o.avatar_url,emailVerified:n},data:o}}}};var ye=[\"info\",\"success\",\"warn\",\"error\",\"debug\"];function gr(e,t){return ye.indexOf(t)<=ye.indexOf(e)}var hr=(0,consola__WEBPACK_IMPORTED_MODULE_11__.createConsola)({formatOptions:{date:!1,colors:!0,compact:!0},defaults:{tag:\"Better Auth\"}}),ie=e=>{let t=e?.disabled!==!0,r=e?.level??\"error\",o=(i,n,d=[])=>{if(!(!t||!gr(r,i))){if(!e||typeof e.log!=\"function\"){hr[i](\"\",n,...d);return}e.log(i===\"success\"?\"info\":i,n,d)}};return Object.fromEntries(ye.map(i=>[i,(...[n,...d])=>o(i,n,d)]))},L=ie();var Ke=e=>({id:\"google\",name:\"Google\",async createAuthorizationURL({state:t,scopes:r,codeVerifier:o,redirectURI:i}){if(!e.clientId||!e.clientSecret)throw L.error(\"Client Id and Client Secret is required for Google. Make sure to provide them in the options.\"),new O(\"CLIENT_ID_AND_SECRET_REQUIRED\");if(!o)throw new O(\"codeVerifier is required for Google\");let n=r||[\"email\",\"profile\",\"openid\"];e.scope&&n.push(...e.scope);let d=await v({id:\"google\",options:e,authorizationEndpoint:\"https://accounts.google.com/o/oauth2/auth\",scopes:n,state:t,codeVerifier:o,redirectURI:i});return e.accessType&&d.searchParams.set(\"access_type\",e.accessType),e.prompt&&d.searchParams.set(\"prompt\",e.prompt),d},validateAuthorizationCode:async({code:t,codeVerifier:r,redirectURI:o})=>R({code:t,codeVerifier:r,redirectURI:e.redirectURI||o,options:e,tokenEndpoint:\"https://oauth2.googleapis.com/token\"}),async verifyIdToken(t,r){if(e.disableIdTokenSignIn)return!1;if(e.verifyIdToken)return e.verifyIdToken(t,r);let o=`https://www.googleapis.com/oauth2/v3/tokeninfo?id_token=${t}`,{data:i}=await (0,_better_fetch_fetch__WEBPACK_IMPORTED_MODULE_4__.betterFetch)(o);return i?i.aud===e.clientId&&i.iss===\"https://accounts.google.com\":!1},async getUserInfo(t){if(!t.idToken)return null;let r=(0,oslo_jwt__WEBPACK_IMPORTED_MODULE_5__.parseJWT)(t.idToken)?.payload;return{user:{id:r.sub,name:r.name,email:r.email,image:r.picture,emailVerified:r.email_verified},data:r}}});var Qe=e=>{let t=e.tenantId||\"common\",r=`https://login.microsoftonline.com/${t}/oauth2/v2.0/authorize`,o=`https://login.microsoftonline.com/${t}/oauth2/v2.0/token`;return{id:\"microsoft\",name:\"Microsoft EntraID\",createAuthorizationURL(i){let n=i.scopes||[\"openid\",\"profile\",\"email\",\"User.Read\"];return e.scope&&n.push(...e.scope),v({id:\"microsoft\",options:e,authorizationEndpoint:r,state:i.state,codeVerifier:i.codeVerifier,scopes:n,redirectURI:i.redirectURI})},validateAuthorizationCode({code:i,codeVerifier:n,redirectURI:d}){return R({code:i,codeVerifier:n,redirectURI:e.redirectURI||d,options:e,tokenEndpoint:o})},async getUserInfo(i){if(!i.idToken)return null;let n=(0,oslo_jwt__WEBPACK_IMPORTED_MODULE_5__.parseJWT)(i.idToken)?.payload,d=e.profilePhotoSize||48;return await (0,_better_fetch_fetch__WEBPACK_IMPORTED_MODULE_4__.betterFetch)(`https://graph.microsoft.com/v1.0/me/photos/${d}x${d}/$value`,{headers:{Authorization:`Bearer ${i.accessToken}`},async onResponse(u){if(!(e.disableProfilePhoto||!u.response.ok))try{let a=await u.response.clone().arrayBuffer(),c=Buffer.from(a).toString(\"base64\");n.picture=`data:image/jpeg;base64, ${c}`}catch(s){L.error(s&&typeof s==\"object\"&&\"name\"in s?s.name:\"\",s)}}}),{user:{id:n.sub,name:n.name,email:n.email,image:n.picture,emailVerified:!0},data:n}}}};var We=e=>({id:\"spotify\",name:\"Spotify\",createAuthorizationURL({state:t,scopes:r,codeVerifier:o,redirectURI:i}){let n=r||[\"user-read-email\"];return e.scope&&n.push(...e.scope),v({id:\"spotify\",options:e,authorizationEndpoint:\"https://accounts.spotify.com/authorize\",scopes:n,state:t,codeVerifier:o,redirectURI:i})},validateAuthorizationCode:async({code:t,codeVerifier:r,redirectURI:o})=>R({code:t,codeVerifier:r,redirectURI:e.redirectURI||o,options:e,tokenEndpoint:\"https://accounts.spotify.com/api/token\"}),async getUserInfo(t){let{data:r,error:o}=await (0,_better_fetch_fetch__WEBPACK_IMPORTED_MODULE_4__.betterFetch)(\"https://api.spotify.com/v1/me\",{method:\"GET\",headers:{Authorization:`Bearer ${t.accessToken}`}});return o?null:{user:{id:r.id,name:r.display_name,email:r.email,image:r.images[0]?.url,emailVerified:!1},data:r}}});function Tn(e){return e.charAt(0).toUpperCase()+e.slice(1)}var z={isAction:!1};var B=e=>(0,nanoid__WEBPACK_IMPORTED_MODULE_12__.nanoid)(e);var Ze=e=>({id:\"twitch\",name:\"Twitch\",createAuthorizationURL({state:t,scopes:r,redirectURI:o}){let i=r||[\"user:read:email\",\"openid\"];return e.scope&&i.push(...e.scope),v({id:\"twitch\",redirectURI:o,options:e,authorizationEndpoint:\"https://id.twitch.tv/oauth2/authorize\",scopes:i,state:t,claims:e.claims||[\"email\",\"email_verified\",\"preferred_username\",\"picture\"]})},validateAuthorizationCode:async({code:t,redirectURI:r})=>R({code:t,redirectURI:e.redirectURI||r,options:e,tokenEndpoint:\"https://id.twitch.tv/oauth2/token\"}),async getUserInfo(t){let r=t.idToken;if(!r)return L.error(\"No idToken found in token\"),null;let o=(0,oslo_jwt__WEBPACK_IMPORTED_MODULE_5__.parseJWT)(r)?.payload;return{user:{id:o.sub,name:o.preferred_username,email:o.email,image:o.picture,emailVerified:!1},data:o}}});var Je=e=>({id:\"twitter\",name:\"Twitter\",createAuthorizationURL(t){let r=t.scopes||[\"users.read\",\"tweet.read\",\"offline.access\"];return e.scope&&r.push(...e.scope),v({id:\"twitter\",options:e,authorizationEndpoint:\"https://x.com/i/oauth2/authorize\",scopes:r,state:t.state,codeVerifier:t.codeVerifier,redirectURI:t.redirectURI})},validateAuthorizationCode:async({code:t,codeVerifier:r,redirectURI:o})=>R({code:t,codeVerifier:r,authentication:\"basic\",redirectURI:e.redirectURI||o,options:e,tokenEndpoint:\"https://api.x.com/2/oauth2/token\"}),async getUserInfo(t){let{data:r,error:o}=await (0,_better_fetch_fetch__WEBPACK_IMPORTED_MODULE_4__.betterFetch)(\"https://api.x.com/2/users/me?user.fields=profile_image_url\",{method:\"GET\",headers:{Authorization:`Bearer ${t.accessToken}`}});return o?null:{user:{id:r.data.id,name:r.data.name,email:r.data.email||null,image:r.data.profile_image_url,emailVerified:r.data.verified||!1},data:r}}});var Ye=e=>{let t=\"https://api.dropboxapi.com/oauth2/token\";return{id:\"dropbox\",name:\"Dropbox\",createAuthorizationURL:async({state:r,scopes:o,codeVerifier:i,redirectURI:n})=>{let d=o||[\"account_info.read\"];return e.scope&&d.push(...e.scope),await v({id:\"dropbox\",options:e,authorizationEndpoint:\"https://www.dropbox.com/oauth2/authorize\",scopes:d,state:r,redirectURI:n,codeVerifier:i})},validateAuthorizationCode:async({code:r,codeVerifier:o,redirectURI:i})=>await R({code:r,codeVerifier:o,redirectURI:e.redirectURI||i,options:e,tokenEndpoint:t}),async getUserInfo(r){let{data:o,error:i}=await (0,_better_fetch_fetch__WEBPACK_IMPORTED_MODULE_4__.betterFetch)(\"https://api.dropboxapi.com/2/users/get_current_account\",{method:\"POST\",headers:{Authorization:`Bearer ${r.accessToken}`}});return i?null:{user:{id:o.account_id,name:o.name?.display_name,email:o.email,emailVerified:o.email_verified||!1,image:o.profile_photo_url},data:o}}}};var Xe=e=>{let t=\"https://www.linkedin.com/oauth/v2/authorization\",r=\"https://www.linkedin.com/oauth/v2/accessToken\";return{id:\"linkedin\",name:\"Linkedin\",createAuthorizationURL:async({state:o,scopes:i,redirectURI:n})=>{let d=i||[\"profile\",\"email\",\"openid\"];return e.scope&&d.push(...e.scope),await v({id:\"linkedin\",options:e,authorizationEndpoint:t,scopes:d,state:o,redirectURI:n})},validateAuthorizationCode:async({code:o,redirectURI:i})=>await R({code:o,redirectURI:e.redirectURI||i,options:e,tokenEndpoint:r}),async getUserInfo(o){let{data:i,error:n}=await (0,_better_fetch_fetch__WEBPACK_IMPORTED_MODULE_4__.betterFetch)(\"https://api.linkedin.com/v2/userinfo\",{method:\"GET\",headers:{Authorization:`Bearer ${o.accessToken}`}});return n?null:{user:{id:i.sub,name:i.name,email:i.email,emailVerified:i.email_verified||!1,image:i.picture},data:i}}}};var we=(e=\"\")=>e.split(\"://\").map(t=>t.replace(/\\/{2,}/g,\"/\")).join(\"://\"),Pr=e=>{let t=e||\"https://gitlab.com\";return{authorizationEndpoint:we(`${t}/oauth/authorize`),tokenEndpoint:we(`${t}/oauth/token`),userinfoEndpoint:we(`${t}/api/v4/user`)}},et=e=>{let{authorizationEndpoint:t,tokenEndpoint:r,userinfoEndpoint:o}=Pr(e.issuer),i=\"gitlab\";return{id:i,name:\"Gitlab\",createAuthorizationURL:async({state:d,scopes:u,codeVerifier:s,redirectURI:a})=>{let c=u||[\"read_user\"];return e.scope&&c.push(...e.scope),await v({id:i,options:e,authorizationEndpoint:t,scopes:c,state:d,redirectURI:a,codeVerifier:s})},validateAuthorizationCode:async({code:d,redirectURI:u,codeVerifier:s})=>R({code:d,redirectURI:e.redirectURI||u,options:e,codeVerifier:s,tokenEndpoint:r}),async getUserInfo(d){let{data:u,error:s}=await (0,_better_fetch_fetch__WEBPACK_IMPORTED_MODULE_4__.betterFetch)(o,{headers:{authorization:`Bearer ${d.accessToken}`}});return s||u.state!==\"active\"||u.locked?null:{user:{id:u.id.toString(),name:u.name??u.username,email:u.email,image:u.avatar_url,emailVerified:!0},data:u}}}};var be={apple:je,discord:ze,facebook:Me,github:Ge,microsoft:Qe,google:Ke,spotify:We,twitch:Ze,twitter:Je,dropbox:Ye,linkedin:Xe,gitlab:et},se=Object.keys(be);function M(e){try{return JSON.parse(e)}catch{return null}}var Ae=()=>b(\"/get-session\",{method:\"GET\",query:zod__WEBPACK_IMPORTED_MODULE_7__.optional(zod__WEBPACK_IMPORTED_MODULE_7__.object({disableCookieCache:zod__WEBPACK_IMPORTED_MODULE_7__.boolean().optional()})),requireHeaders:!0},async e=>{try{let t=await e.getSignedCookie(e.context.authCookies.sessionToken.name,e.context.secret);if(!t)return e.json(null);let r=e.getCookie(e.context.authCookies.sessionData.name),o=r?M(Buffer.from(r,\"base64\").toString()):null;if(o&&!await te.verify({value:JSON.stringify(o.session),signature:o?.signature,secret:e.context.secret}))return q(e),e.json(null);let i=await e.getSignedCookie(e.context.authCookies.dontRememberToken.name,e.context.secret);if(o?.session&&e.context.options.session?.cookieCache?.enabled&&!e.query?.disableCookieCache){let c=o.session;if(o.expiresAt<Date.now()||c.session.expiresAt<new Date){let f=e.context.authCookies.sessionData.name;e.setCookie(f,\"\",{maxAge:0})}else return e.json(c)}let n=await e.context.internalAdapter.findSession(t);if(!n||n.session.expiresAt<new Date)return q(e),n&&await e.context.internalAdapter.deleteSession(n.session.id),e.json(null);if(i)return e.json(n);let d=e.context.sessionConfig.expiresIn,u=e.context.sessionConfig.updateAge;if(n.session.expiresAt.valueOf()-d*1e3+u*1e3<=Date.now()){let c=await e.context.internalAdapter.updateSession(n.session.id,{expiresAt:S(e.context.sessionConfig.expiresIn,\"sec\")});if(!c)return q(e),e.json(null,{status:401});let m=(c.expiresAt.valueOf()-Date.now())/1e3;return await I(e,{session:c,user:n.user},!1,{maxAge:m}),e.json({session:c,user:n.user})}return e.json(n)}catch(t){throw e.context.logger.error(\"INTERNAL_SERVER_ERROR\",t),new better_call__WEBPACK_IMPORTED_MODULE_0__.APIError(\"INTERNAL_SERVER_ERROR\",{message:\"internal server error\"})}}),ae=async e=>{if(e.context.session)return e.context.session;let t=await Ae()({...e,_flag:\"json\",headers:e.headers});return e.context.session=t,t},C=ee(async e=>{let t=await ae(e);if(!t?.session)throw new better_call__WEBPACK_IMPORTED_MODULE_0__.APIError(\"UNAUTHORIZED\");return{session:t}}),tt=()=>b(\"/list-sessions\",{method:\"GET\",use:[C],requireHeaders:!0},async e=>{let r=(await e.context.internalAdapter.listSessions(e.context.session.user.id)).filter(o=>o.expiresAt>new Date);return e.json(r)}),rt=b(\"/revoke-session\",{method:\"POST\",body:zod__WEBPACK_IMPORTED_MODULE_7__.object({id:zod__WEBPACK_IMPORTED_MODULE_7__.string()}),use:[C],requireHeaders:!0},async e=>{let t=e.body.id,r=await e.context.internalAdapter.findSession(t);if(!r)throw new better_call__WEBPACK_IMPORTED_MODULE_0__.APIError(\"BAD_REQUEST\",{message:\"Session not found\"});if(r.session.userId!==e.context.session.user.id)throw new better_call__WEBPACK_IMPORTED_MODULE_0__.APIError(\"UNAUTHORIZED\");try{await e.context.internalAdapter.deleteSession(t)}catch(o){throw e.context.logger.error(o&&typeof o==\"object\"&&\"name\"in o?o.name:\"\",o),new better_call__WEBPACK_IMPORTED_MODULE_0__.APIError(\"INTERNAL_SERVER_ERROR\")}return e.json({status:!0})}),ot=b(\"/revoke-sessions\",{method:\"POST\",use:[C],requireHeaders:!0},async e=>{try{await e.context.internalAdapter.deleteSessions(e.context.session.user.id)}catch(t){throw e.context.logger.error(t&&typeof t==\"object\"&&\"name\"in t?t.name:\"\",t),new better_call__WEBPACK_IMPORTED_MODULE_0__.APIError(\"INTERNAL_SERVER_ERROR\")}return e.json({status:!0})}),nt=b(\"/revoke-other-sessions\",{method:\"POST\",requireHeaders:!0,use:[C]},async e=>{let t=e.context.session;if(!t.user)throw new better_call__WEBPACK_IMPORTED_MODULE_0__.APIError(\"UNAUTHORIZED\");let i=(await e.context.internalAdapter.listSessions(t.user.id)).filter(n=>n.expiresAt>new Date).filter(n=>n.id!==e.context.session.session.id);return await Promise.all(i.map(n=>e.context.internalAdapter.deleteSession(n.id))),e.json({status:!0})});async function V(e,t,r){return await (0,oslo_jwt__WEBPACK_IMPORTED_MODULE_5__.createJWT)(\"HS256\",Buffer.from(e),{email:t.toLowerCase(),updateTo:r},{expiresIn:new oslo__WEBPACK_IMPORTED_MODULE_1__.TimeSpan(1,\"h\"),issuer:\"better-auth\",subject:\"verify-email\",audiences:[t],includeIssuedTimestamp:!0})}var it=b(\"/send-verification-email\",{method:\"POST\",query:zod__WEBPACK_IMPORTED_MODULE_7__.object({currentURL:zod__WEBPACK_IMPORTED_MODULE_7__.string().optional()}).optional(),body:zod__WEBPACK_IMPORTED_MODULE_7__.object({email:zod__WEBPACK_IMPORTED_MODULE_7__.string().email(),callbackURL:zod__WEBPACK_IMPORTED_MODULE_7__.string().optional()})},async e=>{if(!e.context.options.emailVerification?.sendVerificationEmail)throw e.context.logger.error(\"Verification email isn't enabled.\"),new better_call__WEBPACK_IMPORTED_MODULE_0__.APIError(\"BAD_REQUEST\",{message:\"Verification email isn't enabled\"});let{email:t}=e.body,r=await e.context.internalAdapter.findUserByEmail(t);if(!r)throw new better_call__WEBPACK_IMPORTED_MODULE_0__.APIError(\"BAD_REQUEST\",{message:\"User not found\"});let o=await V(e.context.secret,t),i=`${e.context.baseURL}/verify-email?token=${o}&callbackURL=${e.body.callbackURL||e.query?.currentURL||\"/\"}`;return await e.context.options.emailVerification.sendVerificationEmail({user:r.user,url:i,token:o},e.request),e.json({status:!0})}),st=b(\"/verify-email\",{method:\"GET\",query:zod__WEBPACK_IMPORTED_MODULE_7__.object({token:zod__WEBPACK_IMPORTED_MODULE_7__.string(),callbackURL:zod__WEBPACK_IMPORTED_MODULE_7__.string().optional()})},async e=>{function t(u){throw e.query.callbackURL?e.redirect(`${e.query.callbackURL}?error=${u}`):new better_call__WEBPACK_IMPORTED_MODULE_0__.APIError(\"UNAUTHORIZED\",{message:u})}let{token:r}=e.query,o;try{o=await (0,oslo_jwt__WEBPACK_IMPORTED_MODULE_5__.validateJWT)(\"HS256\",Buffer.from(e.context.secret),r)}catch(u){return e.context.logger.error(\"Failed to verify email\",u),t(\"invalid_token\")}let n=zod__WEBPACK_IMPORTED_MODULE_7__.object({email:zod__WEBPACK_IMPORTED_MODULE_7__.string().email(),updateTo:zod__WEBPACK_IMPORTED_MODULE_7__.string().optional()}).parse(o.payload),d=await e.context.internalAdapter.findUserByEmail(n.email);if(!d)return t(\"user_not_found\");if(n.updateTo){let u=await ae(e);if(!u){if(e.query.callbackURL)throw e.redirect(`${e.query.callbackURL}?error=unauthorized`);return t(\"unauthorized\")}if(u.user.email!==n.email){if(e.query.callbackURL)throw e.redirect(`${e.query.callbackURL}?error=unauthorized`);return t(\"unauthorized\")}let s=await e.context.internalAdapter.updateUserByEmail(n.email,{email:n.updateTo});if(await e.context.options.emailVerification?.sendVerificationEmail?.({user:s,url:`${e.context.baseURL}/verify-email?token=${r}`,token:r},e.request),e.query.callbackURL)throw e.redirect(e.query.callbackURL);return e.json({user:s,status:!0})}if(await e.context.internalAdapter.updateUserByEmail(n.email,{emailVerified:!0}),e.context.options.emailVerification?.autoSignInAfterVerification&&!await ae(e)){let s=await e.context.internalAdapter.createSession(d.user.id,e.request);if(!s)throw new better_call__WEBPACK_IMPORTED_MODULE_0__.APIError(\"INTERNAL_SERVER_ERROR\",{message:\"Failed to create session\"});await I(e,{session:s,user:d.user})}if(e.query.callbackURL)throw e.redirect(e.query.callbackURL);return e.json({user:null,status:!0})});async function ce(e,{userInfo:t,account:r,callbackURL:o}){let i=await e.context.internalAdapter.findUserByEmail(t.email.toLowerCase(),{includeAccounts:!0}).catch(u=>{throw L.error(`Better auth was unable to query your database.\nError: `,u),e.redirect(`${e.context.baseURL}/error?error=internal_server_error`)}),n=i?.user;if(i){let u=i.accounts.find(s=>s.providerId===r.providerId);if(u)await e.context.internalAdapter.updateAccount(u.id,{accessToken:r.accessToken,idToken:r.idToken,refreshToken:r.refreshToken,expiresAt:r.expiresAt});else{if(!e.context.options.account?.accountLinking?.trustedProviders?.includes(r.providerId)&&!t.emailVerified||e.context.options.account?.accountLinking?.enabled===!1)return Ce&&L.warn(`User already exist but account isn't linked to ${r.providerId}. To read more about how account linking works in Better Auth see https://www.better-auth.com/docs/concepts/users-accounts#account-linking.`),{error:\"account not linked\",data:null};try{await e.context.internalAdapter.linkAccount({providerId:r.providerId,accountId:t.id.toString(),id:e.context.uuid(),userId:i.user.id,accessToken:r.accessToken,idToken:r.idToken,refreshToken:r.refreshToken,expiresAt:r.expiresAt})}catch(c){return L.error(\"Unable to link account\",c),{error:\"unable to link account\",data:null}}}}else try{let u=t.emailVerified||!1;if(n=await e.context.internalAdapter.createOAuthUser({...t,id:e.context.uuid(),emailVerified:u,email:t.email.toLowerCase()},{accessToken:r.accessToken,idToken:r.idToken,refreshToken:r.refreshToken,expiresAt:r.expiresAt,providerId:r.providerId,accountId:t.id.toString()}).then(s=>s?.user),!u&&n&&e.context.options.emailVerification?.sendOnSignUp){let s=await V(e.context.secret,n.email),a=`${e.context.baseURL}/verify-email?token=${s}&callbackURL=${o}`;await e.context.options.emailVerification?.sendVerificationEmail?.({user:n,url:a,token:s},e.request)}}catch(u){return L.error(\"Unable to create user\",u),{error:\"unable to create user\",data:null}}if(!n)return{error:\"unable to create user\",data:null};let d=await e.context.internalAdapter.createSession(n.id,e.request);return d?{data:{session:d,user:n},error:null}:{error:\"unable to create session\",data:null}}var at=b(\"/sign-in/social\",{method:\"POST\",query:zod__WEBPACK_IMPORTED_MODULE_7__.object({currentURL:zod__WEBPACK_IMPORTED_MODULE_7__.string().optional()}).optional(),body:zod__WEBPACK_IMPORTED_MODULE_7__.object({callbackURL:zod__WEBPACK_IMPORTED_MODULE_7__.string().optional(),errorCallbackURL:zod__WEBPACK_IMPORTED_MODULE_7__.string().optional(),provider:zod__WEBPACK_IMPORTED_MODULE_7__[\"enum\"](se),disableRedirect:zod__WEBPACK_IMPORTED_MODULE_7__.boolean().optional(),idToken:zod__WEBPACK_IMPORTED_MODULE_7__.optional(zod__WEBPACK_IMPORTED_MODULE_7__.object({token:zod__WEBPACK_IMPORTED_MODULE_7__.string(),nonce:zod__WEBPACK_IMPORTED_MODULE_7__.string().optional(),accessToken:zod__WEBPACK_IMPORTED_MODULE_7__.string().optional(),refreshToken:zod__WEBPACK_IMPORTED_MODULE_7__.string().optional(),expiresAt:zod__WEBPACK_IMPORTED_MODULE_7__.number().optional()}))})},async e=>{let t=e.context.socialProviders.find(n=>n.id===e.body.provider);if(!t)throw e.context.logger.error(\"Provider not found. Make sure to add the provider in your auth config\",{provider:e.body.provider}),new better_call__WEBPACK_IMPORTED_MODULE_0__.APIError(\"NOT_FOUND\",{message:\"Provider not found\"});if(e.body.idToken){if(!t.verifyIdToken)throw e.context.logger.error(\"Provider does not support id token verification\",{provider:e.body.provider}),new better_call__WEBPACK_IMPORTED_MODULE_0__.APIError(\"NOT_FOUND\",{message:\"Provider does not support id token verification\"});let{token:n,nonce:d}=e.body.idToken;if(!await t.verifyIdToken(n,d))throw e.context.logger.error(\"Invalid id token\",{provider:e.body.provider}),new better_call__WEBPACK_IMPORTED_MODULE_0__.APIError(\"UNAUTHORIZED\",{message:\"Invalid id token\"});let s=await t.getUserInfo({idToken:n,accessToken:e.body.idToken.accessToken,refreshToken:e.body.idToken.refreshToken});if(!s||!s?.user)throw e.context.logger.error(\"Failed to get user info\",{provider:e.body.provider}),new better_call__WEBPACK_IMPORTED_MODULE_0__.APIError(\"UNAUTHORIZED\",{message:\"Failed to get user info\"});if(!s.user.email)throw e.context.logger.error(\"User email not found\",{provider:e.body.provider}),new better_call__WEBPACK_IMPORTED_MODULE_0__.APIError(\"UNAUTHORIZED\",{message:\"User email not found\"});let a=await ce(e,{userInfo:{email:s.user.email,id:s.user.id,name:s.user.name||\"\",image:s.user.image,emailVerified:s.user.emailVerified||!1},account:{providerId:t.id,accountId:s.user.id,accessToken:e.body.idToken.accessToken}});if(a.error)throw new better_call__WEBPACK_IMPORTED_MODULE_0__.APIError(\"UNAUTHORIZED\",{message:a.error});return await I(e,a.data),e.json({session:a.data.session,user:a.data.user,url:`${e.body.callbackURL||e.query?.currentURL||e.context.options.baseURL}`,redirect:!0})}let{codeVerifier:r,state:o}=await ne(e),i=await t.createAuthorizationURL({state:o,codeVerifier:r,redirectURI:`${e.context.baseURL}/callback/${t.id}`});return e.json({url:i.toString(),redirect:!e.body.disableRedirect})}),dt=b(\"/sign-in/email\",{method:\"POST\",body:zod__WEBPACK_IMPORTED_MODULE_7__.object({email:zod__WEBPACK_IMPORTED_MODULE_7__.string(),password:zod__WEBPACK_IMPORTED_MODULE_7__.string(),callbackURL:zod__WEBPACK_IMPORTED_MODULE_7__.string().optional(),rememberMe:zod__WEBPACK_IMPORTED_MODULE_7__.boolean().default(!0).optional()})},async e=>{if(!e.context.options?.emailAndPassword?.enabled)throw e.context.logger.error(\"Email and password is not enabled. Make sure to enable it in the options on you `auth.ts` file. Check `https://better-auth.com/docs/authentication/email-password` for more!\"),new better_call__WEBPACK_IMPORTED_MODULE_0__.APIError(\"BAD_REQUEST\",{message:\"Email and password is not enabled\"});let{email:t,password:r}=e.body;if(!zod__WEBPACK_IMPORTED_MODULE_7__.string().email().safeParse(t).success)throw new better_call__WEBPACK_IMPORTED_MODULE_0__.APIError(\"BAD_REQUEST\",{message:\"Invalid email\"});let i=await e.context.internalAdapter.findUserByEmail(t,{includeAccounts:!0});if(!i)throw await e.context.password.hash(r),e.context.logger.error(\"User not found\",{email:t}),new better_call__WEBPACK_IMPORTED_MODULE_0__.APIError(\"UNAUTHORIZED\",{message:\"Invalid email or password\"});let n=i.accounts.find(a=>a.providerId===\"credential\");if(!n)throw e.context.logger.error(\"Credential account not found\",{email:t}),new better_call__WEBPACK_IMPORTED_MODULE_0__.APIError(\"UNAUTHORIZED\",{message:\"Invalid email or password\"});let d=n?.password;if(!d)throw e.context.logger.error(\"Password not found\",{email:t}),new better_call__WEBPACK_IMPORTED_MODULE_0__.APIError(\"UNAUTHORIZED\",{message:\"Unexpected error\"});if(!await e.context.password.verify(d,r))throw e.context.logger.error(\"Invalid password\"),new better_call__WEBPACK_IMPORTED_MODULE_0__.APIError(\"UNAUTHORIZED\",{message:\"Invalid email or password\"});if(e.context.options?.emailAndPassword?.requireEmailVerification&&!i.user.emailVerified){if(!e.context.options?.emailVerification?.sendVerificationEmail)throw e.context.logger.error(\"Email verification is required but no email verification handler is provided\"),new better_call__WEBPACK_IMPORTED_MODULE_0__.APIError(\"INTERNAL_SERVER_ERROR\",{message:\"Email is not verified.\"});let a=await V(e.context.secret,i.user.email),c=`${e.context.baseURL}/verify-email?token=${a}&callbackURL=${e.body.callbackURL||\"/\"}`;throw await e.context.options.emailVerification.sendVerificationEmail({user:i.user,url:c,token:a},e.request),e.context.logger.error(\"Email not verified\",{email:t}),new better_call__WEBPACK_IMPORTED_MODULE_0__.APIError(\"FORBIDDEN\",{message:\"Email is not verified. Check your email for a verification link\"})}let s=await e.context.internalAdapter.createSession(i.user.id,e.headers,e.body.rememberMe===!1);if(!s)throw e.context.logger.error(\"Failed to create session\"),new better_call__WEBPACK_IMPORTED_MODULE_0__.APIError(\"UNAUTHORIZED\",{message:\"Failed to create session\"});return await I(e,{session:s,user:i.user},e.body.rememberMe===!1),e.json({user:i.user,session:s,redirect:!!e.body.callbackURL,url:e.body.callbackURL})});var ue=zod__WEBPACK_IMPORTED_MODULE_7__.object({code:zod__WEBPACK_IMPORTED_MODULE_7__.string().optional(),error:zod__WEBPACK_IMPORTED_MODULE_7__.string().optional(),errorMessage:zod__WEBPACK_IMPORTED_MODULE_7__.string().optional(),state:zod__WEBPACK_IMPORTED_MODULE_7__.string().optional()}),ct=b(\"/callback/:id\",{method:[\"GET\",\"POST\"],body:ue.optional(),query:ue.optional(),metadata:z},async e=>{let t;try{if(e.method===\"GET\")t=ue.parse(e.query);else if(e.method===\"POST\")t=ue.parse(e.body);else throw new Error(\"Unsupported method\")}catch(w){throw e.context.logger.error(\"INVALID_CALLBACK_REQUEST\",w),e.redirect(`${e.context.baseURL}/error?error=invalid_callback_request`)}let{code:r,error:o,state:i}=t;if(!i)throw e.context.logger.error(\"State not found\"),e.redirect(`${e.context.baseURL}/error?error=state_not_found`);if(!r)throw e.context.logger.error(\"Code not found\"),e.redirect(`${e.context.baseURL}/error?error=${o||\"no_code\"}`);let n=e.context.socialProviders.find(w=>w.id===e.params.id);if(!n)throw e.context.logger.error(\"Oauth provider with id\",e.params.id,\"not found\"),e.redirect(`${e.context.baseURL}/error?error=oauth_provider_not_found`);let{codeVerifier:d,callbackURL:u,link:s,errorURL:a}=await $e(e),c;try{c=await n.validateAuthorizationCode({code:r,codeVerifier:d,redirectURI:`${e.context.baseURL}/callback/${n.id}`})}catch(w){throw e.context.logger.error(\"\",w),e.redirect(`${e.context.baseURL}/error?error=please_restart_the_process`)}let m=await n.getUserInfo(c).then(w=>w?.user),l={id:B(),...m};function p(w){let x=a||u||`${e.context.baseURL}/error`;throw x.includes(\"?\")?x=`${x}&error=${w}`:x=`${x}?error=${w}`,e.redirect(x)}if(!m)return e.context.logger.error(\"Unable to get user info\"),p(\"unable_to_get_user_info\");if(!l.email)return e.context.logger.error(\"Provider did not return email. This could be due to misconfiguration in the provider settings.\"),p(\"email_not_found\");if(!u)throw e.context.logger.error(\"No callback URL found\"),e.redirect(`${e.context.baseURL}/error?error=please_restart_the_process`);if(s){if(s.email!==l.email.toLowerCase())return p(\"email_doesn't_match\");if(!await e.context.internalAdapter.createAccount({userId:s.userId,providerId:n.id,accountId:m.id}))return p(\"unable_to_link_account\");let x;try{x=new URL(u).toString()}catch{x=u}throw e.redirect(x)}let g=await ce(e,{userInfo:{email:l.email,id:l.id,name:l.name||\"\",image:l.image,emailVerified:l.emailVerified||!1},account:{providerId:n.id,accountId:m.id,accessToken:c.accessToken,refreshToken:c.refreshToken,expiresAt:c.accessTokenExpiresAt},callbackURL:u});if(g.error)return e.context.logger.error(g.error.split(\" \").join(\"_\")),p(g.error.split(\" \").join(\"_\"));let{session:y,user:h}=g.data;await I(e,{session:y,user:h});let A;try{A=new URL(u).toString()}catch{A=u}throw e.redirect(A)});var ut=b(\"/sign-out\",{method:\"POST\",requireHeaders:!0},async e=>{let t=await e.getSignedCookie(e.context.authCookies.sessionToken.name,e.context.secret);if(!t)throw q(e),new better_call__WEBPACK_IMPORTED_MODULE_0__.APIError(\"BAD_REQUEST\",{message:\"Session not found\"});return await e.context.internalAdapter.deleteSession(t),q(e),e.json({success:!0})});function lt(e,t,r){let o=t?new URL(t,e.baseURL):new URL(`${e.baseURL}/error`);return r&&Object.entries(r).forEach(([i,n])=>o.searchParams.set(i,n)),o.href}function Lr(e,t,r){let o=new URL(t,e.baseURL);return r&&Object.entries(r).forEach(([i,n])=>o.searchParams.set(i,n)),o.href}var pt=b(\"/forget-password\",{method:\"POST\",body:zod__WEBPACK_IMPORTED_MODULE_7__.object({email:zod__WEBPACK_IMPORTED_MODULE_7__.string().email(),redirectTo:zod__WEBPACK_IMPORTED_MODULE_7__.string()})},async e=>{if(!e.context.options.emailAndPassword?.sendResetPassword)throw e.context.logger.error(\"Reset password isn't enabled.Please pass an emailAndPassword.sendResetPasswordToken function in your auth config!\"),new better_call__WEBPACK_IMPORTED_MODULE_0__.APIError(\"BAD_REQUEST\",{message:\"Reset password isn't enabled\"});let{email:t,redirectTo:r}=e.body,o=await e.context.internalAdapter.findUserByEmail(t,{includeAccounts:!0});if(!o)return e.context.logger.error(\"Reset Password: User not found\",{email:t}),e.json({status:!1},{body:{status:!0}});let i=60*60*1,n=S(e.context.options.emailAndPassword.resetPasswordTokenExpiresIn||i,\"sec\"),d=e.context.uuid();await e.context.internalAdapter.createVerificationValue({value:o.user.id,identifier:`reset-password:${d}`,expiresAt:n});let u=`${e.context.baseURL}/reset-password/${d}?callbackURL=${r}`;return await e.context.options.emailAndPassword.sendResetPassword({user:o.user,url:u,token:d},e.request),e.json({status:!0})}),ft=b(\"/reset-password/:token\",{method:\"GET\",query:zod__WEBPACK_IMPORTED_MODULE_7__.object({callbackURL:zod__WEBPACK_IMPORTED_MODULE_7__.string()})},async e=>{let{token:t}=e.params,{callbackURL:r}=e.query;if(!t||!r)throw e.redirect(lt(e.context,r,{error:\"INVALID_TOKEN\"}));let o=await e.context.internalAdapter.findVerificationValue(`reset-password:${t}`);throw!o||o.expiresAt<new Date?e.redirect(lt(e.context,r,{error:\"INVALID_TOKEN\"})):e.redirect(Lr(e.context,r,{token:t}))}),mt=b(\"/reset-password\",{query:zod__WEBPACK_IMPORTED_MODULE_7__.optional(zod__WEBPACK_IMPORTED_MODULE_7__.object({token:zod__WEBPACK_IMPORTED_MODULE_7__.string().optional(),currentURL:zod__WEBPACK_IMPORTED_MODULE_7__.string().optional()})),method:\"POST\",body:zod__WEBPACK_IMPORTED_MODULE_7__.object({newPassword:zod__WEBPACK_IMPORTED_MODULE_7__.string(),token:zod__WEBPACK_IMPORTED_MODULE_7__.string().optional()})},async e=>{let t=e.body.token||e.query?.token||(e.query?.currentURL?new URL(e.query.currentURL).searchParams.get(\"token\"):\"\");if(!t)throw new better_call__WEBPACK_IMPORTED_MODULE_0__.APIError(\"BAD_REQUEST\",{message:\"Token not found\"});let{newPassword:r}=e.body,o=`reset-password:${t}`,i=await e.context.internalAdapter.findVerificationValue(o);if(!i||i.expiresAt<new Date)throw new better_call__WEBPACK_IMPORTED_MODULE_0__.APIError(\"BAD_REQUEST\",{message:\"Invalid token\"});await e.context.internalAdapter.deleteVerificationValue(i.id);let n=i.value,d=await e.context.password.hash(r);return(await e.context.internalAdapter.findAccounts(n)).find(a=>a.providerId===\"credential\")?(await e.context.internalAdapter.updatePassword(n,d),e.json({status:!0})):(await e.context.internalAdapter.createAccount({userId:n,providerId:\"credential\",password:d,accountId:e.context.uuid()}),e.json({status:!0}))});var ks=zod__WEBPACK_IMPORTED_MODULE_7__.object({id:zod__WEBPACK_IMPORTED_MODULE_7__.string(),providerId:zod__WEBPACK_IMPORTED_MODULE_7__.string(),accountId:zod__WEBPACK_IMPORTED_MODULE_7__.string(),userId:zod__WEBPACK_IMPORTED_MODULE_7__.string(),accessToken:zod__WEBPACK_IMPORTED_MODULE_7__.string().nullish(),refreshToken:zod__WEBPACK_IMPORTED_MODULE_7__.string().nullish(),idToken:zod__WEBPACK_IMPORTED_MODULE_7__.string().nullish(),expiresAt:zod__WEBPACK_IMPORTED_MODULE_7__.date().nullish(),password:zod__WEBPACK_IMPORTED_MODULE_7__.string().nullish()}),Rs=zod__WEBPACK_IMPORTED_MODULE_7__.object({id:zod__WEBPACK_IMPORTED_MODULE_7__.string(),email:zod__WEBPACK_IMPORTED_MODULE_7__.string().transform(e=>e.toLowerCase()),emailVerified:zod__WEBPACK_IMPORTED_MODULE_7__.boolean().default(!1),name:zod__WEBPACK_IMPORTED_MODULE_7__.string(),image:zod__WEBPACK_IMPORTED_MODULE_7__.string().nullish(),createdAt:zod__WEBPACK_IMPORTED_MODULE_7__.date().default(new Date),updatedAt:zod__WEBPACK_IMPORTED_MODULE_7__.date().default(new Date)}),xs=zod__WEBPACK_IMPORTED_MODULE_7__.object({id:zod__WEBPACK_IMPORTED_MODULE_7__.string(),userId:zod__WEBPACK_IMPORTED_MODULE_7__.string(),expiresAt:zod__WEBPACK_IMPORTED_MODULE_7__.date(),ipAddress:zod__WEBPACK_IMPORTED_MODULE_7__.string().nullish(),userAgent:zod__WEBPACK_IMPORTED_MODULE_7__.string().nullish()}),vs=zod__WEBPACK_IMPORTED_MODULE_7__.object({id:zod__WEBPACK_IMPORTED_MODULE_7__.string(),value:zod__WEBPACK_IMPORTED_MODULE_7__.string(),createdAt:zod__WEBPACK_IMPORTED_MODULE_7__.date(),expiresAt:zod__WEBPACK_IMPORTED_MODULE_7__.date(),identifier:zod__WEBPACK_IMPORTED_MODULE_7__.string()});function gt(e,t){let r=t.fields,o={};for(let i in e){let n=r[i];if(!n){o[i]=e[i];continue}n.returned!==!1&&(o[i]=e[i])}return o}function Re(e,t){let r={...t===\"user\"?e.user?.additionalFields:{},...t===\"session\"?e.session?.additionalFields:{}};for(let o of e.plugins||[])o.schema&&o.schema[t]&&(r={...r,...o.schema[t].fields});return r}function xe(e,t){let r=Re(e,\"user\");return gt(t,{fields:r})}function le(e,t){let r=Re(e,\"session\");return gt(t,{fields:r})}function Cr(e,t){let r=t.action||\"create\",o=t.fields,i={};for(let n in o){if(n in e){if(o[n].input===!1){if(o[n].defaultValue){i[n]=o[n].defaultValue;continue}continue}i[n]=e[n];continue}if(o[n].defaultValue&&r===\"create\"){i[n]=o[n].defaultValue;continue}}return i}function pe(e,t,r){let o=Re(e,\"user\");return Cr(t||{},{fields:o,action:r})}var ht=()=>b(\"/update-user\",{method:\"POST\",body:zod__WEBPACK_IMPORTED_MODULE_7__.record(zod__WEBPACK_IMPORTED_MODULE_7__.string(),zod__WEBPACK_IMPORTED_MODULE_7__.any()),use:[C]},async e=>{let t=e.body;if(t.email)throw new better_call__WEBPACK_IMPORTED_MODULE_0__.APIError(\"BAD_REQUEST\",{message:\"You can't update email\"});let{name:r,image:o,...i}=t,n=e.context.session;if(!o&&!r&&Object.keys(i).length===0)return e.json({user:n.user});let d=pe(e.context.options,i,\"update\"),u=await e.context.internalAdapter.updateUserByEmail(n.user.email,{name:r,image:o,...d});return await I(e,{session:n.session,user:u}),e.json({user:u})}),yt=b(\"/change-password\",{method:\"POST\",body:zod__WEBPACK_IMPORTED_MODULE_7__.object({newPassword:zod__WEBPACK_IMPORTED_MODULE_7__.string(),currentPassword:zod__WEBPACK_IMPORTED_MODULE_7__.string(),revokeOtherSessions:zod__WEBPACK_IMPORTED_MODULE_7__.boolean().optional()}),use:[C]},async e=>{let{newPassword:t,currentPassword:r,revokeOtherSessions:o}=e.body,i=e.context.session,n=e.context.password.config.minPasswordLength;if(t.length<n)throw e.context.logger.error(\"Password is too short\"),new better_call__WEBPACK_IMPORTED_MODULE_0__.APIError(\"BAD_REQUEST\",{message:\"Password is too short\"});let d=e.context.password.config.maxPasswordLength;if(t.length>d)throw e.context.logger.error(\"Password is too long\"),new better_call__WEBPACK_IMPORTED_MODULE_0__.APIError(\"BAD_REQUEST\",{message:\"Password too long\"});let s=(await e.context.internalAdapter.findAccounts(i.user.id)).find(m=>m.providerId===\"credential\"&&m.password);if(!s||!s.password)throw new better_call__WEBPACK_IMPORTED_MODULE_0__.APIError(\"BAD_REQUEST\",{message:\"User does not have a password\"});let a=await e.context.password.hash(t);if(!await e.context.password.verify(s.password,r))throw new better_call__WEBPACK_IMPORTED_MODULE_0__.APIError(\"BAD_REQUEST\",{message:\"Incorrect password\"});if(await e.context.internalAdapter.updateAccount(s.id,{password:a}),o){await e.context.internalAdapter.deleteSessions(i.user.id);let m=await e.context.internalAdapter.createSession(i.user.id,e.headers);if(!m)throw new better_call__WEBPACK_IMPORTED_MODULE_0__.APIError(\"INTERNAL_SERVER_ERROR\",{message:\"Unable to create session\"});await I(e,{session:m,user:i.user})}return e.json(i.user)}),wt=b(\"/set-password\",{method:\"POST\",body:zod__WEBPACK_IMPORTED_MODULE_7__.object({newPassword:zod__WEBPACK_IMPORTED_MODULE_7__.string()}),metadata:{SERVER_ONLY:!0},use:[C]},async e=>{let{newPassword:t}=e.body,r=e.context.session,o=e.context.password.config.minPasswordLength;if(t.length<o)throw e.context.logger.error(\"Password is too short\"),new better_call__WEBPACK_IMPORTED_MODULE_0__.APIError(\"BAD_REQUEST\",{message:\"Password is too short\"});let i=e.context.password.config.maxPasswordLength;if(t.length>i)throw e.context.logger.error(\"Password is too long\"),new better_call__WEBPACK_IMPORTED_MODULE_0__.APIError(\"BAD_REQUEST\",{message:\"Password too long\"});let d=(await e.context.internalAdapter.findAccounts(r.user.id)).find(s=>s.providerId===\"credential\"&&s.password),u=await e.context.password.hash(t);if(!d)return await e.context.internalAdapter.linkAccount({userId:r.user.id,providerId:\"credential\",accountId:r.user.id,password:u}),e.json(r.user);throw new better_call__WEBPACK_IMPORTED_MODULE_0__.APIError(\"BAD_REQUEST\",{message:\"user already has a password\"})}),bt=b(\"/delete-user\",{method:\"POST\",body:zod__WEBPACK_IMPORTED_MODULE_7__.object({password:zod__WEBPACK_IMPORTED_MODULE_7__.string()}),use:[C]},async e=>{let{password:t}=e.body,r=e.context.session,i=(await e.context.internalAdapter.findAccounts(r.user.id)).find(d=>d.providerId===\"credential\"&&d.password);if(!i||!i.password)throw new better_call__WEBPACK_IMPORTED_MODULE_0__.APIError(\"BAD_REQUEST\",{message:\"User does not have a password\"});if(!await e.context.password.verify(i.password,t))throw new better_call__WEBPACK_IMPORTED_MODULE_0__.APIError(\"BAD_REQUEST\",{message:\"Incorrect password\"});return await e.context.internalAdapter.deleteUser(r.user.id),await e.context.internalAdapter.deleteSessions(r.user.id),q(e),e.json(null)}),At=b(\"/change-email\",{method:\"POST\",query:zod__WEBPACK_IMPORTED_MODULE_7__.object({currentURL:zod__WEBPACK_IMPORTED_MODULE_7__.string().optional()}).optional(),body:zod__WEBPACK_IMPORTED_MODULE_7__.object({newEmail:zod__WEBPACK_IMPORTED_MODULE_7__.string().email(),callbackURL:zod__WEBPACK_IMPORTED_MODULE_7__.string().optional()}),use:[C]},async e=>{if(!e.context.options.user?.changeEmail?.enabled)throw e.context.logger.error(\"Change email is disabled.\"),new better_call__WEBPACK_IMPORTED_MODULE_0__.APIError(\"BAD_REQUEST\",{message:\"Change email is disabled\"});if(e.body.newEmail===e.context.session.user.email)throw e.context.logger.error(\"Email is the same\"),new better_call__WEBPACK_IMPORTED_MODULE_0__.APIError(\"BAD_REQUEST\",{message:\"Email is the same\"});if(await e.context.internalAdapter.findUserByEmail(e.body.newEmail))throw e.context.logger.error(\"Email already exists\"),new better_call__WEBPACK_IMPORTED_MODULE_0__.APIError(\"BAD_REQUEST\",{message:\"Couldn't update your email\"});if(e.context.session.user.emailVerified!==!0){let i=await e.context.internalAdapter.updateUserByEmail(e.context.session.user.email,{email:e.body.newEmail});return e.json({user:i,status:!0})}if(!e.context.options.user.changeEmail.sendChangeEmailVerification)throw e.context.logger.error(\"Verification email isn't enabled.\"),new better_call__WEBPACK_IMPORTED_MODULE_0__.APIError(\"BAD_REQUEST\",{message:\"Verification email isn't enabled\"});let r=await V(e.context.secret,e.context.session.user.email,e.body.newEmail),o=`${e.context.baseURL}/verify-email?token=${r}&callbackURL=${e.body.callbackURL||e.query?.currentURL||\"/\"}`;return await e.context.options.user.changeEmail.sendChangeEmailVerification({user:e.context.session.user,newEmail:e.body.newEmail,url:o,token:r},e.request),e.json({user:null,status:!0})});var Br=(e=\"Unknown\")=>`<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>Authentication Error</title>\n    <style>\n        :root {\n            --bg-color: #f8f9fa;\n            --text-color: #212529;\n            --accent-color: #000000;\n            --error-color: #dc3545;\n            --border-color: #e9ecef;\n        }\n        body {\n            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;\n            background-color: var(--bg-color);\n            color: var(--text-color);\n            display: flex;\n            justify-content: center;\n            align-items: center;\n            height: 100vh;\n            margin: 0;\n            line-height: 1.5;\n        }\n        .error-container {\n            background-color: #ffffff;\n            border-radius: 12px;\n            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.05);\n            padding: 2.5rem;\n            text-align: center;\n            max-width: 90%;\n            width: 400px;\n        }\n        h1 {\n            color: var(--error-color);\n            font-size: 1.75rem;\n            margin-bottom: 1rem;\n            font-weight: 600;\n        }\n        p {\n            margin-bottom: 1.5rem;\n            color: #495057;\n        }\n        .btn {\n            background-color: var(--accent-color);\n            color: #ffffff;\n            text-decoration: none;\n            padding: 0.75rem 1.5rem;\n            border-radius: 6px;\n            transition: all 0.3s ease;\n            display: inline-block;\n            font-weight: 500;\n            border: 2px solid var(--accent-color);\n        }\n        .btn:hover {\n            background-color: #131721;\n        }\n        .error-code {\n            font-size: 0.875rem;\n            color: #6c757d;\n            margin-top: 1.5rem;\n            padding-top: 1.5rem;\n            border-top: 1px solid var(--border-color);\n        }\n        .icon {\n            font-size: 3rem;\n            margin-bottom: 1rem;\n        }\n    </style>\n</head>\n<body>\n    <div class=\"error-container\">\n        <div class=\"icon\">\\u26A0\\uFE0F</div>\n        <h1>Better Auth Error</h1>\n        <p>We encountered an issue while processing your request. Please try again or contact the application owner if the problem persists.</p>\n        <a href=\"/\" id=\"returnLink\" class=\"btn\">Return to Application</a>\n        <div class=\"error-code\">Error Code: <span id=\"errorCode\">${e}</span></div>\n    </div>\n</body>\n</html>`,kt=b(\"/error\",{method:\"GET\",metadata:z},async e=>{let t=new URL(e.request?.url||\"\").searchParams.get(\"error\")||\"Unknown\";return new Response(Br(t),{headers:{\"Content-Type\":\"text/html\"}})});var Rt=b(\"/ok\",{method:\"GET\",metadata:z},async e=>e.json({ok:!0}));var xt=()=>b(\"/sign-up/email\",{method:\"POST\",query:zod__WEBPACK_IMPORTED_MODULE_7__.object({currentURL:zod__WEBPACK_IMPORTED_MODULE_7__.string().optional()}).optional(),body:zod__WEBPACK_IMPORTED_MODULE_7__.record(zod__WEBPACK_IMPORTED_MODULE_7__.string(),zod__WEBPACK_IMPORTED_MODULE_7__.any())},async e=>{if(!e.context.options.emailAndPassword?.enabled)throw new better_call__WEBPACK_IMPORTED_MODULE_0__.APIError(\"BAD_REQUEST\",{message:\"Email and password sign up is not enabled\"});let t=e.body,{name:r,email:o,password:i,image:n,callbackURL:d,...u}=t;if(!zod__WEBPACK_IMPORTED_MODULE_7__.string().email().safeParse(o).success)throw new better_call__WEBPACK_IMPORTED_MODULE_0__.APIError(\"BAD_REQUEST\",{message:\"Invalid email\"});let a=e.context.password.config.minPasswordLength;if(i.length<a)throw e.context.logger.error(\"Password is too short\"),new better_call__WEBPACK_IMPORTED_MODULE_0__.APIError(\"BAD_REQUEST\",{message:\"Password is too short\"});let c=e.context.password.config.maxPasswordLength;if(i.length>c)throw e.context.logger.error(\"Password is too long\"),new better_call__WEBPACK_IMPORTED_MODULE_0__.APIError(\"BAD_REQUEST\",{message:\"Password is too long\"});if((await e.context.internalAdapter.findUserByEmail(o))?.user)throw e.context.logger.info(`Sign-up attempt for existing email: ${o}`),new better_call__WEBPACK_IMPORTED_MODULE_0__.APIError(\"UNPROCESSABLE_ENTITY\",{message:\"User with this email already exists\"});let f=pe(e.context.options,u),l;try{if(l=await e.context.internalAdapter.createUser({email:o.toLowerCase(),name:r,image:n,...f,emailVerified:!1}),!l)throw new better_call__WEBPACK_IMPORTED_MODULE_0__.APIError(\"BAD_REQUEST\",{message:\"Failed to create user\"})}catch(y){throw e.context.logger.error(\"Failed to create user\",y),new better_call__WEBPACK_IMPORTED_MODULE_0__.APIError(\"UNPROCESSABLE_ENTITY\",{message:\"Failed to create user\",details:y})}if(!l)throw new better_call__WEBPACK_IMPORTED_MODULE_0__.APIError(\"UNPROCESSABLE_ENTITY\",{message:\"Failed to create user\"});let p=await e.context.password.hash(i);if(await e.context.internalAdapter.linkAccount({userId:l.id,providerId:\"credential\",accountId:l.id,password:p,expiresAt:S(60*60*24*30,\"sec\")}),e.context.options.emailVerification?.sendOnSignUp){let y=await V(e.context.secret,l.email),h=`${e.context.baseURL}/verify-email?token=${y}&callbackURL=${t.callbackURL||e.query?.currentURL||\"/\"}`;await e.context.options.emailVerification?.sendVerificationEmail?.({user:l,url:h,token:y},e.request)}if(!e.context.options.emailAndPassword.autoSignIn||e.context.options.emailAndPassword.requireEmailVerification)return e.json({user:l,session:null});let g=await e.context.internalAdapter.createSession(l.id,e.request);if(!g)throw new better_call__WEBPACK_IMPORTED_MODULE_0__.APIError(\"BAD_REQUEST\",{message:\"Failed to create session\"});return await I(e,{session:g,user:l}),e.json({user:l,session:g})});var Ut=b(\"/list-accounts\",{method:\"GET\",use:[C]},async e=>{let t=e.context.session,r=await e.context.internalAdapter.findAccounts(t.user.id);return e.json(r.map(o=>({id:o.id,provider:o.providerId})))}),Tt=b(\"/link-social\",{method:\"POST\",requireHeaders:!0,query:zod__WEBPACK_IMPORTED_MODULE_7__.object({currentURL:zod__WEBPACK_IMPORTED_MODULE_7__.string().optional()}).optional(),body:zod__WEBPACK_IMPORTED_MODULE_7__.object({callbackURL:zod__WEBPACK_IMPORTED_MODULE_7__.string().optional(),provider:zod__WEBPACK_IMPORTED_MODULE_7__[\"enum\"](se)}),use:[C]},async e=>{let t=e.context.session;if((await e.context.internalAdapter.findAccounts(t.user.id)).find(u=>u.providerId===e.body.provider))throw new better_call__WEBPACK_IMPORTED_MODULE_0__.APIError(\"BAD_REQUEST\",{message:\"Social Account is already linked.\"});let i=e.context.socialProviders.find(u=>u.id===e.body.provider);if(!i)throw e.context.logger.error(\"Provider not found. Make sure to add the provider in your auth config\",{provider:e.body.provider}),new better_call__WEBPACK_IMPORTED_MODULE_0__.APIError(\"NOT_FOUND\",{message:\"Provider not found\"});let n=await ne(e,{userId:t.user.id,email:t.user.email}),d=await i.createAuthorizationURL({state:n.state,codeVerifier:n.codeVerifier,redirectURI:`${e.context.baseURL}/callback/${i.id}`});return e.json({url:d.toString(),redirect:!0})});function fe(e,t){if(t.advanced?.ipAddress?.disableIpTracking)return null;let r=\"127.0.0.1\";if(Be)return r;let i=t.advanced?.ipAddress?.ipAddressHeaders||[\"x-client-ip\",\"x-forwarded-for\",\"cf-connecting-ip\",\"fastly-client-ip\",\"x-real-ip\",\"x-cluster-client-ip\",\"x-forwarded\",\"forwarded-for\",\"forwarded\"],n=e instanceof Request?e.headers:e;for(let d of i){let u=n.get(d);if(typeof u==\"string\"){let s=u.split(\",\")[0].trim();if(s)return s}}return null}function Dr(e,t,r){let o=Date.now(),i=t*1e3;return o-r.lastRequest<i&&r.count>=e}function Nr(e){return new Response(JSON.stringify({message:\"Too many requests. Please try again later.\"}),{status:429,statusText:\"Too Many Requests\",headers:{\"X-Retry-After\":e.toString()}})}function qr(e,t){let r=Date.now(),o=t*1e3;return Math.ceil((e+o-r)/1e3)}function Vr(e,t){let r=\"rateLimit\",o=e.adapter;return{get:async i=>await o.findOne({model:r,where:[{field:\"key\",value:i}]}),set:async(i,n,d)=>{try{d?await o.update({model:t??\"rateLimit\",where:[{field:\"key\",value:i}],update:{count:n.count,lastRequest:n.lastRequest}}):await o.create({model:t??\"rateLimit\",data:{key:i,count:n.count,lastRequest:n.lastRequest}})}catch(u){e.logger.error(\"Error setting rate limit\",u)}}}}var Et=new Map;function Fr(e){return e.rateLimit.storage===\"secondary-storage\"?{get:async r=>{let o=await e.options.secondaryStorage?.get(r);return o?JSON.parse(o):void 0},set:async(r,o)=>{await e.options.secondaryStorage?.set?.(r,JSON.stringify(o))}}:e.rateLimit.storage===\"memory\"?{async get(r){return Et.get(r)},async set(r,o,i){Et.set(r,o)}}:Vr(e,e.rateLimit.modelName)}async function Pt(e,t){if(!t.rateLimit.enabled)return;let r=t.baseURL,o=e.url.replace(r,\"\"),i=t.rateLimit.window,n=t.rateLimit.max,d=fe(e,t.options)+o,s=$r().find(f=>f.pathMatcher(o));s&&(i=s.window,n=s.max);for(let f of t.options.plugins||[])if(f.rateLimit){let l=f.rateLimit.find(p=>p.pathMatcher(o));if(l){i=l.window,n=l.max;break}}if(t.rateLimit.customRules){let f=t.rateLimit.customRules[o];f&&(i=f.window,n=f.max)}let a=Fr(t),c=await a.get(d),m=Date.now();if(!c)await a.set(d,{key:d,count:1,lastRequest:m});else{let f=m-c.lastRequest;if(Dr(n,i,c)){let l=qr(c.lastRequest,i);return Nr(l)}else f>i*1e3?await a.set(d,{...c,count:1,lastRequest:m}):await a.set(d,{...c,count:c.count+1,lastRequest:m})}}function $r(){return[{pathMatcher(t){return t.startsWith(\"/sign-in\")||t.startsWith(\"/sign-up\")||t.startsWith(\"/change-password\")||t.startsWith(\"/change-email\")},window:10,max:3}]}function Ue(e,t){let r=t.plugins?.reduce((u,s)=>({...u,...s.endpoints}),{}),o=t.plugins?.map(u=>u.middlewares?.map(s=>{let a=async c=>s.middleware({...c,context:{...e,...c.context}});return a.path=s.path,a.options=s.middleware.options,a.headers=s.middleware.headers,{path:s.path,middleware:a}})).filter(u=>u!==void 0).flat()||[],n={...{signInSocial:at,callbackOAuth:ct,getSession:Ae(),signOut:ut,signUpEmail:xt(),signInEmail:dt,forgetPassword:pt,resetPassword:mt,verifyEmail:st,sendVerificationEmail:it,changeEmail:At,changePassword:yt,setPassword:wt,updateUser:ht(),deleteUser:bt,forgetPasswordCallback:ft,listSessions:tt(),revokeSession:rt,revokeSessions:ot,revokeOtherSessions:nt,linkSocialAccount:Tt,listUserAccounts:Ut},...r,ok:Rt,error:kt},d={};for(let[u,s]of Object.entries(n))d[u]=async(a={})=>{let c=await e;c.session=null;for(let l of t.plugins||[])if(l.hooks?.before)for(let p of l.hooks.before){let g={...s,...a,context:{...c,...a?.context}};if(p.matcher(g)){let h=await p.handler(g);h&&\"context\"in h&&(a={...h,...a})}}let m;try{m=await s({...a,context:{...c,...a.context}})}catch(l){if(l instanceof better_call__WEBPACK_IMPORTED_MODULE_0__.APIError){let p=t.plugins?.map(h=>{if(h.hooks?.after)return h.hooks.after}).filter(h=>h!==void 0).flat();if(!p?.length)throw l;let g=new Response(JSON.stringify(l.body),{status:better_call__WEBPACK_IMPORTED_MODULE_0__.statusCode[l.status],headers:l.headers}),y;for(let h of p||[]){let A={...s,...a,context:{...c,...a.context,endpoint:s,returned:g}};if(h.matcher(A)){let x=await h.handler(A);x&&\"response\"in x&&(y=x.response)}}if(y instanceof Response)return y;throw l}throw l}let f=m;for(let l of t.plugins||[])if(l.hooks?.after)for(let p of l.hooks.after){let g={...s,...a,context:{...c,...a.context,endpoint:s,returned:f}};if(p.matcher(g)){let h=await p.handler(g);h&&(\"response\"in h&&(f=h.response),\"responseHeader\"in h&&(f instanceof Response?f=new Response(f.body,{status:f.status,headers:{...f.headers,...h.responseHeader}}):d[u].headers=h.responseHeader))}}return f},d[u].path=s.path,d[u].method=s.method,d[u].options=s.options,d[u].headers=s.headers;return{api:d,middlewares:o}}var It=(e,t)=>{let{api:r,middlewares:o}=Ue(e,t),i=new URL(e.baseURL).pathname;return (0,better_call__WEBPACK_IMPORTED_MODULE_0__.createRouter)(r,{extraContext:e,basePath:i,routerMiddleware:[{path:\"/**\",middleware:Se},...o],async onRequest(n){for(let d of e.options.plugins||[])if(d.onRequest){let u=await d.onRequest(n,e);if(u&&\"response\"in u)return u.response}return Pt(n,e)},async onResponse(n){for(let d of e.options.plugins||[])if(d.onResponse){let u=await d.onResponse(n,e);if(u)return u.response}return n},onError(n){if(n instanceof better_call__WEBPACK_IMPORTED_MODULE_0__.APIError&&n.status===\"FOUND\")return;if(t.onAPIError?.throw)throw n;if(t.onAPIError?.onError){t.onAPIError.onError(n,e);return}let d=t.logger?.level,u=d===\"error\"||d===\"warn\"||d===\"debug\"?L:void 0;if(t.logger?.disabled!==!0){if(n&&typeof n==\"object\"&&\"message\"in n&&typeof n.message==\"string\"&&(n.message.includes(\"no column\")||n.message.includes(\"column\")||n.message.includes(\"relation\")||n.message.includes(\"table\")||n.message.includes(\"does not exist\"))){e.logger?.error(n.message),e.logger?.error(\"If you are seeing this error, it is likely that you need to run the migrations for the database or you need to update your database schema. If you recently updated the package, make sure to run the migrations.\");return}n instanceof better_call__WEBPACK_IMPORTED_MODULE_0__.APIError?(n.status===\"INTERNAL_SERVER_ERROR\"&&e.logger.error(n.status,n),u?.error(n.message)):e.logger?.error(n&&typeof n==\"object\"&&\"name\"in n?n.name:\"\",n)}}})};var G={N:16384,r:16,p:1,dkLen:64};async function St(e,t){return await (0,_noble_hashes_scrypt__WEBPACK_IMPORTED_MODULE_14__.scryptAsync)(e.normalize(\"NFKC\"),t,{N:G.N,p:G.p,r:G.r,dkLen:G.dkLen,maxmem:128*G.N*G.r*2})}var _t=async e=>{let t=(0,oslo_encoding__WEBPACK_IMPORTED_MODULE_2__.encodeHex)((0,uncrypto__WEBPACK_IMPORTED_MODULE_15__.getRandomValues)(new Uint8Array(16))),r=await St(e,t);return`${t}:${(0,oslo_encoding__WEBPACK_IMPORTED_MODULE_2__.encodeHex)(r)}`},Lt=async(e,t)=>{let[r,o]=e.split(\":\"),i=await St(t,r);return me(i,(0,oslo_encoding__WEBPACK_IMPORTED_MODULE_2__.decodeHex)(o))};function Ct(e,t){let r=t.hooks;async function o(d,u,s){let a=d;for(let f of r||[]){let l=f[u]?.create?.before;if(l){let p=await l(d);if(p===!1)return null;typeof p==\"object\"&&\"data\"in p&&(a=p.data)}}let c=s?await s.fn(a):null,m=!s||s.executeMainFn?await e.create({model:u,data:a}):c;for(let f of r||[]){let l=f[u]?.create?.after;l&&await l(m)}return m}async function i(d,u,s,a){let c=d;for(let l of r||[]){let p=l[s]?.update?.before;if(p){let g=await p(d);if(g===!1)return null;c=typeof g==\"object\"?g.data:g}}let m=a?await a.fn(c):null,f=!a||a.executeMainFn?await e.update({model:s,update:c,where:u}):m;for(let l of r||[]){let p=l[s]?.update?.after;p&&await p(f)}return f}async function n(d,u,s,a){let c=d;for(let l of r||[]){let p=l[s]?.update?.before;if(p){let g=await p(d);if(g===!1)return null;c=typeof g==\"object\"?g.data:g}}let m=a?await a.fn(c):null,f=!a||a.executeMainFn?await e.updateMany({model:s,update:c,where:u}):m;for(let l of r||[]){let p=l[s]?.update?.after;p&&await p(f)}return f}return{createWithHooks:o,updateWithHooks:i,updateManyWithHooks:n}}var Te=(e,t)=>{let r=t.options,o=r.secondaryStorage,i=r.session?.expiresIn||60*60*24*7,{createWithHooks:n,updateWithHooks:d,updateManyWithHooks:u}=Ct(e,t);return{createOAuthUser:async(s,a)=>{try{let c=await n({id:B(),createdAt:new Date,updatedAt:new Date,...s},\"user\"),m=await n({id:B(),...a,userId:c.id||s.id},\"account\");return{user:c,account:m}}catch(c){return console.log(c),null}},createUser:async s=>await n({id:B(),createdAt:new Date,updatedAt:new Date,emailVerified:!1,...s},\"user\"),createAccount:async s=>await n({id:B(),createdAt:new Date,updatedAt:new Date,...s},\"account\"),listSessions:async s=>{if(o){let c=await o.get(`active-sessions-${s}`);if(!c)return[];let m=M(c)||[],f=Date.now(),l=m.filter(g=>g.expiresAt>f),p=[];for(let g of l){let y=await o.get(g.id);if(y){let h=JSON.parse(y),A=le(t.options,{...h.session,expiresAt:new Date(h.session.expiresAt)});p.push(A)}}return p}return await e.findMany({model:\"session\",where:[{field:\"userId\",value:s}]})},listUsers:async(s,a,c,m)=>await e.findMany({model:\"user\",limit:s,offset:a,sortBy:c,where:m}),deleteUser:async s=>{await e.deleteMany({model:\"session\",where:[{field:\"userId\",value:s}]}),await e.deleteMany({model:\"account\",where:[{field:\"userId\",value:s}]}),await e.delete({model:\"user\",where:[{field:\"id\",value:s}]})},createSession:async(s,a,c,m)=>{let f=a instanceof Request?a.headers:a,l={expiresAt:c?S(60*60*24,\"sec\"):S(i,\"sec\"),ipAddress:a&&fe(a,t.options)||\"\",userAgent:f?.get(\"user-agent\")||\"\",...m,id:B(32),userId:s};return await n(l,\"session\",o?{fn:async g=>{let y=await e.findOne({model:\"user\",where:[{field:\"id\",value:s}]});o.set(g.id,JSON.stringify({session:g,user:y}),i);let h=await o.get(`active-sessions-${s}`),A=[],w=Date.now();return h&&(A=M(h)||[],A=A.filter(x=>x.expiresAt>w)),A.push({id:g.id,expiresAt:w+i*1e3}),await o.set(`active-sessions-${s}`,JSON.stringify(A),i),g},executeMainFn:r.session?.storeSessionInDatabase}:void 0)},findSession:async s=>{if(o){let f=await o.get(s);if(f){let l=JSON.parse(f),p=le(t.options,{...l.session,expiresAt:new Date(l.session.expiresAt)}),g=xe(t.options,{...l.user,createdAt:new Date(l.user.createdAt),updatedAt:new Date(l.user.updatedAt)});return{session:p,user:g}}}let a=await e.findOne({model:\"session\",where:[{value:s,field:\"id\"}]});if(!a)return null;let c=await e.findOne({model:\"user\",where:[{value:a.userId,field:\"id\"}]});if(!c)return null;let m=xe(t.options,c);return{session:le(t.options,a),user:m}},findSessions:async s=>{if(o){let f=[];for(let l of s){let p=await o.get(l);if(p){let g=JSON.parse(p),y={session:{...g.session,expiresAt:new Date(g.session.expiresAt)},user:{...g.user,createdAt:new Date(g.user.createdAt),updatedAt:new Date(g.user.updatedAt)}};f.push(y)}}return f}let a=await e.findMany({model:\"session\",where:[{field:\"id\",value:s,operator:\"in\"}]}),c=a.map(f=>f.userId);if(!c.length)return[];let m=await e.findMany({model:\"user\",where:[{field:\"id\",value:c,operator:\"in\"}]});return a.map(f=>{let l=m.find(p=>p.id===f.userId);return l?{session:f,user:l}:null})},updateSession:async(s,a)=>await d(a,[{field:\"id\",value:s}],\"session\",o?{async fn(m){let f=await o.get(s),l=null;if(f){let p=JSON.parse(f);l={...p.session,...m},await o.set(s,JSON.stringify({session:l,user:p.user}),p.session.expiresAt?Math.floor((p.session.expiresAt.getTime()-Date.now())/1e3):i)}else return null},executeMainFn:r.session?.storeSessionInDatabase}:void 0),deleteSession:async s=>{if(o){await o.delete(s),r.session?.storeSessionInDatabase&&await e.delete({model:\"session\",where:[{field:\"id\",value:s}]});return}await e.delete({model:\"session\",where:[{field:\"id\",value:s}]})},deleteSessions:async s=>{if(o){if(typeof s==\"string\"){let a=await o.get(`active-sessions-${s}`),c=a?M(a):[];if(!c)return;for(let m of c)await o.delete(m.id)}else for(let a of s)await o.get(a)&&await o.delete(a);r.session?.storeSessionInDatabase&&await e.deleteMany({model:\"session\",where:[{field:Array.isArray(s)?\"id\":\"userId\",value:s,operator:Array.isArray(s)?\"in\":void 0}]});return}await e.deleteMany({model:\"session\",where:[{field:Array.isArray(s)?\"id\":\"userId\",value:s,operator:Array.isArray(s)?\"in\":void 0}]})},findUserByEmail:async(s,a)=>{let c=await e.findOne({model:\"user\",where:[{value:s.toLowerCase(),field:\"email\"}]});if(!c)return null;if(a?.includeAccounts){let m=await e.findMany({model:\"account\",where:[{value:c.id,field:\"userId\"}]});return{user:c,accounts:m}}return{user:c,accounts:[]}},findUserById:async s=>await e.findOne({model:\"user\",where:[{field:\"id\",value:s}]}),linkAccount:async s=>await n({id:B(),...s},\"account\"),updateUser:async(s,a)=>await d(a,[{field:\"id\",value:s}],\"user\"),updateUserByEmail:async(s,a)=>await d(a,[{field:\"email\",value:s}],\"user\"),updatePassword:async(s,a)=>{await u({password:a},[{field:\"userId\",value:s},{field:\"providerId\",value:\"credential\"}],\"account\")},findAccounts:async s=>await e.findMany({model:\"account\",where:[{field:\"userId\",value:s}]}),findAccount:async s=>await e.findOne({model:\"account\",where:[{field:\"accountId\",value:s}]}),findAccountByUserId:async s=>await e.findMany({model:\"account\",where:[{field:\"userId\",value:s}]}),updateAccount:async(s,a)=>await d(a,[{field:\"id\",value:s}],\"account\"),createVerificationValue:async s=>await n({id:B(),createdAt:new Date,...s},\"verification\"),findVerificationValue:async s=>(await e.findMany({model:\"verification\",where:[{field:\"identifier\",value:s}],sortBy:{field:\"createdAt\",direction:\"desc\"},limit:10}))[0],deleteVerificationValue:async s=>{await e.delete({model:\"verification\",where:[{field:\"id\",value:s}]})},deleteVerificationByIdentifier:async s=>{await e.delete({model:\"verification\",where:[{field:\"identifier\",value:s}]})},updateVerificationValue:async(s,a)=>await d(a,[{field:\"id\",value:s}],\"verification\")}};var X=e=>{let t=e.plugins?.reduce((s,a)=>{let c=a.schema;if(!c)return s;for(let[m,f]of Object.entries(c))s[m]={fields:{...s[m]?.fields,...f.fields},modelName:f.modelName||m};return s},{}),r=e.rateLimit?.storage===\"database\",o={rateLimit:{modelName:e.rateLimit?.modelName||\"rateLimit\",fields:{key:{type:\"string\",fieldName:e.rateLimit?.fields?.key||\"key\"},count:{type:\"number\",fieldName:e.rateLimit?.fields?.count||\"count\"},lastRequest:{type:\"number\",fieldName:e.rateLimit?.fields?.lastRequest||\"lastRequest\"}}}},{user:i,session:n,account:d,...u}=t||{};return{user:{modelName:e.user?.modelName||\"user\",fields:{name:{type:\"string\",required:!0,fieldName:e.user?.fields?.name||\"name\"},email:{type:\"string\",unique:!0,required:!0,fieldName:e.user?.fields?.email||\"email\"},emailVerified:{type:\"boolean\",defaultValue:()=>!1,required:!0,fieldName:e.user?.fields?.emailVerified||\"emailVerified\"},image:{type:\"string\",required:!1,fieldName:e.user?.fields?.image||\"image\"},createdAt:{type:\"date\",defaultValue:()=>new Date,required:!0,fieldName:e.user?.fields?.createdAt||\"createdAt\"},updatedAt:{type:\"date\",defaultValue:()=>new Date,required:!0,fieldName:e.user?.fields?.updatedAt||\"updatedAt\"},...i?.fields,...e.user?.additionalFields},order:1},session:{modelName:e.session?.modelName||\"session\",fields:{expiresAt:{type:\"date\",required:!0,fieldName:e.session?.fields?.expiresAt||\"expiresAt\"},ipAddress:{type:\"string\",required:!1,fieldName:e.session?.fields?.ipAddress||\"ipAddress\"},userAgent:{type:\"string\",required:!1,fieldName:e.session?.fields?.userAgent||\"userAgent\"},userId:{type:\"string\",fieldName:e.session?.fields?.userId||\"userId\",references:{model:e.user?.modelName||\"user\",field:\"id\",onDelete:\"cascade\"},required:!0},...n?.fields,...e.session?.additionalFields},order:2},account:{modelName:e.account?.modelName||\"account\",fields:{accountId:{type:\"string\",required:!0,fieldName:e.account?.fields?.accountId||\"accountId\"},providerId:{type:\"string\",required:!0,fieldName:e.account?.fields?.providerId||\"providerId\"},userId:{type:\"string\",references:{model:e.user?.modelName||\"user\",field:\"id\",onDelete:\"cascade\"},required:!0,fieldName:e.account?.fields?.userId||\"userId\"},accessToken:{type:\"string\",required:!1,fieldName:e.account?.fields?.accessToken||\"accessToken\"},refreshToken:{type:\"string\",required:!1,fieldName:e.account?.fields?.refreshToken||\"refreshToken\"},idToken:{type:\"string\",required:!1,fieldName:e.account?.fields?.idToken||\"idToken\"},expiresAt:{type:\"date\",required:!1,fieldName:e.account?.fields?.expiresAt||\"expiresAt\"},password:{type:\"string\",required:!1,fieldName:e.account?.fields?.password||\"password\"},...d?.fields},order:3},verification:{modelName:e.verification?.modelName||\"verification\",fields:{identifier:{type:\"string\",required:!0,fieldName:e.verification?.fields?.identifier||\"identifier\"},value:{type:\"string\",required:!0,fieldName:e.verification?.fields?.value||\"value\"},expiresAt:{type:\"date\",required:!0,fieldName:e.verification?.fields?.expiresAt||\"expiresAt\"},createdAt:{type:\"date\",required:!1,defaultValue:()=>new Date,fieldName:e.verification?.fields?.createdAt||\"createdAt\"}},order:4},...u,...r?o:{}}};function Vt(e){if(\"dialect\"in e)return Vt(e.dialect);if(\"createDriver\"in e){if(e instanceof kysely__WEBPACK_IMPORTED_MODULE_16__.SqliteDialect)return\"sqlite\";if(e instanceof kysely__WEBPACK_IMPORTED_MODULE_17__.MysqlDialect)return\"mysql\";if(e instanceof kysely__WEBPACK_IMPORTED_MODULE_18__.PostgresDialect)return\"postgres\";if(e instanceof kysely__WEBPACK_IMPORTED_MODULE_19__.MssqlDialect)return\"mssql\"}return\"aggregate\"in e?\"sqlite\":\"getConnection\"in e?\"mysql\":\"connect\"in e?\"postgres\":null}var Ee=async e=>{let t=e.database;if(\"db\"in t)return{kysely:t.db,databaseType:t.type};if(\"dialect\"in t)return{kysely:new kysely__WEBPACK_IMPORTED_MODULE_20__.Kysely({dialect:t.dialect}),databaseType:t.type};let r,o=Vt(t);return\"createDriver\"in t&&(r=t),\"aggregate\"in t&&(r=new kysely__WEBPACK_IMPORTED_MODULE_16__.SqliteDialect({database:t})),\"getConnection\"in t&&(r=new kysely__WEBPACK_IMPORTED_MODULE_17__.MysqlDialect(t)),\"connect\"in t&&(r=new kysely__WEBPACK_IMPORTED_MODULE_18__.PostgresDialect({pool:t})),{kysely:r?new kysely__WEBPACK_IMPORTED_MODULE_20__.Kysely({dialect:r}):null,databaseType:o}};var Qr=(e,t,r)=>{let o=X(t);function i(a,c){if(c===\"id\")return c;let m=o[a].fields[c];return m||console.log(\"Field not found\",a,c),m.fieldName||c}function n(a,c,m){let{type:f=\"sqlite\"}=r||{},l=o[c].fields[m];return l.type===\"boolean\"&&f===\"sqlite\"?a?1:0:l.type===\"date\"&&a&&a instanceof Date&&f===\"sqlite\"?a.toISOString():a}function d(a,c,m){let{type:f=\"sqlite\"}=r||{},l=o[c].fields[m];return l.type===\"boolean\"&&f===\"sqlite\"&&a!==null?a===1:l.type===\"date\"&&a?new Date(a):a}function u(a){return o[a].modelName}let s=r?.generateId!==!1;return{transformInput(a,c){let m=a.id&&s?{id:r?.generateId?r.generateId():a.id}:{};for(let f in a){let l=o[c].fields[f];l&&(m[l.fieldName||f]=n(a[f],c,f))}return m},transformOutput(a,c,m=[]){if(!a)return null;let f=a.id?m.length===0||m.includes(\"id\")?{id:a.id}:{}:{},l=o[c].fields;for(let p in l){if(m.length&&!m.includes(p))continue;let g=l[p];g&&(f[p]=d(a[g.fieldName||p],c,p))}return f},convertWhereClause(a,c){if(!c)return{and:null,or:null};let m={and:[],or:[]};return c.forEach(f=>{let{field:l,value:p,operator:g=\"=\",connector:y=\"AND\"}=f,h=i(a,l),A=w=>g.toLowerCase()===\"in\"?w(h,\"in\",Array.isArray(p)?p:[p]):g===\"contains\"?w(h,\"like\",`%${p}%`):g===\"starts_with\"?w(h,\"like\",`${p}%`):g===\"ends_with\"?w(h,\"like\",`%${p}`):g===\"eq\"?w(h,\"=\",p):g===\"ne\"?w(h,\"<>\",p):g===\"gt\"?w(h,\">\",p):g===\"gte\"?w(h,\">=\",p):g===\"lt\"?w(h,\"<\",p):g===\"lte\"?w(h,\"<=\",p):w(h,g,p);y===\"OR\"?m.or.push(A):m.and.push(A)}),{and:m.and.length?m.and:null,or:m.or.length?m.or:null}},async withReturning(a,c,m,f){let l;if(r?.type!==\"mysql\")l=await c.returningAll().executeTakeFirst();else{await c.execute();let p=a.id?\"id\":f[0].field?f[0].field:\"id\",g=a[p]||f[0].value;l=await e.selectFrom(u(m)).selectAll().where(i(m,p),\"=\",g).executeTakeFirst()}return l},getModelName:u,getField:i}},Ft=(e,t)=>r=>{let{transformInput:o,withReturning:i,transformOutput:n,convertWhereClause:d,getModelName:u,getField:s}=Qr(e,r,t);return{id:\"kysely\",async create(a){let{model:c,data:m,select:f}=a,l=o(m,c),p=e.insertInto(u(c)).values(l);return n(await i(l,p,c,[]),c,f)},async findOne(a){let{model:c,where:m,select:f}=a,{and:l,or:p}=d(c,m),g=e.selectFrom(u(c)).selectAll();l&&(g=g.where(h=>h.and(l.map(A=>A(h))))),p&&(g=g.where(h=>h.or(p.map(A=>A(h)))));let y=await g.executeTakeFirst();return y?n(y,c,f):null},async findMany(a){let{model:c,where:m,limit:f,offset:l,sortBy:p}=a,{and:g,or:y}=d(c,m),h=e.selectFrom(u(c));g&&(h=h.where(w=>w.and(g.map(x=>x(w))))),y&&(h=h.where(w=>w.or(y.map(x=>x(w))))),h=h.limit(f||100),l&&(h=h.offset(l)),p&&(h=h.orderBy(s(c,p.field),p.direction));let A=await h.selectAll().execute();return A?A.map(w=>n(w,c)):[]},async update(a){let{model:c,where:m,update:f}=a,{and:l,or:p}=d(c,m),g=o(f,c),y=e.updateTable(u(c)).set(g);return l&&(y=y.where(h=>h.and(l.map(A=>A(h))))),p&&(y=y.where(h=>h.or(p.map(A=>A(h))))),n(await i(g,y,c,m),c)},async updateMany(a){let{model:c,where:m,update:f}=a,{and:l,or:p}=d(c,m),g=o(f,c),y=e.updateTable(u(c)).set(g);return l&&(y=y.where(A=>A.and(l.map(w=>w(A))))),p&&(y=y.where(A=>A.or(p.map(w=>w(A))))),(await y.execute()).length},async delete(a){let{model:c,where:m}=a,{and:f,or:l}=d(c,m),p=e.deleteFrom(u(c));f&&(p=p.where(g=>g.and(f.map(y=>y(g))))),l&&(p=p.where(g=>g.or(l.map(y=>y(g))))),await p.execute()},async deleteMany(a){let{model:c,where:m}=a,{and:f,or:l}=d(c,m),p=e.deleteFrom(u(c));return f&&(p=p.where(g=>g.and(f.map(y=>y(g))))),l&&(p=p.where(g=>g.or(l.map(y=>y(g))))),(await p.execute()).length},options:t}};async function $t(e){if(!e.database)throw new O(\"Database configuration is required\");if(typeof e.database==\"function\")return e.database(e);let{kysely:t,databaseType:r}=await Ee(e);if(!t)throw new O(\"Failed to initialize database adapter\");return Ft(t,{generateId:\"generateId\"in e.database?e.database.generateId:void 0,type:r||\"sqlite\"})(e)}var Pe=\"better-auth-secret-123456789\";async function zt(e,t){let o=(await t.context.internalAdapter.findAccounts(e))?.find(d=>d.providerId===\"credential\"),i=o?.password;if(!o||!i)throw new better_call__WEBPACK_IMPORTED_MODULE_0__.APIError(\"BAD_REQUEST\",{message:\"No password credential found\"});if(!await t.context.password.verify(i,t.body.password))throw new better_call__WEBPACK_IMPORTED_MODULE_0__.APIError(\"BAD_REQUEST\",{message:\"Invalid password\"});return!0}var Mt=async e=>{let t=await $t(e),r=e.plugins||[],o=Jr(e),i=ie(e.logger),n=W(e.baseURL,e.basePath),d=e.secret||_.BETTER_AUTH_SECRET||_.AUTH_SECRET||Pe;d===Pe&&Q&&i.error(\"You are using the default secret. Please set `BETTER_AUTH_SECRET` in your environment variables or pass `secret` in your auth config.\"),e={...e,secret:d,baseURL:n?new URL(n).origin:\"\",basePath:e.basePath||\"/api/auth\",plugins:r.concat(o),emailAndPassword:{...e.emailAndPassword,enabled:e.emailAndPassword?.enabled??!1,autoSignIn:e.emailAndPassword?.autoSignIn??!0}};let u=De(e),s=X(e),a=Object.keys(e.socialProviders||{}).map(f=>{let l=e.socialProviders?.[f];return l.enabled===!1?null:((!l.clientId||!l.clientSecret)&&i.warn(`Social provider ${f} is missing clientId or clientSecret`),be[f](l))}).filter(f=>f!==null),c={appName:e.appName||\"Better Auth\",socialProviders:a,options:e,tables:s,trustedOrigins:Yr(e),baseURL:n||\"\",sessionConfig:{updateAge:e.session?.updateAge||24*60*60,expiresIn:e.session?.expiresIn||60*60*24*7},secret:d,rateLimit:{...e.rateLimit,enabled:e.rateLimit?.enabled??Q,window:e.rateLimit?.window||10,max:e.rateLimit?.max||100,storage:e.rateLimit?.storage||e.secondaryStorage?\"secondary-storage\":\"memory\"},authCookies:u,logger:i,uuid:B,session:null,secondaryStorage:e.secondaryStorage,password:{hash:e.emailAndPassword?.password?.hash||_t,verify:e.emailAndPassword?.password?.verify||Lt,config:{minPasswordLength:e.emailAndPassword?.minPasswordLength||8,maxPasswordLength:e.emailAndPassword?.maxPasswordLength||128},checkPassword:zt},adapter:t,internalAdapter:Te(t,{options:e,hooks:e.databaseHooks?[e.databaseHooks]:[]}),createAuthCookie:ge(e)},{context:m}=Zr(c);return m};function Zr(e){let t=e.options,r=t.plugins||[],o=e,i=[];for(let n of r)if(n.init){let d=n.init(e);typeof d==\"object\"&&(d.options&&(d.options.databaseHooks&&i.push(d.options.databaseHooks),t=(0,defu__WEBPACK_IMPORTED_MODULE_13__.defu)(t,d.options)),d.context&&(o={...o,...d.context}))}return i.push(t.databaseHooks),o.internalAdapter=Te(e.adapter,{options:t,hooks:i.filter(n=>n!==void 0)}),o.options=t,{context:o}}function Jr(e){let t=[];return e.advanced?.crossSubDomainCookies?.enabled,t}function Yr(e){let t=W(e.baseURL,e.basePath);if(!t)return[];let r=[new URL(t).origin];e.trustedOrigins&&r.push(...e.trustedOrigins);let o=_.BETTER_AUTH_TRUSTED_ORIGINS;return o&&r.push(...o.split(\",\")),r}var ec=e=>{let t=Mt(e),{api:r}=Ue(t,e);return{handler:async o=>{let i=await t,n=i.options.basePath||\"/api/auth\",d=new URL(o.url);if(!i.options.baseURL){let s=W(void 0,n)||`${d.origin}${n}`;i.options.baseURL=s,i.baseURL=s}if(i.trustedOrigins.push(d.origin),!i.options.baseURL)return new Response(\"Base URL not set\",{status:400});if(d.pathname===n||d.pathname===`${n}/`)return new Response(\"Welcome to BetterAuth\",{status:200});let{handler:u}=It(i,e);return u(o)},api:r,options:e,$context:t,$Infer:{}}};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvYmV0dGVyLWF1dGgvZGlzdC9pbmRleC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBOE4sT0FBTyw2REFBRSxhQUFhLE1BQU0sb0VBQUUsRUFBRSxRQUFRLDZEQUFFLGFBQWEsSUFBSSxJQUFJLGtFQUFFLEVBQUUsU0FBUyxFQUFFLG9CQUFvQixxQ0FBcUMsSUFBSSx5QkFBeUIseVNBQXlTLGFBQWEsa0hBQWtILEVBQUUsSUFBSSxFQUFFLDREQUE0RCxHQUFHO0FBQ2ozQixxQ0FBcUMsRUFBRSxPQUFPLGlEQUFFLGNBQWMsbUJBQW1CLEVBQUUsRUFBRSxHQUFHLGlJQUFpSSxFQUE4TCxpQkFBaUIsNENBQTRDLGdDQUFnQyxRQUFRLFlBQVksV0FBVyxpQkFBaUIsYUFBYSxtQkFBbUIsaUJBQWlCLEVBQUUsV0FBVyw2Q0FBRSxxSEFBcUgsYUFBYSw2QkFBNkIsRUFBRSxXQUFXLDZDQUFFLG9HQUFvRyxRQUFRLG1CQUFtQiwwQkFBMEIsaUJBQWlCLGdGQUFnRixvQkFBb0IsZUFBZSxzQkFBc0IsRUFBRSxnREFBZ0QsMkRBQTJELGdKQUFnSixTQUFTLHFCQUFxQixVQUFVLFVBQVUsdUJBQXVCLFlBQVksWUFBWSxpQkFBaUIscUJBQXFCLGVBQWUsWUFBWSxzQkFBc0IsV0FBVyxZQUFZLHVCQUF1QixFQUFFLGVBQWUsd0JBQXdCLHdDQUF3QyxhQUFvQixzRkFBc0YsZUFBZSxjQUFjLGlDQUFpQyxnQkFBZ0IsbUVBQW1FLG1CQUFtQixrQ0FBa0MsRUFBRSxHQUFHLE9BQU8sT0FBTyxTQUFTLGNBQWMsZ0VBQWdFLFVBQVUsMERBQTBELE1BQU0sb0RBQW9ELE1BQU0sd0NBQXdDLE1BQU0sb0NBQW9DLE1BQU0seUJBQXlCLE1BQU0sNkJBQTZCLE1BQU0sMERBQTBELE1BQU0sMkJBQTJCLE9BQU8sYUFBYSxJQUFJLGVBQWUsc1NBQXNTLG1GQUFtRixpQkFBaUIsRUFBRSxtRkFB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QUFvSCw4R0FBOEcsc0RBQXNELFVBQVUsNkJBQTZCLHNGQUFzRixHQUFHLGdEQUFnRCx5QkFBeUIsd0hBQXdILG9GQUFvRixxQkFBcUIsc0xBQXNMLDBGQUEwRixvR0FBb0csd0hBQXdILGtCQUFrQixpQ0FBaUMscURBQXFELHlCQUF5QixFQUFFLFVBQVUsT0FBTyxVQUFVLGVBQWUseUNBQXlDLDBCQUEwQixnQkFBZ0IsNEZBQTRGLDJDQUFFLDhCQUE4QixrQkFBa0IsR0FBRywrREFBK0Qsd0NBQXdDLGVBQWUsV0FBVyxlQUFlLFNBQVMsb0RBQW9ELGVBQWUsOEJBQThCLGVBQWUsMEJBQTBCLDhDQUE4QyxvQ0FBb0Msb0NBQW9DLFdBQVcsYUFBYSxNQUFNLFNBQVMsT0FBTyxrQkFBa0IsaUVBQWlFLHVCQUF1QixzQkFBc0IsU0FBUyxFQUFFLEVBQUUsRUFBRSxnQ0FBZ0MsOEZBQThGLFdBQVcsRUFBRSxtQ0FBbUMsRUFBRSxnREFBZ0QsV0FBVyxFQUFFLElBQUksVUFBVSxTQUFTLFlBQVksd0NBQWlhIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYXR0YWNrLWNhcGl0YWwtdGFzay8uL25vZGVfbW9kdWxlcy9iZXR0ZXItYXV0aC9kaXN0L2luZGV4LmpzP2E3MTciXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0e0FQSUVycm9yIGFzIHZlLGNyZWF0ZVJvdXRlciBhcyBqcixzdGF0dXNDb2RlIGFzIHpyfWZyb21cImJldHRlci1jYWxsXCI7aW1wb3J0e0FQSUVycm9yIGFzIEt0fWZyb21cImJldHRlci1jYWxsXCI7aW1wb3J0e2NyZWF0ZUVuZHBvaW50Q3JlYXRvciBhcyBIdCxjcmVhdGVNaWRkbGV3YXJlIGFzIEllLGNyZWF0ZU1pZGRsZXdhcmVDcmVhdG9yIGFzIEd0fWZyb21cImJldHRlci1jYWxsXCI7dmFyIE9lPUllKGFzeW5jKCk9Pih7fSkpLGVlPUd0KHt1c2U6W09lLEllKGFzeW5jKCk9Pih7fSkpXX0pLGI9SHQoe3VzZTpbT2VdfSk7dmFyIFNlPWVlKGFzeW5jIGU9PntpZihlLnJlcXVlc3Q/Lm1ldGhvZCE9PVwiUE9TVFwiKXJldHVybjtsZXR7Ym9keTp0LHF1ZXJ5OnIsY29udGV4dDpvfT1lLGk9ZS5oZWFkZXJzPy5nZXQoXCJvcmlnaW5cIil8fGUuaGVhZGVycz8uZ2V0KFwicmVmZXJlclwiKXx8XCJcIixuPXQ/LmNhbGxiYWNrVVJMfHxyPy5jYWxsYmFja1VSTCxkPXQ/LnJlZGlyZWN0VG8sdT1yPy5jdXJyZW50VVJMLHM9by50cnVzdGVkT3JpZ2lucyxhPWUuaGVhZGVycz8uaGFzKFwiY29va2llXCIpLGM9KGYsbCk9PmwuaW5jbHVkZXMoXCIqXCIpP25ldyBSZWdFeHAoXCJeXCIrbC5yZXBsYWNlKC9cXCovZyxcIlteL10rXCIpLnJlcGxhY2UoL1xcLi9nLFwiXFxcXC5cIikrXCIkXCIpLnRlc3QoZik6Zi5zdGFydHNXaXRoKGwpLG09KGYsbCk9PntpZighZilyZXR1cm47aWYoIXMuc29tZShnPT5jKGYsZyl8fGY/LnN0YXJ0c1dpdGgoXCIvXCIpJiZsIT09XCJvcmlnaW5cIiYmIWYuaW5jbHVkZXMoXCI6XCIpKSl0aHJvdyBlLmNvbnRleHQubG9nZ2VyLmVycm9yKGBJbnZhbGlkICR7bH06ICR7Zn1gKSxlLmNvbnRleHQubG9nZ2VyLmluZm8oYElmIGl0J3MgYSB2YWxpZCBVUkwsIHBsZWFzZSBhZGQgJHtmfSB0byB0cnVzdGVkT3JpZ2lucyBpbiB5b3VyIGF1dGggY29uZmlnXG5gLGBDdXJyZW50IGxpc3Qgb2YgdHJ1c3RlZE9yaWdpbnM6ICR7c31gKSxuZXcgS3QoXCJGT1JCSURERU5cIix7bWVzc2FnZTpgSW52YWxpZCAke2x9YH0pfTthJiYhZS5jb250ZXh0Lm9wdGlvbnMuYWR2YW5jZWQ/LmRpc2FibGVDU1JGQ2hlY2smJm0oaSxcIm9yaWdpblwiKSxuJiZtKG4sXCJjYWxsYmFja1VSTFwiKSxkJiZtKGQsXCJyZWRpcmVjdFVSTFwiKSx1JiZtKHUsXCJjdXJyZW50VVJMXCIpfSk7aW1wb3J0e0FQSUVycm9yIGFzIEV9ZnJvbVwiYmV0dGVyLWNhbGxcIjtpbXBvcnR7eiBhcyBVfWZyb21cInpvZFwiO2ltcG9ydHtUaW1lU3BhbiBhcyBKdH1mcm9tXCJvc2xvXCI7aW1wb3J0e2Jhc2U2NHVybCBhcyBZdH1mcm9tXCJvc2xvL2VuY29kaW5nXCI7aW1wb3J0e0hNQUMgYXMgX2Usc2hhMjU2IGFzIGFvfWZyb21cIm9zbG8vY3J5cHRvXCI7ZnVuY3Rpb24gbWUoZSx0KXtsZXQgcj1uZXcgVWludDhBcnJheShlKSxvPW5ldyBVaW50OEFycmF5KHQpO2lmKHIubGVuZ3RoIT09by5sZW5ndGgpcmV0dXJuITE7bGV0IGk9MDtmb3IobGV0IG49MDtuPHIubGVuZ3RoO24rKylpfD1yW25dXm9bbl07cmV0dXJuIGk9PT0wfWFzeW5jIGZ1bmN0aW9uIFF0KHt2YWx1ZTplLHNlY3JldDp0fSl7cmV0dXJuIG5ldyBfZShcIlNIQS0yNTZcIikuc2lnbihuZXcgVGV4dEVuY29kZXIoKS5lbmNvZGUodCksbmV3IFRleHRFbmNvZGVyKCkuZW5jb2RlKGUpKS50aGVuKG89PkJ1ZmZlci5mcm9tKG8pLnRvU3RyaW5nKFwiYmFzZTY0XCIpKX1mdW5jdGlvbiBXdCh7dmFsdWU6ZSxzaWduYXR1cmU6dCxzZWNyZXQ6cn0pe3JldHVybiBuZXcgX2UoXCJTSEEtMjU2XCIpLnZlcmlmeShuZXcgVGV4dEVuY29kZXIoKS5lbmNvZGUociksQnVmZmVyLmZyb20odCxcImJhc2U2NFwiKSxuZXcgVGV4dEVuY29kZXIoKS5lbmNvZGUoZSkpfXZhciB0ZT17c2lnbjpRdCx2ZXJpZnk6V3R9O3ZhciBPPWNsYXNzIGV4dGVuZHMgRXJyb3J7Y29uc3RydWN0b3IodCxyKXtzdXBlcih0KSx0aGlzLm5hbWU9XCJCZXR0ZXJBdXRoRXJyb3JcIix0aGlzLm1lc3NhZ2U9dCx0aGlzLmNhdXNlPXIsdGhpcy5zdGFjaz1cIlwifX0sTGU9Y2xhc3MgZXh0ZW5kcyBPe2NvbnN0cnVjdG9yKHQpe3N1cGVyKGBUaGUgcGFja2FnZSBcIiR7dH1cIiBpcyByZXF1aXJlZC4gTWFrZSBzdXJlIGl0IGlzIGluc3RhbGxlZC5gLHQpfX07dmFyIFM9KGUsdD1cIm1zXCIpPT5uZXcgRGF0ZShEYXRlLm5vdygpKyh0PT09XCJzZWNcIj9lKjFlMzplKSk7dmFyIHJlPU9iamVjdC5jcmVhdGUobnVsbCksSz1lPT5nbG9iYWxUaGlzLnByb2Nlc3M/LmVudnx8Z2xvYmFsVGhpcy5EZW5vPy5lbnYudG9PYmplY3QoKXx8Z2xvYmFsVGhpcy5fX2Vudl9ffHwoZT9yZTpnbG9iYWxUaGlzKSxfPW5ldyBQcm94eShyZSx7Z2V0KGUsdCl7cmV0dXJuIEsoKVt0XT8/cmVbdF19LGhhcyhlLHQpe2xldCByPUsoKTtyZXR1cm4gdCBpbiByfHx0IGluIHJlfSxzZXQoZSx0LHIpe2xldCBvPUsoITApO3JldHVybiBvW3RdPXIsITB9LGRlbGV0ZVByb3BlcnR5KGUsdCl7aWYoIXQpcmV0dXJuITE7bGV0IHI9SyghMCk7cmV0dXJuIGRlbGV0ZSByW3RdLCEwfSxvd25LZXlzKCl7bGV0IGU9SyghMCk7cmV0dXJuIE9iamVjdC5rZXlzKGUpfX0pO2Z1bmN0aW9uIFp0KGUpe3JldHVybiBlP2UhPT1cImZhbHNlXCI6ITF9dmFyIG9lPXR5cGVvZiBwcm9jZXNzPFwidVwiJiZwcm9jZXNzLmVudiYmcHJvY2Vzcy5lbnYuTk9ERV9FTlZ8fFwiXCIsUT1vZT09PVwicHJvZHVjdGlvblwiLENlPW9lPT09XCJkZXZcInx8b2U9PT1cImRldmVsb3BtZW50XCIsQmU9b2U9PT1cInRlc3RcInx8WnQoXy5URVNUKTtmdW5jdGlvbiBtbyhlKXtsZXQgdD1uZXcgTWFwO3JldHVybiBlLnNwbGl0KFwiLCBcIikuZm9yRWFjaChvPT57bGV0IGk9by5zcGxpdChcIjtcIikubWFwKG09Pm0udHJpbSgpKSxbbiwuLi5kXT1pLFt1LC4uLnNdPW4uc3BsaXQoXCI9XCIpLGE9cy5qb2luKFwiPVwiKTtpZighdXx8YT09PXZvaWQgMCl7Y29uc29sZS53YXJuKGBNYWxmb3JtZWQgY29va2llOiAke299YCk7cmV0dXJufWxldCBjPXt2YWx1ZTphfTtkLmZvckVhY2gobT0+e2xldFtmLC4uLmxdPW0uc3BsaXQoXCI9XCIpLHA9bC5qb2luKFwiPVwiKSxnPWYudHJpbSgpLnRvTG93ZXJDYXNlKCk7c3dpdGNoKGcpe2Nhc2VcIm1heC1hZ2VcIjpjW1wibWF4LWFnZVwiXT1wP3BhcnNlSW50KHAudHJpbSgpLDEwKTp2b2lkIDA7YnJlYWs7Y2FzZVwiZXhwaXJlc1wiOmMuZXhwaXJlcz1wP25ldyBEYXRlKHAudHJpbSgpKTp2b2lkIDA7YnJlYWs7Y2FzZVwiZG9tYWluXCI6Yy5kb21haW49cD9wLnRyaW0oKTp2b2lkIDA7YnJlYWs7Y2FzZVwicGF0aFwiOmMucGF0aD1wP3AudHJpbSgpOnZvaWQgMDticmVhaztjYXNlXCJzZWN1cmVcIjpjLnNlY3VyZT0hMDticmVhaztjYXNlXCJodHRwb25seVwiOmMuaHR0cG9ubHk9ITA7YnJlYWs7Y2FzZVwic2FtZXNpdGVcIjpjLnNhbWVzaXRlPXA/cC50cmltKCkudG9Mb3dlckNhc2UoKTp2b2lkIDA7YnJlYWs7ZGVmYXVsdDpjW2ddPXA/cC50cmltKCk6ITA7YnJlYWt9fSksdC5zZXQodSxjKX0pLHR9ZnVuY3Rpb24gZ2UoZSl7bGV0IHI9KGUuYWR2YW5jZWQ/LnVzZVNlY3VyZUNvb2tpZXMhPT12b2lkIDA/ZS5hZHZhbmNlZD8udXNlU2VjdXJlQ29va2llczplLmJhc2VVUkwhPT12b2lkIDA/ISFlLmJhc2VVUkwuc3RhcnRzV2l0aChcImh0dHBzOi8vXCIpOlEpP1wiX19TZWN1cmUtXCI6XCJcIixvPSEhZS5hZHZhbmNlZD8uY3Jvc3NTdWJEb21haW5Db29raWVzPy5lbmFibGVkLGk9bz9lLmFkdmFuY2VkPy5jcm9zc1N1YkRvbWFpbkNvb2tpZXM/LmRvbWFpbnx8KGUuYmFzZVVSTD9uZXcgVVJMKGUuYmFzZVVSTCkuaG9zdG5hbWU6dm9pZCAwKTp2b2lkIDA7aWYobyYmIWkpdGhyb3cgbmV3IE8oXCJiYXNlVVJMIGlzIHJlcXVpcmVkIHdoZW4gY3Jvc3NTdWJkb21haW5Db29raWVzIGFyZSBlbmFibGVkXCIpO2Z1bmN0aW9uIG4oZCx1PXt9KXtsZXQgcz1lLmFkdmFuY2VkPy5jb29raWVQcmVmaXh8fFwiYmV0dGVyLWF1dGhcIixhPWUuYWR2YW5jZWQ/LmNvb2tpZXM/LltkXT8ubmFtZXx8YCR7c30uJHtkfWAsYz1lLmFkdmFuY2VkPy5jb29raWVzPy5bZF0/LmF0dHJpYnV0ZXM7cmV0dXJue25hbWU6YCR7cn0ke2F9YCxhdHRyaWJ1dGVzOntzZWN1cmU6ISFyLHNhbWVTaXRlOlwibGF4XCIscGF0aDpcIi9cIixodHRwT25seTohMCwuLi5vP3tkb21haW46aX06e30sLi4uZS5hZHZhbmNlZD8uZGVmYXVsdENvb2tpZUF0dHJpYnV0ZXMsLi4udSwuLi5jfX19cmV0dXJuIG59ZnVuY3Rpb24gRGUoZSl7bGV0IHQ9Z2UoZSkscj1lLnNlc3Npb24/LmV4cGlyZXNJbnx8bmV3IEp0KDcsXCJkXCIpLnNlY29uZHMoKSxvPXQoXCJzZXNzaW9uX3Rva2VuXCIse21heEFnZTpyfSksaT10KFwic2Vzc2lvbl9kYXRhXCIse21heEFnZTplLnNlc3Npb24/LmNvb2tpZUNhY2hlPy5tYXhBZ2V8fDYwKjV9KSxuPXQoXCJkb250X3JlbWVtYmVyXCIpO3JldHVybntzZXNzaW9uVG9rZW46e25hbWU6by5uYW1lLG9wdGlvbnM6by5hdHRyaWJ1dGVzfSxzZXNzaW9uRGF0YTp7bmFtZTppLm5hbWUsb3B0aW9uczppLmF0dHJpYnV0ZXN9LGRvbnRSZW1lbWJlclRva2VuOntuYW1lOm4ubmFtZSxvcHRpb25zOm4uYXR0cmlidXRlc319fWFzeW5jIGZ1bmN0aW9uIEkoZSx0LHIsbyl7bGV0IGk9ZS5jb250ZXh0LmF1dGhDb29raWVzLnNlc3Npb25Ub2tlbi5vcHRpb25zLG49cj92b2lkIDA6ZS5jb250ZXh0LnNlc3Npb25Db25maWcuZXhwaXJlc0luO2F3YWl0IGUuc2V0U2lnbmVkQ29va2llKGUuY29udGV4dC5hdXRoQ29va2llcy5zZXNzaW9uVG9rZW4ubmFtZSx0LnNlc3Npb24uaWQsZS5jb250ZXh0LnNlY3JldCx7Li4uaSxtYXhBZ2U6biwuLi5vfSksciYmYXdhaXQgZS5zZXRTaWduZWRDb29raWUoZS5jb250ZXh0LmF1dGhDb29raWVzLmRvbnRSZW1lbWJlclRva2VuLm5hbWUsXCJ0cnVlXCIsZS5jb250ZXh0LnNlY3JldCxlLmNvbnRleHQuYXV0aENvb2tpZXMuZG9udFJlbWVtYmVyVG9rZW4ub3B0aW9ucyksZS5jb250ZXh0Lm9wdGlvbnMuc2Vzc2lvbj8uY29va2llQ2FjaGU/LmVuYWJsZWQmJmUuc2V0Q29va2llKGUuY29udGV4dC5hdXRoQ29va2llcy5zZXNzaW9uRGF0YS5uYW1lLEpTT04uc3RyaW5naWZ5KFl0LmVuY29kZShuZXcgVGV4dEVuY29kZXIoKS5lbmNvZGUoSlNPTi5zdHJpbmdpZnkoe3Nlc3Npb246dCxleHBpcmVzQXQ6UyhlLmNvbnRleHQuYXV0aENvb2tpZXMuc2Vzc2lvbkRhdGEub3B0aW9ucy5tYXhBZ2V8fDYwLFwic2VjXCIpLmdldFRpbWUoKSxzaWduYXR1cmU6YXdhaXQgdGUuc2lnbih7dmFsdWU6SlNPTi5zdHJpbmdpZnkodCksc2VjcmV0OmUuY29udGV4dC5zZWNyZXR9KX0pKSkpLGUuY29udGV4dC5hdXRoQ29va2llcy5zZXNzaW9uRGF0YS5vcHRpb25zKSxlLmNvbnRleHQub3B0aW9ucy5zZWNvbmRhcnlTdG9yYWdlJiZhd2FpdCBlLmNvbnRleHQuc2Vjb25kYXJ5U3RvcmFnZT8uc2V0KHQuc2Vzc2lvbi5pZCxKU09OLnN0cmluZ2lmeSh7dXNlcjp0LnVzZXIsc2Vzc2lvbjp0LnNlc3Npb259KSx0LnNlc3Npb24uZXhwaXJlc0F0LmdldFRpbWUoKS1EYXRlLm5vdygpKX1mdW5jdGlvbiBxKGUpe2Uuc2V0Q29va2llKGUuY29udGV4dC5hdXRoQ29va2llcy5zZXNzaW9uVG9rZW4ubmFtZSxcIlwiLHsuLi5lLmNvbnRleHQuYXV0aENvb2tpZXMuc2Vzc2lvblRva2VuLm9wdGlvbnMsbWF4QWdlOjB9KSxlLnNldENvb2tpZShlLmNvbnRleHQuYXV0aENvb2tpZXMuc2Vzc2lvbkRhdGEubmFtZSxcIlwiLHsuLi5lLmNvbnRleHQuYXV0aENvb2tpZXMuc2Vzc2lvbkRhdGEub3B0aW9ucyxtYXhBZ2U6MH0pLGUuc2V0Q29va2llKGUuY29udGV4dC5hdXRoQ29va2llcy5kb250UmVtZW1iZXJUb2tlbi5uYW1lLFwiXCIsey4uLmUuY29udGV4dC5hdXRoQ29va2llcy5kb250UmVtZW1iZXJUb2tlbi5vcHRpb25zLG1heEFnZTowfSl9ZnVuY3Rpb24gUm8oZSl7bGV0IHQ9ZS5zcGxpdChcIjsgXCIpLHI9bmV3IE1hcDtyZXR1cm4gdC5mb3JFYWNoKG89PntsZXRbaSxuXT1vLnNwbGl0KFwiPVwiKTtyLnNldChpLG4pfSkscn1pbXBvcnR7YmV0dGVyRmV0Y2ggYXMgaXJ9ZnJvbVwiQGJldHRlci1mZXRjaC9mZXRjaFwiO2ltcG9ydHtBUElFcnJvciBhcyBzcn1mcm9tXCJiZXR0ZXItY2FsbFwiO2ltcG9ydHtkZWNvZGVQcm90ZWN0ZWRIZWFkZXIgYXMgYXIsaW1wb3J0SldLIGFzIGRyLGp3dFZlcmlmeSBhcyBjcn1mcm9tXCJqb3NlXCI7aW1wb3J0e3BhcnNlSldUIGFzIHVyfWZyb21cIm9zbG8vand0XCI7aW1wb3J0e3NoYTI1NiBhcyBYdH1mcm9tXCJvc2xvL2NyeXB0b1wiO2ltcG9ydHtiYXNlNjR1cmwgYXMgZXJ9ZnJvbVwib3Nsby9lbmNvZGluZ1wiO2FzeW5jIGZ1bmN0aW9uIE5lKGUpe2xldCB0PWF3YWl0IFh0KG5ldyBUZXh0RW5jb2RlcigpLmVuY29kZShlKSk7cmV0dXJuIGVyLmVuY29kZShuZXcgVWludDhBcnJheSh0KSx7aW5jbHVkZVBhZGRpbmc6ITF9KX1mdW5jdGlvbiBxZShlKXtyZXR1cm57dG9rZW5UeXBlOmUudG9rZW5fdHlwZSxhY2Nlc3NUb2tlbjplLmFjY2Vzc190b2tlbixyZWZyZXNoVG9rZW46ZS5yZWZyZXNoX3Rva2VuLGFjY2Vzc1Rva2VuRXhwaXJlc0F0OmUuZXhwaXJlc19pbj9TKGUuZXhwaXJlc19pbixcInNlY1wiKTp2b2lkIDAsc2NvcGVzOmU/LnNjb3BlP3R5cGVvZiBlLnNjb3BlPT1cInN0cmluZ1wiP2Uuc2NvcGUuc3BsaXQoXCIgXCIpOmUuc2NvcGU6W10saWRUb2tlbjplLmlkX3Rva2VufX1hc3luYyBmdW5jdGlvbiB2KHtpZDplLG9wdGlvbnM6dCxhdXRob3JpemF0aW9uRW5kcG9pbnQ6cixzdGF0ZTpvLGNvZGVWZXJpZmllcjppLHNjb3BlczpuLGNsYWltczpkLHJlZGlyZWN0VVJJOnV9KXtsZXQgcz1uZXcgVVJMKHIpO2lmKHMuc2VhcmNoUGFyYW1zLnNldChcInJlc3BvbnNlX3R5cGVcIixcImNvZGVcIikscy5zZWFyY2hQYXJhbXMuc2V0KFwiY2xpZW50X2lkXCIsdC5jbGllbnRJZCkscy5zZWFyY2hQYXJhbXMuc2V0KFwic3RhdGVcIixvKSxzLnNlYXJjaFBhcmFtcy5zZXQoXCJzY29wZVwiLG4uam9pbihcIiBcIikpLHMuc2VhcmNoUGFyYW1zLnNldChcInJlZGlyZWN0X3VyaVwiLHQucmVkaXJlY3RVUkl8fHUpLGkpe2xldCBhPWF3YWl0IE5lKGkpO3Muc2VhcmNoUGFyYW1zLnNldChcImNvZGVfY2hhbGxlbmdlX21ldGhvZFwiLFwiUzI1NlwiKSxzLnNlYXJjaFBhcmFtcy5zZXQoXCJjb2RlX2NoYWxsZW5nZVwiLGEpfWlmKGQpe2xldCBhPWQucmVkdWNlKChjLG0pPT4oY1ttXT1udWxsLGMpLHt9KTtzLnNlYXJjaFBhcmFtcy5zZXQoXCJjbGFpbXNcIixKU09OLnN0cmluZ2lmeSh7aWRfdG9rZW46e2VtYWlsOm51bGwsZW1haWxfdmVyaWZpZWQ6bnVsbCwuLi5hfX0pKX1yZXR1cm4gc31pbXBvcnR7YmV0dGVyRmV0Y2ggYXMgdHJ9ZnJvbVwiQGJldHRlci1mZXRjaC9mZXRjaFwiO2FzeW5jIGZ1bmN0aW9uIFIoe2NvZGU6ZSxjb2RlVmVyaWZpZXI6dCxyZWRpcmVjdFVSSTpyLG9wdGlvbnM6byx0b2tlbkVuZHBvaW50OmksYXV0aGVudGljYXRpb246bn0pe2xldCBkPW5ldyBVUkxTZWFyY2hQYXJhbXMsdT17XCJjb250ZW50LXR5cGVcIjpcImFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZFwiLGFjY2VwdDpcImFwcGxpY2F0aW9uL2pzb25cIixcInVzZXItYWdlbnRcIjpcImJldHRlci1hdXRoXCJ9O2lmKGQuc2V0KFwiZ3JhbnRfdHlwZVwiLFwiYXV0aG9yaXphdGlvbl9jb2RlXCIpLGQuc2V0KFwiY29kZVwiLGUpLHQmJmQuc2V0KFwiY29kZV92ZXJpZmllclwiLHQpLGQuc2V0KFwicmVkaXJlY3RfdXJpXCIsciksbj09PVwiYmFzaWNcIil7bGV0IG09YnRvYShgJHtvLmNsaWVudElkfToke28uY2xpZW50U2VjcmV0fWApO3UuYXV0aG9yaXphdGlvbj1gQmFzaWMgJHttfWB9ZWxzZSBkLnNldChcImNsaWVudF9pZFwiLG8uY2xpZW50SWQpLGQuc2V0KFwiY2xpZW50X3NlY3JldFwiLG8uY2xpZW50U2VjcmV0KTtsZXR7ZGF0YTpzLGVycm9yOmF9PWF3YWl0IHRyKGkse21ldGhvZDpcIlBPU1RcIixib2R5OmQsaGVhZGVyczp1fSk7aWYoYSl0aHJvdyBhO3JldHVybiBxZShzKX1pbXBvcnR7Z2VuZXJhdGVDb2RlVmVyaWZpZXIgYXMgb3IsZ2VuZXJhdGVTdGF0ZSBhcyBucn1mcm9tXCJvc2xvL29hdXRoMlwiO2ltcG9ydHt6IGFzICR9ZnJvbVwiem9kXCI7aW1wb3J0e0FQSUVycm9yIGFzIEZlfWZyb21cImJldHRlci1jYWxsXCI7ZnVuY3Rpb24gcnIoZSl7dHJ5e3JldHVybiBuZXcgVVJMKGUpLnBhdGhuYW1lIT09XCIvXCJ9Y2F0Y2h7dGhyb3cgbmV3IE8oYEludmFsaWQgYmFzZSBVUkw6ICR7ZX0uIFBsZWFzZSBwcm92aWRlIGEgdmFsaWQgYmFzZSBVUkwuYCl9fWZ1bmN0aW9uIGhlKGUsdD1cIi9hcGkvYXV0aFwiKXtyZXR1cm4gcnIoZSk/ZToodD10LnN0YXJ0c1dpdGgoXCIvXCIpP3Q6YC8ke3R9YCxgJHtlfSR7dH1gKX1mdW5jdGlvbiBXKGUsdCl7aWYoZSlyZXR1cm4gaGUoZSx0KTtsZXQgcj1fLkJFVFRFUl9BVVRIX1VSTHx8Xy5ORVhUX1BVQkxJQ19CRVRURVJfQVVUSF9VUkx8fF8uUFVCTElDX0JFVFRFUl9BVVRIX1VSTHx8Xy5OVVhUX1BVQkxJQ19CRVRURVJfQVVUSF9VUkx8fF8uTlVYVF9QVUJMSUNfQVVUSF9VUkx8fChfLkJBU0VfVVJMIT09XCIvXCI/Xy5CQVNFX1VSTDp2b2lkIDApO2lmKHIpcmV0dXJuIGhlKHIsdCk7aWYodHlwZW9mIHdpbmRvdzxcInVcIiYmd2luZG93LmxvY2F0aW9uKXJldHVybiBoZSh3aW5kb3cubG9jYXRpb24ub3JpZ2luLHQpfWZ1bmN0aW9uIFZlKGUpe3RyeXtyZXR1cm4gbmV3IFVSTChlKS5vcmlnaW59Y2F0Y2h7cmV0dXJuIG51bGx9fWFzeW5jIGZ1bmN0aW9uIG5lKGUsdCl7bGV0IHI9ZS5ib2R5Py5jYWxsYmFja1VSTHx8KGUucXVlcnk/LmN1cnJlbnRVUkw/VmUoZS5xdWVyeT8uY3VycmVudFVSTCk6XCJcIil8fGUuY29udGV4dC5vcHRpb25zLmJhc2VVUkw7aWYoIXIpdGhyb3cgbmV3IEZlKFwiQkFEX1JFUVVFU1RcIix7bWVzc2FnZTpcImNhbGxiYWNrVVJMIGlzIHJlcXVpcmVkXCJ9KTtsZXQgbz1vcigpLGk9bnIoKSxuPUpTT04uc3RyaW5naWZ5KHtjYWxsYmFja1VSTDpyLGNvZGVWZXJpZmllcjpvLGVycm9yVVJMOmUuYm9keT8uZXJyb3JDYWxsYmFja1VSTHx8ZS5xdWVyeT8uY3VycmVudFVSTCxsaW5rOnQsZXhwaXJlc0F0OkRhdGUubm93KCkrMTAqNjAqMWUzfSksZD1uZXcgRGF0ZTtkLnNldE1pbnV0ZXMoZC5nZXRNaW51dGVzKCkrMTApO2xldCB1PWF3YWl0IGUuY29udGV4dC5pbnRlcm5hbEFkYXB0ZXIuY3JlYXRlVmVyaWZpY2F0aW9uVmFsdWUoe3ZhbHVlOm4saWRlbnRpZmllcjppLGV4cGlyZXNBdDpkfSk7aWYoIXUpdGhyb3cgZS5jb250ZXh0LmxvZ2dlci5lcnJvcihcIlVuYWJsZSB0byBjcmVhdGUgdmVyaWZpY2F0aW9uLiBNYWtlIHN1cmUgdGhlIGRhdGFiYXNlIGFkYXB0ZXIgaXMgcHJvcGVybHkgd29ya2luZyBhbmQgdGhlcmUgaXMgYSB2ZXJpZmljYXRpb24gdGFibGUgaW4gdGhlIGRhdGFiYXNlXCIpLG5ldyBGZShcIklOVEVSTkFMX1NFUlZFUl9FUlJPUlwiLHttZXNzYWdlOlwiVW5hYmxlIHRvIGNyZWF0ZSB2ZXJpZmljYXRpb25cIn0pO3JldHVybntzdGF0ZTp1LmlkZW50aWZpZXIsY29kZVZlcmlmaWVyOm99fWFzeW5jIGZ1bmN0aW9uICRlKGUpe2xldCB0PWUucXVlcnkuc3RhdGV8fGUuYm9keS5zdGF0ZSxyPWF3YWl0IGUuY29udGV4dC5pbnRlcm5hbEFkYXB0ZXIuZmluZFZlcmlmaWNhdGlvblZhbHVlKHQpO2lmKCFyKXRocm93IGUuY29udGV4dC5sb2dnZXIuZXJyb3IoXCJTdGF0ZSBNaXNtYXRjaC4gVmVyaWZpY2F0aW9uIG5vdCBmb3VuZFwiLHtzdGF0ZTp0fSksZS5yZWRpcmVjdChgJHtlLmNvbnRleHQuYmFzZVVSTH0vZXJyb3I/ZXJyb3I9cGxlYXNlX3Jlc3RhcnRfdGhlX3Byb2Nlc3NgKTtsZXQgbz0kLm9iamVjdCh7Y2FsbGJhY2tVUkw6JC5zdHJpbmcoKSxjb2RlVmVyaWZpZXI6JC5zdHJpbmcoKSxlcnJvclVSTDokLnN0cmluZygpLm9wdGlvbmFsKCksZXhwaXJlc0F0OiQubnVtYmVyKCksbGluazokLm9iamVjdCh7ZW1haWw6JC5zdHJpbmcoKSx1c2VySWQ6JC5zdHJpbmcoKX0pLm9wdGlvbmFsKCl9KS5wYXJzZShKU09OLnBhcnNlKHIudmFsdWUpKTtpZihvLmVycm9yVVJMfHwoby5lcnJvclVSTD1gJHtlLmNvbnRleHQuYmFzZVVSTH0vZXJyb3JgKSxvLmV4cGlyZXNBdDxEYXRlLm5vdygpKXRocm93IGF3YWl0IGUuY29udGV4dC5pbnRlcm5hbEFkYXB0ZXIuZGVsZXRlVmVyaWZpY2F0aW9uVmFsdWUoci5pZCksZS5jb250ZXh0LmxvZ2dlci5lcnJvcihcIlN0YXRlIGV4cGlyZWQuXCIse3N0YXRlOnR9KSxlLnJlZGlyZWN0KGAke2UuY29udGV4dC5iYXNlVVJMfS9lcnJvcj9lcnJvcj1wbGVhc2VfcmVzdGFydF90aGVfcHJvY2Vzc2ApO3JldHVybiBhd2FpdCBlLmNvbnRleHQuaW50ZXJuYWxBZGFwdGVyLmRlbGV0ZVZlcmlmaWNhdGlvblZhbHVlKHIuaWQpLG99dmFyIGplPWU9PntsZXQgdD1cImh0dHBzOi8vYXBwbGVpZC5hcHBsZS5jb20vYXV0aC90b2tlblwiO3JldHVybntpZDpcImFwcGxlXCIsbmFtZTpcIkFwcGxlXCIsY3JlYXRlQXV0aG9yaXphdGlvblVSTCh7c3RhdGU6cixzY29wZXM6byxyZWRpcmVjdFVSSTppfSl7bGV0IG49b3x8W1wiZW1haWxcIixcIm5hbWVcIl07cmV0dXJuIGUuc2NvcGUmJm4ucHVzaCguLi5lLnNjb3BlKSxuZXcgVVJMKGBodHRwczovL2FwcGxlaWQuYXBwbGUuY29tL2F1dGgvYXV0aG9yaXplP2NsaWVudF9pZD0ke2UuY2xpZW50SWR9JnJlc3BvbnNlX3R5cGU9Y29kZSZyZWRpcmVjdF91cmk9JHtpfHxlLnJlZGlyZWN0VVJJfSZzY29wZT0ke24uam9pbihcIiBcIil9JnN0YXRlPSR7cn0mcmVzcG9uc2VfbW9kZT1mb3JtX3Bvc3RgKX0sdmFsaWRhdGVBdXRob3JpemF0aW9uQ29kZTphc3luYyh7Y29kZTpyLGNvZGVWZXJpZmllcjpvLHJlZGlyZWN0VVJJOml9KT0+Uih7Y29kZTpyLGNvZGVWZXJpZmllcjpvLHJlZGlyZWN0VVJJOmUucmVkaXJlY3RVUkl8fGksb3B0aW9uczplLHRva2VuRW5kcG9pbnQ6dH0pLGFzeW5jIHZlcmlmeUlkVG9rZW4ocixvKXtpZihlLmRpc2FibGVJZFRva2VuU2lnbkluKXJldHVybiExO2lmKGUudmVyaWZ5SWRUb2tlbilyZXR1cm4gZS52ZXJpZnlJZFRva2VuKHIsbyk7bGV0IGk9YXIocikse2tpZDpuLGFsZzpkfT1pO2lmKCFufHwhZClyZXR1cm4hMTtsZXQgdT1hd2FpdCBscihuKSx7cGF5bG9hZDpzfT1hd2FpdCBjcihyLHUse2FsZ29yaXRobXM6W2RdLGlzc3VlcjpcImh0dHBzOi8vYXBwbGVpZC5hcHBsZS5jb21cIixhdWRpZW5jZTplLmNsaWVudElkLG1heFRva2VuQWdlOlwiMWhcIn0pO3JldHVybltcImVtYWlsX3ZlcmlmaWVkXCIsXCJpc19wcml2YXRlX2VtYWlsXCJdLmZvckVhY2goYT0+e3NbYV0hPT12b2lkIDAmJihzW2FdPSEhc1thXSl9KSxvJiZzLm5vbmNlIT09bz8hMTohIXN9LGFzeW5jIGdldFVzZXJJbmZvKHIpe2lmKCFyLmlkVG9rZW4pcmV0dXJuIG51bGw7bGV0IG89dXIoci5pZFRva2VuKT8ucGF5bG9hZDtpZighbylyZXR1cm4gbnVsbDtsZXQgaT1vLnVzZXI/YCR7by51c2VyLm5hbWUuZmlyc3ROYW1lfSAke28udXNlci5uYW1lLmxhc3ROYW1lfWA6by5lbWFpbDtyZXR1cm57dXNlcjp7aWQ6by5zdWIsbmFtZTppLGVtYWlsVmVyaWZpZWQ6ITEsZW1haWw6by5lbWFpbH0sZGF0YTpvfX19fSxscj1hc3luYyBlPT57bGV0IHQ9XCJodHRwczovL2FwcGxlaWQuYXBwbGUuY29tXCIscj1cIi9hdXRoL2tleXNcIix7ZGF0YTpvfT1hd2FpdCBpcihgJHt0fSR7cn1gKTtpZighbz8ua2V5cyl0aHJvdyBuZXcgc3IoXCJCQURfUkVRVUVTVFwiLHttZXNzYWdlOlwiS2V5cyBub3QgZm91bmRcIn0pO2xldCBpPW8ua2V5cy5maW5kKG49Pm4ua2lkPT09ZSk7aWYoIWkpdGhyb3cgbmV3IEVycm9yKGBKV0sgd2l0aCBraWQgJHtlfSBub3QgZm91bmRgKTtyZXR1cm4gYXdhaXQgZHIoaSxpLmFsZyl9O2ltcG9ydHtiZXR0ZXJGZXRjaCBhcyBwcn1mcm9tXCJAYmV0dGVyLWZldGNoL2ZldGNoXCI7dmFyIHplPWU9Pih7aWQ6XCJkaXNjb3JkXCIsbmFtZTpcIkRpc2NvcmRcIixjcmVhdGVBdXRob3JpemF0aW9uVVJMKHtzdGF0ZTp0LHNjb3BlczpyLHJlZGlyZWN0VVJJOm99KXtsZXQgaT1yfHxbXCJpZGVudGlmeVwiLFwiZW1haWxcIl07cmV0dXJuIGUuc2NvcGUmJmkucHVzaCguLi5lLnNjb3BlKSxuZXcgVVJMKGBodHRwczovL2Rpc2NvcmQuY29tL2FwaS9vYXV0aDIvYXV0aG9yaXplP3Njb3BlPSR7aS5qb2luKFwiK1wiKX0mcmVzcG9uc2VfdHlwZT1jb2RlJmNsaWVudF9pZD0ke2UuY2xpZW50SWR9JnJlZGlyZWN0X3VyaT0ke2VuY29kZVVSSUNvbXBvbmVudChlLnJlZGlyZWN0VVJJfHxvKX0mc3RhdGU9JHt0fWApfSx2YWxpZGF0ZUF1dGhvcml6YXRpb25Db2RlOmFzeW5jKHtjb2RlOnQscmVkaXJlY3RVUkk6cn0pPT5SKHtjb2RlOnQscmVkaXJlY3RVUkk6ZS5yZWRpcmVjdFVSSXx8cixvcHRpb25zOmUsdG9rZW5FbmRwb2ludDpcImh0dHBzOi8vZGlzY29yZC5jb20vYXBpL29hdXRoMi90b2tlblwifSksYXN5bmMgZ2V0VXNlckluZm8odCl7bGV0e2RhdGE6cixlcnJvcjpvfT1hd2FpdCBwcihcImh0dHBzOi8vZGlzY29yZC5jb20vYXBpL3VzZXJzL0BtZVwiLHtoZWFkZXJzOnthdXRob3JpemF0aW9uOmBCZWFyZXIgJHt0LmFjY2Vzc1Rva2VufWB9fSk7aWYobylyZXR1cm4gbnVsbDtpZihyLmF2YXRhcj09PW51bGwpe2xldCBpPXIuZGlzY3JpbWluYXRvcj09PVwiMFwiP051bWJlcihCaWdJbnQoci5pZCk+PkJpZ0ludCgyMikpJTY6cGFyc2VJbnQoci5kaXNjcmltaW5hdG9yKSU1O3IuaW1hZ2VfdXJsPWBodHRwczovL2Nkbi5kaXNjb3JkYXBwLmNvbS9lbWJlZC9hdmF0YXJzLyR7aX0ucG5nYH1lbHNle2xldCBpPXIuYXZhdGFyLnN0YXJ0c1dpdGgoXCJhX1wiKT9cImdpZlwiOlwicG5nXCI7ci5pbWFnZV91cmw9YGh0dHBzOi8vY2RuLmRpc2NvcmRhcHAuY29tL2F2YXRhcnMvJHtyLmlkfS8ke3IuYXZhdGFyfS4ke2l9YH1yZXR1cm57dXNlcjp7aWQ6ci5pZCxuYW1lOnIuZGlzcGxheV9uYW1lfHxyLnVzZXJuYW1lfHxcIlwiLGVtYWlsOnIuZW1haWwsZW1haWxWZXJpZmllZDpyLnZlcmlmaWVkLGltYWdlOnIuaW1hZ2VfdXJsfSxkYXRhOnJ9fX0pO2ltcG9ydHtiZXR0ZXJGZXRjaCBhcyBmcn1mcm9tXCJAYmV0dGVyLWZldGNoL2ZldGNoXCI7dmFyIE1lPWU9Pih7aWQ6XCJmYWNlYm9va1wiLG5hbWU6XCJGYWNlYm9va1wiLGFzeW5jIGNyZWF0ZUF1dGhvcml6YXRpb25VUkwoe3N0YXRlOnQsc2NvcGVzOnIscmVkaXJlY3RVUkk6b30pe2xldCBpPXJ8fFtcImVtYWlsXCIsXCJwdWJsaWNfcHJvZmlsZVwiXTtyZXR1cm4gZS5zY29wZSYmaS5wdXNoKC4uLmUuc2NvcGUpLGF3YWl0IHYoe2lkOlwiZmFjZWJvb2tcIixvcHRpb25zOmUsYXV0aG9yaXphdGlvbkVuZHBvaW50OlwiaHR0cHM6Ly93d3cuZmFjZWJvb2suY29tL3YyMS4wL2RpYWxvZy9vYXV0aFwiLHNjb3BlczppLHN0YXRlOnQscmVkaXJlY3RVUkk6b30pfSx2YWxpZGF0ZUF1dGhvcml6YXRpb25Db2RlOmFzeW5jKHtjb2RlOnQscmVkaXJlY3RVUkk6cn0pPT5SKHtjb2RlOnQscmVkaXJlY3RVUkk6ZS5yZWRpcmVjdFVSSXx8cixvcHRpb25zOmUsdG9rZW5FbmRwb2ludDpcImh0dHBzOi8vZ3JhcGguZmFjZWJvb2suY29tL29hdXRoL2FjY2Vzc190b2tlblwifSksYXN5bmMgZ2V0VXNlckluZm8odCl7bGV0e2RhdGE6cixlcnJvcjpvfT1hd2FpdCBmcihcImh0dHBzOi8vZ3JhcGguZmFjZWJvb2suY29tL21lP2ZpZWxkcz1pZCxuYW1lLGVtYWlsLHBpY3R1cmVcIix7YXV0aDp7dHlwZTpcIkJlYXJlclwiLHRva2VuOnQuYWNjZXNzVG9rZW59fSk7cmV0dXJuIG8/bnVsbDp7dXNlcjp7aWQ6ci5pZCxuYW1lOnIubmFtZSxlbWFpbDpyLmVtYWlsLGltYWdlOnIucGljdHVyZS5kYXRhLnVybCxlbWFpbFZlcmlmaWVkOnIuZW1haWxfdmVyaWZpZWR9LGRhdGE6cn19fSk7aW1wb3J0e2JldHRlckZldGNoIGFzIEhlfWZyb21cIkBiZXR0ZXItZmV0Y2gvZmV0Y2hcIjt2YXIgR2U9ZT0+e2xldCB0PVwiaHR0cHM6Ly9naXRodWIuY29tL2xvZ2luL29hdXRoL2FjY2Vzc190b2tlblwiO3JldHVybntpZDpcImdpdGh1YlwiLG5hbWU6XCJHaXRIdWJcIixjcmVhdGVBdXRob3JpemF0aW9uVVJMKHtzdGF0ZTpyLHNjb3BlczpvLGNvZGVWZXJpZmllcjppLHJlZGlyZWN0VVJJOm59KXtsZXQgZD1vfHxbXCJ1c2VyOmVtYWlsXCJdO3JldHVybiBlLnNjb3BlJiZkLnB1c2goLi4uZS5zY29wZSksdih7aWQ6XCJnaXRodWJcIixvcHRpb25zOmUsYXV0aG9yaXphdGlvbkVuZHBvaW50OlwiaHR0cHM6Ly9naXRodWIuY29tL2xvZ2luL29hdXRoL2F1dGhvcml6ZVwiLHNjb3BlczpkLHN0YXRlOnIscmVkaXJlY3RVUkk6bn0pfSx2YWxpZGF0ZUF1dGhvcml6YXRpb25Db2RlOmFzeW5jKHtjb2RlOnIscmVkaXJlY3RVUkk6b30pPT5SKHtjb2RlOnIscmVkaXJlY3RVUkk6ZS5yZWRpcmVjdFVSSXx8byxvcHRpb25zOmUsdG9rZW5FbmRwb2ludDp0fSksYXN5bmMgZ2V0VXNlckluZm8ocil7bGV0e2RhdGE6byxlcnJvcjppfT1hd2FpdCBIZShcImh0dHBzOi8vYXBpLmdpdGh1Yi5jb20vdXNlclwiLHtoZWFkZXJzOntcIlVzZXItQWdlbnRcIjpcImJldHRlci1hdXRoXCIsYXV0aG9yaXphdGlvbjpgQmVhcmVyICR7ci5hY2Nlc3NUb2tlbn1gfX0pO2lmKGkpcmV0dXJuIG51bGw7bGV0IG49ITE7aWYoIW8uZW1haWwpe2xldHtkYXRhOmQsZXJyb3I6dX09YXdhaXQgSGUoXCJodHRwczovL2FwaS5naXRodWIuY29tL3VzZXIvZW1haWxzXCIse2hlYWRlcnM6e2F1dGhvcml6YXRpb246YEJlYXJlciAke3IuYWNjZXNzVG9rZW59YCxcIlVzZXItQWdlbnRcIjpcImJldHRlci1hdXRoXCJ9fSk7dXx8KG8uZW1haWw9KGQuZmluZChzPT5zLnByaW1hcnkpPz9kWzBdKT8uZW1haWwsbj1kLmZpbmQocz0+cy5lbWFpbD09PW8uZW1haWwpPy52ZXJpZmllZD8/ITEpfXJldHVybnt1c2VyOntpZDpvLmlkLnRvU3RyaW5nKCksbmFtZTpvLm5hbWV8fG8ubG9naW4sZW1haWw6by5lbWFpbCxpbWFnZTpvLmF2YXRhcl91cmwsZW1haWxWZXJpZmllZDpufSxkYXRhOm99fX19O2ltcG9ydHtwYXJzZUpXVCBhcyB5cn1mcm9tXCJvc2xvL2p3dFwiO2ltcG9ydHtjcmVhdGVDb25zb2xhIGFzIG1yfWZyb21cImNvbnNvbGFcIjt2YXIgeWU9W1wiaW5mb1wiLFwic3VjY2Vzc1wiLFwid2FyblwiLFwiZXJyb3JcIixcImRlYnVnXCJdO2Z1bmN0aW9uIGdyKGUsdCl7cmV0dXJuIHllLmluZGV4T2YodCk8PXllLmluZGV4T2YoZSl9dmFyIGhyPW1yKHtmb3JtYXRPcHRpb25zOntkYXRlOiExLGNvbG9yczohMCxjb21wYWN0OiEwfSxkZWZhdWx0czp7dGFnOlwiQmV0dGVyIEF1dGhcIn19KSxpZT1lPT57bGV0IHQ9ZT8uZGlzYWJsZWQhPT0hMCxyPWU/LmxldmVsPz9cImVycm9yXCIsbz0oaSxuLGQ9W10pPT57aWYoISghdHx8IWdyKHIsaSkpKXtpZighZXx8dHlwZW9mIGUubG9nIT1cImZ1bmN0aW9uXCIpe2hyW2ldKFwiXCIsbiwuLi5kKTtyZXR1cm59ZS5sb2coaT09PVwic3VjY2Vzc1wiP1wiaW5mb1wiOmksbixkKX19O3JldHVybiBPYmplY3QuZnJvbUVudHJpZXMoeWUubWFwKGk9PltpLCguLi5bbiwuLi5kXSk9Pm8oaSxuLGQpXSkpfSxMPWllKCk7aW1wb3J0e2JldHRlckZldGNoIGFzIHdyfWZyb21cIkBiZXR0ZXItZmV0Y2gvZmV0Y2hcIjt2YXIgS2U9ZT0+KHtpZDpcImdvb2dsZVwiLG5hbWU6XCJHb29nbGVcIixhc3luYyBjcmVhdGVBdXRob3JpemF0aW9uVVJMKHtzdGF0ZTp0LHNjb3BlczpyLGNvZGVWZXJpZmllcjpvLHJlZGlyZWN0VVJJOml9KXtpZighZS5jbGllbnRJZHx8IWUuY2xpZW50U2VjcmV0KXRocm93IEwuZXJyb3IoXCJDbGllbnQgSWQgYW5kIENsaWVudCBTZWNyZXQgaXMgcmVxdWlyZWQgZm9yIEdvb2dsZS4gTWFrZSBzdXJlIHRvIHByb3ZpZGUgdGhlbSBpbiB0aGUgb3B0aW9ucy5cIiksbmV3IE8oXCJDTElFTlRfSURfQU5EX1NFQ1JFVF9SRVFVSVJFRFwiKTtpZighbyl0aHJvdyBuZXcgTyhcImNvZGVWZXJpZmllciBpcyByZXF1aXJlZCBmb3IgR29vZ2xlXCIpO2xldCBuPXJ8fFtcImVtYWlsXCIsXCJwcm9maWxlXCIsXCJvcGVuaWRcIl07ZS5zY29wZSYmbi5wdXNoKC4uLmUuc2NvcGUpO2xldCBkPWF3YWl0IHYoe2lkOlwiZ29vZ2xlXCIsb3B0aW9uczplLGF1dGhvcml6YXRpb25FbmRwb2ludDpcImh0dHBzOi8vYWNjb3VudHMuZ29vZ2xlLmNvbS9vL29hdXRoMi9hdXRoXCIsc2NvcGVzOm4sc3RhdGU6dCxjb2RlVmVyaWZpZXI6byxyZWRpcmVjdFVSSTppfSk7cmV0dXJuIGUuYWNjZXNzVHlwZSYmZC5zZWFyY2hQYXJhbXMuc2V0KFwiYWNjZXNzX3R5cGVcIixlLmFjY2Vzc1R5cGUpLGUucHJvbXB0JiZkLnNlYXJjaFBhcmFtcy5zZXQoXCJwcm9tcHRcIixlLnByb21wdCksZH0sdmFsaWRhdGVBdXRob3JpemF0aW9uQ29kZTphc3luYyh7Y29kZTp0LGNvZGVWZXJpZmllcjpyLHJlZGlyZWN0VVJJOm99KT0+Uih7Y29kZTp0LGNvZGVWZXJpZmllcjpyLHJlZGlyZWN0VVJJOmUucmVkaXJlY3RVUkl8fG8sb3B0aW9uczplLHRva2VuRW5kcG9pbnQ6XCJodHRwczovL29hdXRoMi5nb29nbGVhcGlzLmNvbS90b2tlblwifSksYXN5bmMgdmVyaWZ5SWRUb2tlbih0LHIpe2lmKGUuZGlzYWJsZUlkVG9rZW5TaWduSW4pcmV0dXJuITE7aWYoZS52ZXJpZnlJZFRva2VuKXJldHVybiBlLnZlcmlmeUlkVG9rZW4odCxyKTtsZXQgbz1gaHR0cHM6Ly93d3cuZ29vZ2xlYXBpcy5jb20vb2F1dGgyL3YzL3Rva2VuaW5mbz9pZF90b2tlbj0ke3R9YCx7ZGF0YTppfT1hd2FpdCB3cihvKTtyZXR1cm4gaT9pLmF1ZD09PWUuY2xpZW50SWQmJmkuaXNzPT09XCJodHRwczovL2FjY291bnRzLmdvb2dsZS5jb21cIjohMX0sYXN5bmMgZ2V0VXNlckluZm8odCl7aWYoIXQuaWRUb2tlbilyZXR1cm4gbnVsbDtsZXQgcj15cih0LmlkVG9rZW4pPy5wYXlsb2FkO3JldHVybnt1c2VyOntpZDpyLnN1YixuYW1lOnIubmFtZSxlbWFpbDpyLmVtYWlsLGltYWdlOnIucGljdHVyZSxlbWFpbFZlcmlmaWVkOnIuZW1haWxfdmVyaWZpZWR9LGRhdGE6cn19fSk7aW1wb3J0e2JldHRlckZldGNoIGFzIGJyfWZyb21cIkBiZXR0ZXItZmV0Y2gvZmV0Y2hcIjtpbXBvcnR7cGFyc2VKV1QgYXMgQXJ9ZnJvbVwib3Nsby9qd3RcIjt2YXIgUWU9ZT0+e2xldCB0PWUudGVuYW50SWR8fFwiY29tbW9uXCIscj1gaHR0cHM6Ly9sb2dpbi5taWNyb3NvZnRvbmxpbmUuY29tLyR7dH0vb2F1dGgyL3YyLjAvYXV0aG9yaXplYCxvPWBodHRwczovL2xvZ2luLm1pY3Jvc29mdG9ubGluZS5jb20vJHt0fS9vYXV0aDIvdjIuMC90b2tlbmA7cmV0dXJue2lkOlwibWljcm9zb2Z0XCIsbmFtZTpcIk1pY3Jvc29mdCBFbnRyYUlEXCIsY3JlYXRlQXV0aG9yaXphdGlvblVSTChpKXtsZXQgbj1pLnNjb3Blc3x8W1wib3BlbmlkXCIsXCJwcm9maWxlXCIsXCJlbWFpbFwiLFwiVXNlci5SZWFkXCJdO3JldHVybiBlLnNjb3BlJiZuLnB1c2goLi4uZS5zY29wZSksdih7aWQ6XCJtaWNyb3NvZnRcIixvcHRpb25zOmUsYXV0aG9yaXphdGlvbkVuZHBvaW50OnIsc3RhdGU6aS5zdGF0ZSxjb2RlVmVyaWZpZXI6aS5jb2RlVmVyaWZpZXIsc2NvcGVzOm4scmVkaXJlY3RVUkk6aS5yZWRpcmVjdFVSSX0pfSx2YWxpZGF0ZUF1dGhvcml6YXRpb25Db2RlKHtjb2RlOmksY29kZVZlcmlmaWVyOm4scmVkaXJlY3RVUkk6ZH0pe3JldHVybiBSKHtjb2RlOmksY29kZVZlcmlmaWVyOm4scmVkaXJlY3RVUkk6ZS5yZWRpcmVjdFVSSXx8ZCxvcHRpb25zOmUsdG9rZW5FbmRwb2ludDpvfSl9LGFzeW5jIGdldFVzZXJJbmZvKGkpe2lmKCFpLmlkVG9rZW4pcmV0dXJuIG51bGw7bGV0IG49QXIoaS5pZFRva2VuKT8ucGF5bG9hZCxkPWUucHJvZmlsZVBob3RvU2l6ZXx8NDg7cmV0dXJuIGF3YWl0IGJyKGBodHRwczovL2dyYXBoLm1pY3Jvc29mdC5jb20vdjEuMC9tZS9waG90b3MvJHtkfXgke2R9LyR2YWx1ZWAse2hlYWRlcnM6e0F1dGhvcml6YXRpb246YEJlYXJlciAke2kuYWNjZXNzVG9rZW59YH0sYXN5bmMgb25SZXNwb25zZSh1KXtpZighKGUuZGlzYWJsZVByb2ZpbGVQaG90b3x8IXUucmVzcG9uc2Uub2spKXRyeXtsZXQgYT1hd2FpdCB1LnJlc3BvbnNlLmNsb25lKCkuYXJyYXlCdWZmZXIoKSxjPUJ1ZmZlci5mcm9tKGEpLnRvU3RyaW5nKFwiYmFzZTY0XCIpO24ucGljdHVyZT1gZGF0YTppbWFnZS9qcGVnO2Jhc2U2NCwgJHtjfWB9Y2F0Y2gocyl7TC5lcnJvcihzJiZ0eXBlb2Ygcz09XCJvYmplY3RcIiYmXCJuYW1lXCJpbiBzP3MubmFtZTpcIlwiLHMpfX19KSx7dXNlcjp7aWQ6bi5zdWIsbmFtZTpuLm5hbWUsZW1haWw6bi5lbWFpbCxpbWFnZTpuLnBpY3R1cmUsZW1haWxWZXJpZmllZDohMH0sZGF0YTpufX19fTtpbXBvcnR7YmV0dGVyRmV0Y2ggYXMga3J9ZnJvbVwiQGJldHRlci1mZXRjaC9mZXRjaFwiO3ZhciBXZT1lPT4oe2lkOlwic3BvdGlmeVwiLG5hbWU6XCJTcG90aWZ5XCIsY3JlYXRlQXV0aG9yaXphdGlvblVSTCh7c3RhdGU6dCxzY29wZXM6cixjb2RlVmVyaWZpZXI6byxyZWRpcmVjdFVSSTppfSl7bGV0IG49cnx8W1widXNlci1yZWFkLWVtYWlsXCJdO3JldHVybiBlLnNjb3BlJiZuLnB1c2goLi4uZS5zY29wZSksdih7aWQ6XCJzcG90aWZ5XCIsb3B0aW9uczplLGF1dGhvcml6YXRpb25FbmRwb2ludDpcImh0dHBzOi8vYWNjb3VudHMuc3BvdGlmeS5jb20vYXV0aG9yaXplXCIsc2NvcGVzOm4sc3RhdGU6dCxjb2RlVmVyaWZpZXI6byxyZWRpcmVjdFVSSTppfSl9LHZhbGlkYXRlQXV0aG9yaXphdGlvbkNvZGU6YXN5bmMoe2NvZGU6dCxjb2RlVmVyaWZpZXI6cixyZWRpcmVjdFVSSTpvfSk9PlIoe2NvZGU6dCxjb2RlVmVyaWZpZXI6cixyZWRpcmVjdFVSSTplLnJlZGlyZWN0VVJJfHxvLG9wdGlvbnM6ZSx0b2tlbkVuZHBvaW50OlwiaHR0cHM6Ly9hY2NvdW50cy5zcG90aWZ5LmNvbS9hcGkvdG9rZW5cIn0pLGFzeW5jIGdldFVzZXJJbmZvKHQpe2xldHtkYXRhOnIsZXJyb3I6b309YXdhaXQga3IoXCJodHRwczovL2FwaS5zcG90aWZ5LmNvbS92MS9tZVwiLHttZXRob2Q6XCJHRVRcIixoZWFkZXJzOntBdXRob3JpemF0aW9uOmBCZWFyZXIgJHt0LmFjY2Vzc1Rva2VufWB9fSk7cmV0dXJuIG8/bnVsbDp7dXNlcjp7aWQ6ci5pZCxuYW1lOnIuZGlzcGxheV9uYW1lLGVtYWlsOnIuZW1haWwsaW1hZ2U6ci5pbWFnZXNbMF0/LnVybCxlbWFpbFZlcmlmaWVkOiExfSxkYXRhOnJ9fX0pO2Z1bmN0aW9uIFRuKGUpe3JldHVybiBlLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpK2Uuc2xpY2UoMSl9dmFyIHo9e2lzQWN0aW9uOiExfTtpbXBvcnR7bmFub2lkIGFzIFJyfWZyb21cIm5hbm9pZFwiO3ZhciBCPWU9PlJyKGUpO2ltcG9ydHtwYXJzZUpXVCBhcyB4cn1mcm9tXCJvc2xvL2p3dFwiO3ZhciBaZT1lPT4oe2lkOlwidHdpdGNoXCIsbmFtZTpcIlR3aXRjaFwiLGNyZWF0ZUF1dGhvcml6YXRpb25VUkwoe3N0YXRlOnQsc2NvcGVzOnIscmVkaXJlY3RVUkk6b30pe2xldCBpPXJ8fFtcInVzZXI6cmVhZDplbWFpbFwiLFwib3BlbmlkXCJdO3JldHVybiBlLnNjb3BlJiZpLnB1c2goLi4uZS5zY29wZSksdih7aWQ6XCJ0d2l0Y2hcIixyZWRpcmVjdFVSSTpvLG9wdGlvbnM6ZSxhdXRob3JpemF0aW9uRW5kcG9pbnQ6XCJodHRwczovL2lkLnR3aXRjaC50di9vYXV0aDIvYXV0aG9yaXplXCIsc2NvcGVzOmksc3RhdGU6dCxjbGFpbXM6ZS5jbGFpbXN8fFtcImVtYWlsXCIsXCJlbWFpbF92ZXJpZmllZFwiLFwicHJlZmVycmVkX3VzZXJuYW1lXCIsXCJwaWN0dXJlXCJdfSl9LHZhbGlkYXRlQXV0aG9yaXphdGlvbkNvZGU6YXN5bmMoe2NvZGU6dCxyZWRpcmVjdFVSSTpyfSk9PlIoe2NvZGU6dCxyZWRpcmVjdFVSSTplLnJlZGlyZWN0VVJJfHxyLG9wdGlvbnM6ZSx0b2tlbkVuZHBvaW50OlwiaHR0cHM6Ly9pZC50d2l0Y2gudHYvb2F1dGgyL3Rva2VuXCJ9KSxhc3luYyBnZXRVc2VySW5mbyh0KXtsZXQgcj10LmlkVG9rZW47aWYoIXIpcmV0dXJuIEwuZXJyb3IoXCJObyBpZFRva2VuIGZvdW5kIGluIHRva2VuXCIpLG51bGw7bGV0IG89eHIocik/LnBheWxvYWQ7cmV0dXJue3VzZXI6e2lkOm8uc3ViLG5hbWU6by5wcmVmZXJyZWRfdXNlcm5hbWUsZW1haWw6by5lbWFpbCxpbWFnZTpvLnBpY3R1cmUsZW1haWxWZXJpZmllZDohMX0sZGF0YTpvfX19KTtpbXBvcnR7YmV0dGVyRmV0Y2ggYXMgdnJ9ZnJvbVwiQGJldHRlci1mZXRjaC9mZXRjaFwiO3ZhciBKZT1lPT4oe2lkOlwidHdpdHRlclwiLG5hbWU6XCJUd2l0dGVyXCIsY3JlYXRlQXV0aG9yaXphdGlvblVSTCh0KXtsZXQgcj10LnNjb3Blc3x8W1widXNlcnMucmVhZFwiLFwidHdlZXQucmVhZFwiLFwib2ZmbGluZS5hY2Nlc3NcIl07cmV0dXJuIGUuc2NvcGUmJnIucHVzaCguLi5lLnNjb3BlKSx2KHtpZDpcInR3aXR0ZXJcIixvcHRpb25zOmUsYXV0aG9yaXphdGlvbkVuZHBvaW50OlwiaHR0cHM6Ly94LmNvbS9pL29hdXRoMi9hdXRob3JpemVcIixzY29wZXM6cixzdGF0ZTp0LnN0YXRlLGNvZGVWZXJpZmllcjp0LmNvZGVWZXJpZmllcixyZWRpcmVjdFVSSTp0LnJlZGlyZWN0VVJJfSl9LHZhbGlkYXRlQXV0aG9yaXphdGlvbkNvZGU6YXN5bmMoe2NvZGU6dCxjb2RlVmVyaWZpZXI6cixyZWRpcmVjdFVSSTpvfSk9PlIoe2NvZGU6dCxjb2RlVmVyaWZpZXI6cixhdXRoZW50aWNhdGlvbjpcImJhc2ljXCIscmVkaXJlY3RVUkk6ZS5yZWRpcmVjdFVSSXx8byxvcHRpb25zOmUsdG9rZW5FbmRwb2ludDpcImh0dHBzOi8vYXBpLnguY29tLzIvb2F1dGgyL3Rva2VuXCJ9KSxhc3luYyBnZXRVc2VySW5mbyh0KXtsZXR7ZGF0YTpyLGVycm9yOm99PWF3YWl0IHZyKFwiaHR0cHM6Ly9hcGkueC5jb20vMi91c2Vycy9tZT91c2VyLmZpZWxkcz1wcm9maWxlX2ltYWdlX3VybFwiLHttZXRob2Q6XCJHRVRcIixoZWFkZXJzOntBdXRob3JpemF0aW9uOmBCZWFyZXIgJHt0LmFjY2Vzc1Rva2VufWB9fSk7cmV0dXJuIG8/bnVsbDp7dXNlcjp7aWQ6ci5kYXRhLmlkLG5hbWU6ci5kYXRhLm5hbWUsZW1haWw6ci5kYXRhLmVtYWlsfHxudWxsLGltYWdlOnIuZGF0YS5wcm9maWxlX2ltYWdlX3VybCxlbWFpbFZlcmlmaWVkOnIuZGF0YS52ZXJpZmllZHx8ITF9LGRhdGE6cn19fSk7aW1wb3J0e2JldHRlckZldGNoIGFzIFVyfWZyb21cIkBiZXR0ZXItZmV0Y2gvZmV0Y2hcIjt2YXIgWWU9ZT0+e2xldCB0PVwiaHR0cHM6Ly9hcGkuZHJvcGJveGFwaS5jb20vb2F1dGgyL3Rva2VuXCI7cmV0dXJue2lkOlwiZHJvcGJveFwiLG5hbWU6XCJEcm9wYm94XCIsY3JlYXRlQXV0aG9yaXphdGlvblVSTDphc3luYyh7c3RhdGU6cixzY29wZXM6byxjb2RlVmVyaWZpZXI6aSxyZWRpcmVjdFVSSTpufSk9PntsZXQgZD1vfHxbXCJhY2NvdW50X2luZm8ucmVhZFwiXTtyZXR1cm4gZS5zY29wZSYmZC5wdXNoKC4uLmUuc2NvcGUpLGF3YWl0IHYoe2lkOlwiZHJvcGJveFwiLG9wdGlvbnM6ZSxhdXRob3JpemF0aW9uRW5kcG9pbnQ6XCJodHRwczovL3d3dy5kcm9wYm94LmNvbS9vYXV0aDIvYXV0aG9yaXplXCIsc2NvcGVzOmQsc3RhdGU6cixyZWRpcmVjdFVSSTpuLGNvZGVWZXJpZmllcjppfSl9LHZhbGlkYXRlQXV0aG9yaXphdGlvbkNvZGU6YXN5bmMoe2NvZGU6cixjb2RlVmVyaWZpZXI6byxyZWRpcmVjdFVSSTppfSk9PmF3YWl0IFIoe2NvZGU6cixjb2RlVmVyaWZpZXI6byxyZWRpcmVjdFVSSTplLnJlZGlyZWN0VVJJfHxpLG9wdGlvbnM6ZSx0b2tlbkVuZHBvaW50OnR9KSxhc3luYyBnZXRVc2VySW5mbyhyKXtsZXR7ZGF0YTpvLGVycm9yOml9PWF3YWl0IFVyKFwiaHR0cHM6Ly9hcGkuZHJvcGJveGFwaS5jb20vMi91c2Vycy9nZXRfY3VycmVudF9hY2NvdW50XCIse21ldGhvZDpcIlBPU1RcIixoZWFkZXJzOntBdXRob3JpemF0aW9uOmBCZWFyZXIgJHtyLmFjY2Vzc1Rva2VufWB9fSk7cmV0dXJuIGk/bnVsbDp7dXNlcjp7aWQ6by5hY2NvdW50X2lkLG5hbWU6by5uYW1lPy5kaXNwbGF5X25hbWUsZW1haWw6by5lbWFpbCxlbWFpbFZlcmlmaWVkOm8uZW1haWxfdmVyaWZpZWR8fCExLGltYWdlOm8ucHJvZmlsZV9waG90b191cmx9LGRhdGE6b319fX07aW1wb3J0e2JldHRlckZldGNoIGFzIFRyfWZyb21cIkBiZXR0ZXItZmV0Y2gvZmV0Y2hcIjt2YXIgWGU9ZT0+e2xldCB0PVwiaHR0cHM6Ly93d3cubGlua2VkaW4uY29tL29hdXRoL3YyL2F1dGhvcml6YXRpb25cIixyPVwiaHR0cHM6Ly93d3cubGlua2VkaW4uY29tL29hdXRoL3YyL2FjY2Vzc1Rva2VuXCI7cmV0dXJue2lkOlwibGlua2VkaW5cIixuYW1lOlwiTGlua2VkaW5cIixjcmVhdGVBdXRob3JpemF0aW9uVVJMOmFzeW5jKHtzdGF0ZTpvLHNjb3BlczppLHJlZGlyZWN0VVJJOm59KT0+e2xldCBkPWl8fFtcInByb2ZpbGVcIixcImVtYWlsXCIsXCJvcGVuaWRcIl07cmV0dXJuIGUuc2NvcGUmJmQucHVzaCguLi5lLnNjb3BlKSxhd2FpdCB2KHtpZDpcImxpbmtlZGluXCIsb3B0aW9uczplLGF1dGhvcml6YXRpb25FbmRwb2ludDp0LHNjb3BlczpkLHN0YXRlOm8scmVkaXJlY3RVUkk6bn0pfSx2YWxpZGF0ZUF1dGhvcml6YXRpb25Db2RlOmFzeW5jKHtjb2RlOm8scmVkaXJlY3RVUkk6aX0pPT5hd2FpdCBSKHtjb2RlOm8scmVkaXJlY3RVUkk6ZS5yZWRpcmVjdFVSSXx8aSxvcHRpb25zOmUsdG9rZW5FbmRwb2ludDpyfSksYXN5bmMgZ2V0VXNlckluZm8obyl7bGV0e2RhdGE6aSxlcnJvcjpufT1hd2FpdCBUcihcImh0dHBzOi8vYXBpLmxpbmtlZGluLmNvbS92Mi91c2VyaW5mb1wiLHttZXRob2Q6XCJHRVRcIixoZWFkZXJzOntBdXRob3JpemF0aW9uOmBCZWFyZXIgJHtvLmFjY2Vzc1Rva2VufWB9fSk7cmV0dXJuIG4/bnVsbDp7dXNlcjp7aWQ6aS5zdWIsbmFtZTppLm5hbWUsZW1haWw6aS5lbWFpbCxlbWFpbFZlcmlmaWVkOmkuZW1haWxfdmVyaWZpZWR8fCExLGltYWdlOmkucGljdHVyZX0sZGF0YTppfX19fTtpbXBvcnR7YmV0dGVyRmV0Y2ggYXMgRXJ9ZnJvbVwiQGJldHRlci1mZXRjaC9mZXRjaFwiO3ZhciB3ZT0oZT1cIlwiKT0+ZS5zcGxpdChcIjovL1wiKS5tYXAodD0+dC5yZXBsYWNlKC9cXC97Mix9L2csXCIvXCIpKS5qb2luKFwiOi8vXCIpLFByPWU9PntsZXQgdD1lfHxcImh0dHBzOi8vZ2l0bGFiLmNvbVwiO3JldHVybnthdXRob3JpemF0aW9uRW5kcG9pbnQ6d2UoYCR7dH0vb2F1dGgvYXV0aG9yaXplYCksdG9rZW5FbmRwb2ludDp3ZShgJHt0fS9vYXV0aC90b2tlbmApLHVzZXJpbmZvRW5kcG9pbnQ6d2UoYCR7dH0vYXBpL3Y0L3VzZXJgKX19LGV0PWU9PntsZXR7YXV0aG9yaXphdGlvbkVuZHBvaW50OnQsdG9rZW5FbmRwb2ludDpyLHVzZXJpbmZvRW5kcG9pbnQ6b309UHIoZS5pc3N1ZXIpLGk9XCJnaXRsYWJcIjtyZXR1cm57aWQ6aSxuYW1lOlwiR2l0bGFiXCIsY3JlYXRlQXV0aG9yaXphdGlvblVSTDphc3luYyh7c3RhdGU6ZCxzY29wZXM6dSxjb2RlVmVyaWZpZXI6cyxyZWRpcmVjdFVSSTphfSk9PntsZXQgYz11fHxbXCJyZWFkX3VzZXJcIl07cmV0dXJuIGUuc2NvcGUmJmMucHVzaCguLi5lLnNjb3BlKSxhd2FpdCB2KHtpZDppLG9wdGlvbnM6ZSxhdXRob3JpemF0aW9uRW5kcG9pbnQ6dCxzY29wZXM6YyxzdGF0ZTpkLHJlZGlyZWN0VVJJOmEsY29kZVZlcmlmaWVyOnN9KX0sdmFsaWRhdGVBdXRob3JpemF0aW9uQ29kZTphc3luYyh7Y29kZTpkLHJlZGlyZWN0VVJJOnUsY29kZVZlcmlmaWVyOnN9KT0+Uih7Y29kZTpkLHJlZGlyZWN0VVJJOmUucmVkaXJlY3RVUkl8fHUsb3B0aW9uczplLGNvZGVWZXJpZmllcjpzLHRva2VuRW5kcG9pbnQ6cn0pLGFzeW5jIGdldFVzZXJJbmZvKGQpe2xldHtkYXRhOnUsZXJyb3I6c309YXdhaXQgRXIobyx7aGVhZGVyczp7YXV0aG9yaXphdGlvbjpgQmVhcmVyICR7ZC5hY2Nlc3NUb2tlbn1gfX0pO3JldHVybiBzfHx1LnN0YXRlIT09XCJhY3RpdmVcInx8dS5sb2NrZWQ/bnVsbDp7dXNlcjp7aWQ6dS5pZC50b1N0cmluZygpLG5hbWU6dS5uYW1lPz91LnVzZXJuYW1lLGVtYWlsOnUuZW1haWwsaW1hZ2U6dS5hdmF0YXJfdXJsLGVtYWlsVmVyaWZpZWQ6ITB9LGRhdGE6dX19fX07dmFyIGJlPXthcHBsZTpqZSxkaXNjb3JkOnplLGZhY2Vib29rOk1lLGdpdGh1YjpHZSxtaWNyb3NvZnQ6UWUsZ29vZ2xlOktlLHNwb3RpZnk6V2UsdHdpdGNoOlplLHR3aXR0ZXI6SmUsZHJvcGJveDpZZSxsaW5rZWRpbjpYZSxnaXRsYWI6ZXR9LHNlPU9iamVjdC5rZXlzKGJlKTtpbXBvcnR7VGltZVNwYW4gYXMgSXJ9ZnJvbVwib3Nsb1wiO2ltcG9ydHtjcmVhdGVKV1QgYXMgT3IsdmFsaWRhdGVKV1QgYXMgU3J9ZnJvbVwib3Nsby9qd3RcIjtpbXBvcnR7eiBhcyBOfWZyb21cInpvZFwiO2ltcG9ydHtBUElFcnJvciBhcyBkZX1mcm9tXCJiZXR0ZXItY2FsbFwiO2ltcG9ydHtBUElFcnJvciBhcyBqfWZyb21cImJldHRlci1jYWxsXCI7aW1wb3J0e3ogYXMgWn1mcm9tXCJ6b2RcIjtmdW5jdGlvbiBNKGUpe3RyeXtyZXR1cm4gSlNPTi5wYXJzZShlKX1jYXRjaHtyZXR1cm4gbnVsbH19dmFyIEFlPSgpPT5iKFwiL2dldC1zZXNzaW9uXCIse21ldGhvZDpcIkdFVFwiLHF1ZXJ5Oloub3B0aW9uYWwoWi5vYmplY3Qoe2Rpc2FibGVDb29raWVDYWNoZTpaLmJvb2xlYW4oKS5vcHRpb25hbCgpfSkpLHJlcXVpcmVIZWFkZXJzOiEwfSxhc3luYyBlPT57dHJ5e2xldCB0PWF3YWl0IGUuZ2V0U2lnbmVkQ29va2llKGUuY29udGV4dC5hdXRoQ29va2llcy5zZXNzaW9uVG9rZW4ubmFtZSxlLmNvbnRleHQuc2VjcmV0KTtpZighdClyZXR1cm4gZS5qc29uKG51bGwpO2xldCByPWUuZ2V0Q29va2llKGUuY29udGV4dC5hdXRoQ29va2llcy5zZXNzaW9uRGF0YS5uYW1lKSxvPXI/TShCdWZmZXIuZnJvbShyLFwiYmFzZTY0XCIpLnRvU3RyaW5nKCkpOm51bGw7aWYobyYmIWF3YWl0IHRlLnZlcmlmeSh7dmFsdWU6SlNPTi5zdHJpbmdpZnkoby5zZXNzaW9uKSxzaWduYXR1cmU6bz8uc2lnbmF0dXJlLHNlY3JldDplLmNvbnRleHQuc2VjcmV0fSkpcmV0dXJuIHEoZSksZS5qc29uKG51bGwpO2xldCBpPWF3YWl0IGUuZ2V0U2lnbmVkQ29va2llKGUuY29udGV4dC5hdXRoQ29va2llcy5kb250UmVtZW1iZXJUb2tlbi5uYW1lLGUuY29udGV4dC5zZWNyZXQpO2lmKG8/LnNlc3Npb24mJmUuY29udGV4dC5vcHRpb25zLnNlc3Npb24/LmNvb2tpZUNhY2hlPy5lbmFibGVkJiYhZS5xdWVyeT8uZGlzYWJsZUNvb2tpZUNhY2hlKXtsZXQgYz1vLnNlc3Npb247aWYoby5leHBpcmVzQXQ8RGF0ZS5ub3coKXx8Yy5zZXNzaW9uLmV4cGlyZXNBdDxuZXcgRGF0ZSl7bGV0IGY9ZS5jb250ZXh0LmF1dGhDb29raWVzLnNlc3Npb25EYXRhLm5hbWU7ZS5zZXRDb29raWUoZixcIlwiLHttYXhBZ2U6MH0pfWVsc2UgcmV0dXJuIGUuanNvbihjKX1sZXQgbj1hd2FpdCBlLmNvbnRleHQuaW50ZXJuYWxBZGFwdGVyLmZpbmRTZXNzaW9uKHQpO2lmKCFufHxuLnNlc3Npb24uZXhwaXJlc0F0PG5ldyBEYXRlKXJldHVybiBxKGUpLG4mJmF3YWl0IGUuY29udGV4dC5pbnRlcm5hbEFkYXB0ZXIuZGVsZXRlU2Vzc2lvbihuLnNlc3Npb24uaWQpLGUuanNvbihudWxsKTtpZihpKXJldHVybiBlLmpzb24obik7bGV0IGQ9ZS5jb250ZXh0LnNlc3Npb25Db25maWcuZXhwaXJlc0luLHU9ZS5jb250ZXh0LnNlc3Npb25Db25maWcudXBkYXRlQWdlO2lmKG4uc2Vzc2lvbi5leHBpcmVzQXQudmFsdWVPZigpLWQqMWUzK3UqMWUzPD1EYXRlLm5vdygpKXtsZXQgYz1hd2FpdCBlLmNvbnRleHQuaW50ZXJuYWxBZGFwdGVyLnVwZGF0ZVNlc3Npb24obi5zZXNzaW9uLmlkLHtleHBpcmVzQXQ6UyhlLmNvbnRleHQuc2Vzc2lvbkNvbmZpZy5leHBpcmVzSW4sXCJzZWNcIil9KTtpZighYylyZXR1cm4gcShlKSxlLmpzb24obnVsbCx7c3RhdHVzOjQwMX0pO2xldCBtPShjLmV4cGlyZXNBdC52YWx1ZU9mKCktRGF0ZS5ub3coKSkvMWUzO3JldHVybiBhd2FpdCBJKGUse3Nlc3Npb246Yyx1c2VyOm4udXNlcn0sITEse21heEFnZTptfSksZS5qc29uKHtzZXNzaW9uOmMsdXNlcjpuLnVzZXJ9KX1yZXR1cm4gZS5qc29uKG4pfWNhdGNoKHQpe3Rocm93IGUuY29udGV4dC5sb2dnZXIuZXJyb3IoXCJJTlRFUk5BTF9TRVJWRVJfRVJST1JcIix0KSxuZXcgaihcIklOVEVSTkFMX1NFUlZFUl9FUlJPUlwiLHttZXNzYWdlOlwiaW50ZXJuYWwgc2VydmVyIGVycm9yXCJ9KX19KSxhZT1hc3luYyBlPT57aWYoZS5jb250ZXh0LnNlc3Npb24pcmV0dXJuIGUuY29udGV4dC5zZXNzaW9uO2xldCB0PWF3YWl0IEFlKCkoey4uLmUsX2ZsYWc6XCJqc29uXCIsaGVhZGVyczplLmhlYWRlcnN9KTtyZXR1cm4gZS5jb250ZXh0LnNlc3Npb249dCx0fSxDPWVlKGFzeW5jIGU9PntsZXQgdD1hd2FpdCBhZShlKTtpZighdD8uc2Vzc2lvbil0aHJvdyBuZXcgaihcIlVOQVVUSE9SSVpFRFwiKTtyZXR1cm57c2Vzc2lvbjp0fX0pLHR0PSgpPT5iKFwiL2xpc3Qtc2Vzc2lvbnNcIix7bWV0aG9kOlwiR0VUXCIsdXNlOltDXSxyZXF1aXJlSGVhZGVyczohMH0sYXN5bmMgZT0+e2xldCByPShhd2FpdCBlLmNvbnRleHQuaW50ZXJuYWxBZGFwdGVyLmxpc3RTZXNzaW9ucyhlLmNvbnRleHQuc2Vzc2lvbi51c2VyLmlkKSkuZmlsdGVyKG89Pm8uZXhwaXJlc0F0Pm5ldyBEYXRlKTtyZXR1cm4gZS5qc29uKHIpfSkscnQ9YihcIi9yZXZva2Utc2Vzc2lvblwiLHttZXRob2Q6XCJQT1NUXCIsYm9keTpaLm9iamVjdCh7aWQ6Wi5zdHJpbmcoKX0pLHVzZTpbQ10scmVxdWlyZUhlYWRlcnM6ITB9LGFzeW5jIGU9PntsZXQgdD1lLmJvZHkuaWQscj1hd2FpdCBlLmNvbnRleHQuaW50ZXJuYWxBZGFwdGVyLmZpbmRTZXNzaW9uKHQpO2lmKCFyKXRocm93IG5ldyBqKFwiQkFEX1JFUVVFU1RcIix7bWVzc2FnZTpcIlNlc3Npb24gbm90IGZvdW5kXCJ9KTtpZihyLnNlc3Npb24udXNlcklkIT09ZS5jb250ZXh0LnNlc3Npb24udXNlci5pZCl0aHJvdyBuZXcgaihcIlVOQVVUSE9SSVpFRFwiKTt0cnl7YXdhaXQgZS5jb250ZXh0LmludGVybmFsQWRhcHRlci5kZWxldGVTZXNzaW9uKHQpfWNhdGNoKG8pe3Rocm93IGUuY29udGV4dC5sb2dnZXIuZXJyb3IobyYmdHlwZW9mIG89PVwib2JqZWN0XCImJlwibmFtZVwiaW4gbz9vLm5hbWU6XCJcIixvKSxuZXcgaihcIklOVEVSTkFMX1NFUlZFUl9FUlJPUlwiKX1yZXR1cm4gZS5qc29uKHtzdGF0dXM6ITB9KX0pLG90PWIoXCIvcmV2b2tlLXNlc3Npb25zXCIse21ldGhvZDpcIlBPU1RcIix1c2U6W0NdLHJlcXVpcmVIZWFkZXJzOiEwfSxhc3luYyBlPT57dHJ5e2F3YWl0IGUuY29udGV4dC5pbnRlcm5hbEFkYXB0ZXIuZGVsZXRlU2Vzc2lvbnMoZS5jb250ZXh0LnNlc3Npb24udXNlci5pZCl9Y2F0Y2godCl7dGhyb3cgZS5jb250ZXh0LmxvZ2dlci5lcnJvcih0JiZ0eXBlb2YgdD09XCJvYmplY3RcIiYmXCJuYW1lXCJpbiB0P3QubmFtZTpcIlwiLHQpLG5ldyBqKFwiSU5URVJOQUxfU0VSVkVSX0VSUk9SXCIpfXJldHVybiBlLmpzb24oe3N0YXR1czohMH0pfSksbnQ9YihcIi9yZXZva2Utb3RoZXItc2Vzc2lvbnNcIix7bWV0aG9kOlwiUE9TVFwiLHJlcXVpcmVIZWFkZXJzOiEwLHVzZTpbQ119LGFzeW5jIGU9PntsZXQgdD1lLmNvbnRleHQuc2Vzc2lvbjtpZighdC51c2VyKXRocm93IG5ldyBqKFwiVU5BVVRIT1JJWkVEXCIpO2xldCBpPShhd2FpdCBlLmNvbnRleHQuaW50ZXJuYWxBZGFwdGVyLmxpc3RTZXNzaW9ucyh0LnVzZXIuaWQpKS5maWx0ZXIobj0+bi5leHBpcmVzQXQ+bmV3IERhdGUpLmZpbHRlcihuPT5uLmlkIT09ZS5jb250ZXh0LnNlc3Npb24uc2Vzc2lvbi5pZCk7cmV0dXJuIGF3YWl0IFByb21pc2UuYWxsKGkubWFwKG49PmUuY29udGV4dC5pbnRlcm5hbEFkYXB0ZXIuZGVsZXRlU2Vzc2lvbihuLmlkKSkpLGUuanNvbih7c3RhdHVzOiEwfSl9KTthc3luYyBmdW5jdGlvbiBWKGUsdCxyKXtyZXR1cm4gYXdhaXQgT3IoXCJIUzI1NlwiLEJ1ZmZlci5mcm9tKGUpLHtlbWFpbDp0LnRvTG93ZXJDYXNlKCksdXBkYXRlVG86cn0se2V4cGlyZXNJbjpuZXcgSXIoMSxcImhcIiksaXNzdWVyOlwiYmV0dGVyLWF1dGhcIixzdWJqZWN0OlwidmVyaWZ5LWVtYWlsXCIsYXVkaWVuY2VzOlt0XSxpbmNsdWRlSXNzdWVkVGltZXN0YW1wOiEwfSl9dmFyIGl0PWIoXCIvc2VuZC12ZXJpZmljYXRpb24tZW1haWxcIix7bWV0aG9kOlwiUE9TVFwiLHF1ZXJ5Ok4ub2JqZWN0KHtjdXJyZW50VVJMOk4uc3RyaW5nKCkub3B0aW9uYWwoKX0pLm9wdGlvbmFsKCksYm9keTpOLm9iamVjdCh7ZW1haWw6Ti5zdHJpbmcoKS5lbWFpbCgpLGNhbGxiYWNrVVJMOk4uc3RyaW5nKCkub3B0aW9uYWwoKX0pfSxhc3luYyBlPT57aWYoIWUuY29udGV4dC5vcHRpb25zLmVtYWlsVmVyaWZpY2F0aW9uPy5zZW5kVmVyaWZpY2F0aW9uRW1haWwpdGhyb3cgZS5jb250ZXh0LmxvZ2dlci5lcnJvcihcIlZlcmlmaWNhdGlvbiBlbWFpbCBpc24ndCBlbmFibGVkLlwiKSxuZXcgZGUoXCJCQURfUkVRVUVTVFwiLHttZXNzYWdlOlwiVmVyaWZpY2F0aW9uIGVtYWlsIGlzbid0IGVuYWJsZWRcIn0pO2xldHtlbWFpbDp0fT1lLmJvZHkscj1hd2FpdCBlLmNvbnRleHQuaW50ZXJuYWxBZGFwdGVyLmZpbmRVc2VyQnlFbWFpbCh0KTtpZighcil0aHJvdyBuZXcgZGUoXCJCQURfUkVRVUVTVFwiLHttZXNzYWdlOlwiVXNlciBub3QgZm91bmRcIn0pO2xldCBvPWF3YWl0IFYoZS5jb250ZXh0LnNlY3JldCx0KSxpPWAke2UuY29udGV4dC5iYXNlVVJMfS92ZXJpZnktZW1haWw/dG9rZW49JHtvfSZjYWxsYmFja1VSTD0ke2UuYm9keS5jYWxsYmFja1VSTHx8ZS5xdWVyeT8uY3VycmVudFVSTHx8XCIvXCJ9YDtyZXR1cm4gYXdhaXQgZS5jb250ZXh0Lm9wdGlvbnMuZW1haWxWZXJpZmljYXRpb24uc2VuZFZlcmlmaWNhdGlvbkVtYWlsKHt1c2VyOnIudXNlcix1cmw6aSx0b2tlbjpvfSxlLnJlcXVlc3QpLGUuanNvbih7c3RhdHVzOiEwfSl9KSxzdD1iKFwiL3ZlcmlmeS1lbWFpbFwiLHttZXRob2Q6XCJHRVRcIixxdWVyeTpOLm9iamVjdCh7dG9rZW46Ti5zdHJpbmcoKSxjYWxsYmFja1VSTDpOLnN0cmluZygpLm9wdGlvbmFsKCl9KX0sYXN5bmMgZT0+e2Z1bmN0aW9uIHQodSl7dGhyb3cgZS5xdWVyeS5jYWxsYmFja1VSTD9lLnJlZGlyZWN0KGAke2UucXVlcnkuY2FsbGJhY2tVUkx9P2Vycm9yPSR7dX1gKTpuZXcgZGUoXCJVTkFVVEhPUklaRURcIix7bWVzc2FnZTp1fSl9bGV0e3Rva2VuOnJ9PWUucXVlcnksbzt0cnl7bz1hd2FpdCBTcihcIkhTMjU2XCIsQnVmZmVyLmZyb20oZS5jb250ZXh0LnNlY3JldCkscil9Y2F0Y2godSl7cmV0dXJuIGUuY29udGV4dC5sb2dnZXIuZXJyb3IoXCJGYWlsZWQgdG8gdmVyaWZ5IGVtYWlsXCIsdSksdChcImludmFsaWRfdG9rZW5cIil9bGV0IG49Ti5vYmplY3Qoe2VtYWlsOk4uc3RyaW5nKCkuZW1haWwoKSx1cGRhdGVUbzpOLnN0cmluZygpLm9wdGlvbmFsKCl9KS5wYXJzZShvLnBheWxvYWQpLGQ9YXdhaXQgZS5jb250ZXh0LmludGVybmFsQWRhcHRlci5maW5kVXNlckJ5RW1haWwobi5lbWFpbCk7aWYoIWQpcmV0dXJuIHQoXCJ1c2VyX25vdF9mb3VuZFwiKTtpZihuLnVwZGF0ZVRvKXtsZXQgdT1hd2FpdCBhZShlKTtpZighdSl7aWYoZS5xdWVyeS5jYWxsYmFja1VSTCl0aHJvdyBlLnJlZGlyZWN0KGAke2UucXVlcnkuY2FsbGJhY2tVUkx9P2Vycm9yPXVuYXV0aG9yaXplZGApO3JldHVybiB0KFwidW5hdXRob3JpemVkXCIpfWlmKHUudXNlci5lbWFpbCE9PW4uZW1haWwpe2lmKGUucXVlcnkuY2FsbGJhY2tVUkwpdGhyb3cgZS5yZWRpcmVjdChgJHtlLnF1ZXJ5LmNhbGxiYWNrVVJMfT9lcnJvcj11bmF1dGhvcml6ZWRgKTtyZXR1cm4gdChcInVuYXV0aG9yaXplZFwiKX1sZXQgcz1hd2FpdCBlLmNvbnRleHQuaW50ZXJuYWxBZGFwdGVyLnVwZGF0ZVVzZXJCeUVtYWlsKG4uZW1haWwse2VtYWlsOm4udXBkYXRlVG99KTtpZihhd2FpdCBlLmNvbnRleHQub3B0aW9ucy5lbWFpbFZlcmlmaWNhdGlvbj8uc2VuZFZlcmlmaWNhdGlvbkVtYWlsPy4oe3VzZXI6cyx1cmw6YCR7ZS5jb250ZXh0LmJhc2VVUkx9L3ZlcmlmeS1lbWFpbD90b2tlbj0ke3J9YCx0b2tlbjpyfSxlLnJlcXVlc3QpLGUucXVlcnkuY2FsbGJhY2tVUkwpdGhyb3cgZS5yZWRpcmVjdChlLnF1ZXJ5LmNhbGxiYWNrVVJMKTtyZXR1cm4gZS5qc29uKHt1c2VyOnMsc3RhdHVzOiEwfSl9aWYoYXdhaXQgZS5jb250ZXh0LmludGVybmFsQWRhcHRlci51cGRhdGVVc2VyQnlFbWFpbChuLmVtYWlsLHtlbWFpbFZlcmlmaWVkOiEwfSksZS5jb250ZXh0Lm9wdGlvbnMuZW1haWxWZXJpZmljYXRpb24/LmF1dG9TaWduSW5BZnRlclZlcmlmaWNhdGlvbiYmIWF3YWl0IGFlKGUpKXtsZXQgcz1hd2FpdCBlLmNvbnRleHQuaW50ZXJuYWxBZGFwdGVyLmNyZWF0ZVNlc3Npb24oZC51c2VyLmlkLGUucmVxdWVzdCk7aWYoIXMpdGhyb3cgbmV3IGRlKFwiSU5URVJOQUxfU0VSVkVSX0VSUk9SXCIse21lc3NhZ2U6XCJGYWlsZWQgdG8gY3JlYXRlIHNlc3Npb25cIn0pO2F3YWl0IEkoZSx7c2Vzc2lvbjpzLHVzZXI6ZC51c2VyfSl9aWYoZS5xdWVyeS5jYWxsYmFja1VSTCl0aHJvdyBlLnJlZGlyZWN0KGUucXVlcnkuY2FsbGJhY2tVUkwpO3JldHVybiBlLmpzb24oe3VzZXI6bnVsbCxzdGF0dXM6ITB9KX0pO2FzeW5jIGZ1bmN0aW9uIGNlKGUse3VzZXJJbmZvOnQsYWNjb3VudDpyLGNhbGxiYWNrVVJMOm99KXtsZXQgaT1hd2FpdCBlLmNvbnRleHQuaW50ZXJuYWxBZGFwdGVyLmZpbmRVc2VyQnlFbWFpbCh0LmVtYWlsLnRvTG93ZXJDYXNlKCkse2luY2x1ZGVBY2NvdW50czohMH0pLmNhdGNoKHU9Pnt0aHJvdyBMLmVycm9yKGBCZXR0ZXIgYXV0aCB3YXMgdW5hYmxlIHRvIHF1ZXJ5IHlvdXIgZGF0YWJhc2UuXG5FcnJvcjogYCx1KSxlLnJlZGlyZWN0KGAke2UuY29udGV4dC5iYXNlVVJMfS9lcnJvcj9lcnJvcj1pbnRlcm5hbF9zZXJ2ZXJfZXJyb3JgKX0pLG49aT8udXNlcjtpZihpKXtsZXQgdT1pLmFjY291bnRzLmZpbmQocz0+cy5wcm92aWRlcklkPT09ci5wcm92aWRlcklkKTtpZih1KWF3YWl0IGUuY29udGV4dC5pbnRlcm5hbEFkYXB0ZXIudXBkYXRlQWNjb3VudCh1LmlkLHthY2Nlc3NUb2tlbjpyLmFjY2Vzc1Rva2VuLGlkVG9rZW46ci5pZFRva2VuLHJlZnJlc2hUb2tlbjpyLnJlZnJlc2hUb2tlbixleHBpcmVzQXQ6ci5leHBpcmVzQXR9KTtlbHNle2lmKCFlLmNvbnRleHQub3B0aW9ucy5hY2NvdW50Py5hY2NvdW50TGlua2luZz8udHJ1c3RlZFByb3ZpZGVycz8uaW5jbHVkZXMoci5wcm92aWRlcklkKSYmIXQuZW1haWxWZXJpZmllZHx8ZS5jb250ZXh0Lm9wdGlvbnMuYWNjb3VudD8uYWNjb3VudExpbmtpbmc/LmVuYWJsZWQ9PT0hMSlyZXR1cm4gQ2UmJkwud2FybihgVXNlciBhbHJlYWR5IGV4aXN0IGJ1dCBhY2NvdW50IGlzbid0IGxpbmtlZCB0byAke3IucHJvdmlkZXJJZH0uIFRvIHJlYWQgbW9yZSBhYm91dCBob3cgYWNjb3VudCBsaW5raW5nIHdvcmtzIGluIEJldHRlciBBdXRoIHNlZSBodHRwczovL3d3dy5iZXR0ZXItYXV0aC5jb20vZG9jcy9jb25jZXB0cy91c2Vycy1hY2NvdW50cyNhY2NvdW50LWxpbmtpbmcuYCkse2Vycm9yOlwiYWNjb3VudCBub3QgbGlua2VkXCIsZGF0YTpudWxsfTt0cnl7YXdhaXQgZS5jb250ZXh0LmludGVybmFsQWRhcHRlci5saW5rQWNjb3VudCh7cHJvdmlkZXJJZDpyLnByb3ZpZGVySWQsYWNjb3VudElkOnQuaWQudG9TdHJpbmcoKSxpZDplLmNvbnRleHQudXVpZCgpLHVzZXJJZDppLnVzZXIuaWQsYWNjZXNzVG9rZW46ci5hY2Nlc3NUb2tlbixpZFRva2VuOnIuaWRUb2tlbixyZWZyZXNoVG9rZW46ci5yZWZyZXNoVG9rZW4sZXhwaXJlc0F0OnIuZXhwaXJlc0F0fSl9Y2F0Y2goYyl7cmV0dXJuIEwuZXJyb3IoXCJVbmFibGUgdG8gbGluayBhY2NvdW50XCIsYykse2Vycm9yOlwidW5hYmxlIHRvIGxpbmsgYWNjb3VudFwiLGRhdGE6bnVsbH19fX1lbHNlIHRyeXtsZXQgdT10LmVtYWlsVmVyaWZpZWR8fCExO2lmKG49YXdhaXQgZS5jb250ZXh0LmludGVybmFsQWRhcHRlci5jcmVhdGVPQXV0aFVzZXIoey4uLnQsaWQ6ZS5jb250ZXh0LnV1aWQoKSxlbWFpbFZlcmlmaWVkOnUsZW1haWw6dC5lbWFpbC50b0xvd2VyQ2FzZSgpfSx7YWNjZXNzVG9rZW46ci5hY2Nlc3NUb2tlbixpZFRva2VuOnIuaWRUb2tlbixyZWZyZXNoVG9rZW46ci5yZWZyZXNoVG9rZW4sZXhwaXJlc0F0OnIuZXhwaXJlc0F0LHByb3ZpZGVySWQ6ci5wcm92aWRlcklkLGFjY291bnRJZDp0LmlkLnRvU3RyaW5nKCl9KS50aGVuKHM9PnM/LnVzZXIpLCF1JiZuJiZlLmNvbnRleHQub3B0aW9ucy5lbWFpbFZlcmlmaWNhdGlvbj8uc2VuZE9uU2lnblVwKXtsZXQgcz1hd2FpdCBWKGUuY29udGV4dC5zZWNyZXQsbi5lbWFpbCksYT1gJHtlLmNvbnRleHQuYmFzZVVSTH0vdmVyaWZ5LWVtYWlsP3Rva2VuPSR7c30mY2FsbGJhY2tVUkw9JHtvfWA7YXdhaXQgZS5jb250ZXh0Lm9wdGlvbnMuZW1haWxWZXJpZmljYXRpb24/LnNlbmRWZXJpZmljYXRpb25FbWFpbD8uKHt1c2VyOm4sdXJsOmEsdG9rZW46c30sZS5yZXF1ZXN0KX19Y2F0Y2godSl7cmV0dXJuIEwuZXJyb3IoXCJVbmFibGUgdG8gY3JlYXRlIHVzZXJcIix1KSx7ZXJyb3I6XCJ1bmFibGUgdG8gY3JlYXRlIHVzZXJcIixkYXRhOm51bGx9fWlmKCFuKXJldHVybntlcnJvcjpcInVuYWJsZSB0byBjcmVhdGUgdXNlclwiLGRhdGE6bnVsbH07bGV0IGQ9YXdhaXQgZS5jb250ZXh0LmludGVybmFsQWRhcHRlci5jcmVhdGVTZXNzaW9uKG4uaWQsZS5yZXF1ZXN0KTtyZXR1cm4gZD97ZGF0YTp7c2Vzc2lvbjpkLHVzZXI6bn0sZXJyb3I6bnVsbH06e2Vycm9yOlwidW5hYmxlIHRvIGNyZWF0ZSBzZXNzaW9uXCIsZGF0YTpudWxsfX12YXIgYXQ9YihcIi9zaWduLWluL3NvY2lhbFwiLHttZXRob2Q6XCJQT1NUXCIscXVlcnk6VS5vYmplY3Qoe2N1cnJlbnRVUkw6VS5zdHJpbmcoKS5vcHRpb25hbCgpfSkub3B0aW9uYWwoKSxib2R5OlUub2JqZWN0KHtjYWxsYmFja1VSTDpVLnN0cmluZygpLm9wdGlvbmFsKCksZXJyb3JDYWxsYmFja1VSTDpVLnN0cmluZygpLm9wdGlvbmFsKCkscHJvdmlkZXI6VS5lbnVtKHNlKSxkaXNhYmxlUmVkaXJlY3Q6VS5ib29sZWFuKCkub3B0aW9uYWwoKSxpZFRva2VuOlUub3B0aW9uYWwoVS5vYmplY3Qoe3Rva2VuOlUuc3RyaW5nKCksbm9uY2U6VS5zdHJpbmcoKS5vcHRpb25hbCgpLGFjY2Vzc1Rva2VuOlUuc3RyaW5nKCkub3B0aW9uYWwoKSxyZWZyZXNoVG9rZW46VS5zdHJpbmcoKS5vcHRpb25hbCgpLGV4cGlyZXNBdDpVLm51bWJlcigpLm9wdGlvbmFsKCl9KSl9KX0sYXN5bmMgZT0+e2xldCB0PWUuY29udGV4dC5zb2NpYWxQcm92aWRlcnMuZmluZChuPT5uLmlkPT09ZS5ib2R5LnByb3ZpZGVyKTtpZighdCl0aHJvdyBlLmNvbnRleHQubG9nZ2VyLmVycm9yKFwiUHJvdmlkZXIgbm90IGZvdW5kLiBNYWtlIHN1cmUgdG8gYWRkIHRoZSBwcm92aWRlciBpbiB5b3VyIGF1dGggY29uZmlnXCIse3Byb3ZpZGVyOmUuYm9keS5wcm92aWRlcn0pLG5ldyBFKFwiTk9UX0ZPVU5EXCIse21lc3NhZ2U6XCJQcm92aWRlciBub3QgZm91bmRcIn0pO2lmKGUuYm9keS5pZFRva2VuKXtpZighdC52ZXJpZnlJZFRva2VuKXRocm93IGUuY29udGV4dC5sb2dnZXIuZXJyb3IoXCJQcm92aWRlciBkb2VzIG5vdCBzdXBwb3J0IGlkIHRva2VuIHZlcmlmaWNhdGlvblwiLHtwcm92aWRlcjplLmJvZHkucHJvdmlkZXJ9KSxuZXcgRShcIk5PVF9GT1VORFwiLHttZXNzYWdlOlwiUHJvdmlkZXIgZG9lcyBub3Qgc3VwcG9ydCBpZCB0b2tlbiB2ZXJpZmljYXRpb25cIn0pO2xldHt0b2tlbjpuLG5vbmNlOmR9PWUuYm9keS5pZFRva2VuO2lmKCFhd2FpdCB0LnZlcmlmeUlkVG9rZW4obixkKSl0aHJvdyBlLmNvbnRleHQubG9nZ2VyLmVycm9yKFwiSW52YWxpZCBpZCB0b2tlblwiLHtwcm92aWRlcjplLmJvZHkucHJvdmlkZXJ9KSxuZXcgRShcIlVOQVVUSE9SSVpFRFwiLHttZXNzYWdlOlwiSW52YWxpZCBpZCB0b2tlblwifSk7bGV0IHM9YXdhaXQgdC5nZXRVc2VySW5mbyh7aWRUb2tlbjpuLGFjY2Vzc1Rva2VuOmUuYm9keS5pZFRva2VuLmFjY2Vzc1Rva2VuLHJlZnJlc2hUb2tlbjplLmJvZHkuaWRUb2tlbi5yZWZyZXNoVG9rZW59KTtpZighc3x8IXM/LnVzZXIpdGhyb3cgZS5jb250ZXh0LmxvZ2dlci5lcnJvcihcIkZhaWxlZCB0byBnZXQgdXNlciBpbmZvXCIse3Byb3ZpZGVyOmUuYm9keS5wcm92aWRlcn0pLG5ldyBFKFwiVU5BVVRIT1JJWkVEXCIse21lc3NhZ2U6XCJGYWlsZWQgdG8gZ2V0IHVzZXIgaW5mb1wifSk7aWYoIXMudXNlci5lbWFpbCl0aHJvdyBlLmNvbnRleHQubG9nZ2VyLmVycm9yKFwiVXNlciBlbWFpbCBub3QgZm91bmRcIix7cHJvdmlkZXI6ZS5ib2R5LnByb3ZpZGVyfSksbmV3IEUoXCJVTkFVVEhPUklaRURcIix7bWVzc2FnZTpcIlVzZXIgZW1haWwgbm90IGZvdW5kXCJ9KTtsZXQgYT1hd2FpdCBjZShlLHt1c2VySW5mbzp7ZW1haWw6cy51c2VyLmVtYWlsLGlkOnMudXNlci5pZCxuYW1lOnMudXNlci5uYW1lfHxcIlwiLGltYWdlOnMudXNlci5pbWFnZSxlbWFpbFZlcmlmaWVkOnMudXNlci5lbWFpbFZlcmlmaWVkfHwhMX0sYWNjb3VudDp7cHJvdmlkZXJJZDp0LmlkLGFjY291bnRJZDpzLnVzZXIuaWQsYWNjZXNzVG9rZW46ZS5ib2R5LmlkVG9rZW4uYWNjZXNzVG9rZW59fSk7aWYoYS5lcnJvcil0aHJvdyBuZXcgRShcIlVOQVVUSE9SSVpFRFwiLHttZXNzYWdlOmEuZXJyb3J9KTtyZXR1cm4gYXdhaXQgSShlLGEuZGF0YSksZS5qc29uKHtzZXNzaW9uOmEuZGF0YS5zZXNzaW9uLHVzZXI6YS5kYXRhLnVzZXIsdXJsOmAke2UuYm9keS5jYWxsYmFja1VSTHx8ZS5xdWVyeT8uY3VycmVudFVSTHx8ZS5jb250ZXh0Lm9wdGlvbnMuYmFzZVVSTH1gLHJlZGlyZWN0OiEwfSl9bGV0e2NvZGVWZXJpZmllcjpyLHN0YXRlOm99PWF3YWl0IG5lKGUpLGk9YXdhaXQgdC5jcmVhdGVBdXRob3JpemF0aW9uVVJMKHtzdGF0ZTpvLGNvZGVWZXJpZmllcjpyLHJlZGlyZWN0VVJJOmAke2UuY29udGV4dC5iYXNlVVJMfS9jYWxsYmFjay8ke3QuaWR9YH0pO3JldHVybiBlLmpzb24oe3VybDppLnRvU3RyaW5nKCkscmVkaXJlY3Q6IWUuYm9keS5kaXNhYmxlUmVkaXJlY3R9KX0pLGR0PWIoXCIvc2lnbi1pbi9lbWFpbFwiLHttZXRob2Q6XCJQT1NUXCIsYm9keTpVLm9iamVjdCh7ZW1haWw6VS5zdHJpbmcoKSxwYXNzd29yZDpVLnN0cmluZygpLGNhbGxiYWNrVVJMOlUuc3RyaW5nKCkub3B0aW9uYWwoKSxyZW1lbWJlck1lOlUuYm9vbGVhbigpLmRlZmF1bHQoITApLm9wdGlvbmFsKCl9KX0sYXN5bmMgZT0+e2lmKCFlLmNvbnRleHQub3B0aW9ucz8uZW1haWxBbmRQYXNzd29yZD8uZW5hYmxlZCl0aHJvdyBlLmNvbnRleHQubG9nZ2VyLmVycm9yKFwiRW1haWwgYW5kIHBhc3N3b3JkIGlzIG5vdCBlbmFibGVkLiBNYWtlIHN1cmUgdG8gZW5hYmxlIGl0IGluIHRoZSBvcHRpb25zIG9uIHlvdSBgYXV0aC50c2AgZmlsZS4gQ2hlY2sgYGh0dHBzOi8vYmV0dGVyLWF1dGguY29tL2RvY3MvYXV0aGVudGljYXRpb24vZW1haWwtcGFzc3dvcmRgIGZvciBtb3JlIVwiKSxuZXcgRShcIkJBRF9SRVFVRVNUXCIse21lc3NhZ2U6XCJFbWFpbCBhbmQgcGFzc3dvcmQgaXMgbm90IGVuYWJsZWRcIn0pO2xldHtlbWFpbDp0LHBhc3N3b3JkOnJ9PWUuYm9keTtpZighVS5zdHJpbmcoKS5lbWFpbCgpLnNhZmVQYXJzZSh0KS5zdWNjZXNzKXRocm93IG5ldyBFKFwiQkFEX1JFUVVFU1RcIix7bWVzc2FnZTpcIkludmFsaWQgZW1haWxcIn0pO2xldCBpPWF3YWl0IGUuY29udGV4dC5pbnRlcm5hbEFkYXB0ZXIuZmluZFVzZXJCeUVtYWlsKHQse2luY2x1ZGVBY2NvdW50czohMH0pO2lmKCFpKXRocm93IGF3YWl0IGUuY29udGV4dC5wYXNzd29yZC5oYXNoKHIpLGUuY29udGV4dC5sb2dnZXIuZXJyb3IoXCJVc2VyIG5vdCBmb3VuZFwiLHtlbWFpbDp0fSksbmV3IEUoXCJVTkFVVEhPUklaRURcIix7bWVzc2FnZTpcIkludmFsaWQgZW1haWwgb3IgcGFzc3dvcmRcIn0pO2xldCBuPWkuYWNjb3VudHMuZmluZChhPT5hLnByb3ZpZGVySWQ9PT1cImNyZWRlbnRpYWxcIik7aWYoIW4pdGhyb3cgZS5jb250ZXh0LmxvZ2dlci5lcnJvcihcIkNyZWRlbnRpYWwgYWNjb3VudCBub3QgZm91bmRcIix7ZW1haWw6dH0pLG5ldyBFKFwiVU5BVVRIT1JJWkVEXCIse21lc3NhZ2U6XCJJbnZhbGlkIGVtYWlsIG9yIHBhc3N3b3JkXCJ9KTtsZXQgZD1uPy5wYXNzd29yZDtpZighZCl0aHJvdyBlLmNvbnRleHQubG9nZ2VyLmVycm9yKFwiUGFzc3dvcmQgbm90IGZvdW5kXCIse2VtYWlsOnR9KSxuZXcgRShcIlVOQVVUSE9SSVpFRFwiLHttZXNzYWdlOlwiVW5leHBlY3RlZCBlcnJvclwifSk7aWYoIWF3YWl0IGUuY29udGV4dC5wYXNzd29yZC52ZXJpZnkoZCxyKSl0aHJvdyBlLmNvbnRleHQubG9nZ2VyLmVycm9yKFwiSW52YWxpZCBwYXNzd29yZFwiKSxuZXcgRShcIlVOQVVUSE9SSVpFRFwiLHttZXNzYWdlOlwiSW52YWxpZCBlbWFpbCBvciBwYXNzd29yZFwifSk7aWYoZS5jb250ZXh0Lm9wdGlvbnM/LmVtYWlsQW5kUGFzc3dvcmQ/LnJlcXVpcmVFbWFpbFZlcmlmaWNhdGlvbiYmIWkudXNlci5lbWFpbFZlcmlmaWVkKXtpZighZS5jb250ZXh0Lm9wdGlvbnM/LmVtYWlsVmVyaWZpY2F0aW9uPy5zZW5kVmVyaWZpY2F0aW9uRW1haWwpdGhyb3cgZS5jb250ZXh0LmxvZ2dlci5lcnJvcihcIkVtYWlsIHZlcmlmaWNhdGlvbiBpcyByZXF1aXJlZCBidXQgbm8gZW1haWwgdmVyaWZpY2F0aW9uIGhhbmRsZXIgaXMgcHJvdmlkZWRcIiksbmV3IEUoXCJJTlRFUk5BTF9TRVJWRVJfRVJST1JcIix7bWVzc2FnZTpcIkVtYWlsIGlzIG5vdCB2ZXJpZmllZC5cIn0pO2xldCBhPWF3YWl0IFYoZS5jb250ZXh0LnNlY3JldCxpLnVzZXIuZW1haWwpLGM9YCR7ZS5jb250ZXh0LmJhc2VVUkx9L3ZlcmlmeS1lbWFpbD90b2tlbj0ke2F9JmNhbGxiYWNrVVJMPSR7ZS5ib2R5LmNhbGxiYWNrVVJMfHxcIi9cIn1gO3Rocm93IGF3YWl0IGUuY29udGV4dC5vcHRpb25zLmVtYWlsVmVyaWZpY2F0aW9uLnNlbmRWZXJpZmljYXRpb25FbWFpbCh7dXNlcjppLnVzZXIsdXJsOmMsdG9rZW46YX0sZS5yZXF1ZXN0KSxlLmNvbnRleHQubG9nZ2VyLmVycm9yKFwiRW1haWwgbm90IHZlcmlmaWVkXCIse2VtYWlsOnR9KSxuZXcgRShcIkZPUkJJRERFTlwiLHttZXNzYWdlOlwiRW1haWwgaXMgbm90IHZlcmlmaWVkLiBDaGVjayB5b3VyIGVtYWlsIGZvciBhIHZlcmlmaWNhdGlvbiBsaW5rXCJ9KX1sZXQgcz1hd2FpdCBlLmNvbnRleHQuaW50ZXJuYWxBZGFwdGVyLmNyZWF0ZVNlc3Npb24oaS51c2VyLmlkLGUuaGVhZGVycyxlLmJvZHkucmVtZW1iZXJNZT09PSExKTtpZighcyl0aHJvdyBlLmNvbnRleHQubG9nZ2VyLmVycm9yKFwiRmFpbGVkIHRvIGNyZWF0ZSBzZXNzaW9uXCIpLG5ldyBFKFwiVU5BVVRIT1JJWkVEXCIse21lc3NhZ2U6XCJGYWlsZWQgdG8gY3JlYXRlIHNlc3Npb25cIn0pO3JldHVybiBhd2FpdCBJKGUse3Nlc3Npb246cyx1c2VyOmkudXNlcn0sZS5ib2R5LnJlbWVtYmVyTWU9PT0hMSksZS5qc29uKHt1c2VyOmkudXNlcixzZXNzaW9uOnMscmVkaXJlY3Q6ISFlLmJvZHkuY2FsbGJhY2tVUkwsdXJsOmUuYm9keS5jYWxsYmFja1VSTH0pfSk7aW1wb3J0e3ogYXMgSn1mcm9tXCJ6b2RcIjt2YXIgdWU9Si5vYmplY3Qoe2NvZGU6Si5zdHJpbmcoKS5vcHRpb25hbCgpLGVycm9yOkouc3RyaW5nKCkub3B0aW9uYWwoKSxlcnJvck1lc3NhZ2U6Si5zdHJpbmcoKS5vcHRpb25hbCgpLHN0YXRlOkouc3RyaW5nKCkub3B0aW9uYWwoKX0pLGN0PWIoXCIvY2FsbGJhY2svOmlkXCIse21ldGhvZDpbXCJHRVRcIixcIlBPU1RcIl0sYm9keTp1ZS5vcHRpb25hbCgpLHF1ZXJ5OnVlLm9wdGlvbmFsKCksbWV0YWRhdGE6en0sYXN5bmMgZT0+e2xldCB0O3RyeXtpZihlLm1ldGhvZD09PVwiR0VUXCIpdD11ZS5wYXJzZShlLnF1ZXJ5KTtlbHNlIGlmKGUubWV0aG9kPT09XCJQT1NUXCIpdD11ZS5wYXJzZShlLmJvZHkpO2Vsc2UgdGhyb3cgbmV3IEVycm9yKFwiVW5zdXBwb3J0ZWQgbWV0aG9kXCIpfWNhdGNoKHcpe3Rocm93IGUuY29udGV4dC5sb2dnZXIuZXJyb3IoXCJJTlZBTElEX0NBTExCQUNLX1JFUVVFU1RcIix3KSxlLnJlZGlyZWN0KGAke2UuY29udGV4dC5iYXNlVVJMfS9lcnJvcj9lcnJvcj1pbnZhbGlkX2NhbGxiYWNrX3JlcXVlc3RgKX1sZXR7Y29kZTpyLGVycm9yOm8sc3RhdGU6aX09dDtpZighaSl0aHJvdyBlLmNvbnRleHQubG9nZ2VyLmVycm9yKFwiU3RhdGUgbm90IGZvdW5kXCIpLGUucmVkaXJlY3QoYCR7ZS5jb250ZXh0LmJhc2VVUkx9L2Vycm9yP2Vycm9yPXN0YXRlX25vdF9mb3VuZGApO2lmKCFyKXRocm93IGUuY29udGV4dC5sb2dnZXIuZXJyb3IoXCJDb2RlIG5vdCBmb3VuZFwiKSxlLnJlZGlyZWN0KGAke2UuY29udGV4dC5iYXNlVVJMfS9lcnJvcj9lcnJvcj0ke298fFwibm9fY29kZVwifWApO2xldCBuPWUuY29udGV4dC5zb2NpYWxQcm92aWRlcnMuZmluZCh3PT53LmlkPT09ZS5wYXJhbXMuaWQpO2lmKCFuKXRocm93IGUuY29udGV4dC5sb2dnZXIuZXJyb3IoXCJPYXV0aCBwcm92aWRlciB3aXRoIGlkXCIsZS5wYXJhbXMuaWQsXCJub3QgZm91bmRcIiksZS5yZWRpcmVjdChgJHtlLmNvbnRleHQuYmFzZVVSTH0vZXJyb3I/ZXJyb3I9b2F1dGhfcHJvdmlkZXJfbm90X2ZvdW5kYCk7bGV0e2NvZGVWZXJpZmllcjpkLGNhbGxiYWNrVVJMOnUsbGluazpzLGVycm9yVVJMOmF9PWF3YWl0ICRlKGUpLGM7dHJ5e2M9YXdhaXQgbi52YWxpZGF0ZUF1dGhvcml6YXRpb25Db2RlKHtjb2RlOnIsY29kZVZlcmlmaWVyOmQscmVkaXJlY3RVUkk6YCR7ZS5jb250ZXh0LmJhc2VVUkx9L2NhbGxiYWNrLyR7bi5pZH1gfSl9Y2F0Y2godyl7dGhyb3cgZS5jb250ZXh0LmxvZ2dlci5lcnJvcihcIlwiLHcpLGUucmVkaXJlY3QoYCR7ZS5jb250ZXh0LmJhc2VVUkx9L2Vycm9yP2Vycm9yPXBsZWFzZV9yZXN0YXJ0X3RoZV9wcm9jZXNzYCl9bGV0IG09YXdhaXQgbi5nZXRVc2VySW5mbyhjKS50aGVuKHc9Pnc/LnVzZXIpLGw9e2lkOkIoKSwuLi5tfTtmdW5jdGlvbiBwKHcpe2xldCB4PWF8fHV8fGAke2UuY29udGV4dC5iYXNlVVJMfS9lcnJvcmA7dGhyb3cgeC5pbmNsdWRlcyhcIj9cIik/eD1gJHt4fSZlcnJvcj0ke3d9YDp4PWAke3h9P2Vycm9yPSR7d31gLGUucmVkaXJlY3QoeCl9aWYoIW0pcmV0dXJuIGUuY29udGV4dC5sb2dnZXIuZXJyb3IoXCJVbmFibGUgdG8gZ2V0IHVzZXIgaW5mb1wiKSxwKFwidW5hYmxlX3RvX2dldF91c2VyX2luZm9cIik7aWYoIWwuZW1haWwpcmV0dXJuIGUuY29udGV4dC5sb2dnZXIuZXJyb3IoXCJQcm92aWRlciBkaWQgbm90IHJldHVybiBlbWFpbC4gVGhpcyBjb3VsZCBiZSBkdWUgdG8gbWlzY29uZmlndXJhdGlvbiBpbiB0aGUgcHJvdmlkZXIgc2V0dGluZ3MuXCIpLHAoXCJlbWFpbF9ub3RfZm91bmRcIik7aWYoIXUpdGhyb3cgZS5jb250ZXh0LmxvZ2dlci5lcnJvcihcIk5vIGNhbGxiYWNrIFVSTCBmb3VuZFwiKSxlLnJlZGlyZWN0KGAke2UuY29udGV4dC5iYXNlVVJMfS9lcnJvcj9lcnJvcj1wbGVhc2VfcmVzdGFydF90aGVfcHJvY2Vzc2ApO2lmKHMpe2lmKHMuZW1haWwhPT1sLmVtYWlsLnRvTG93ZXJDYXNlKCkpcmV0dXJuIHAoXCJlbWFpbF9kb2Vzbid0X21hdGNoXCIpO2lmKCFhd2FpdCBlLmNvbnRleHQuaW50ZXJuYWxBZGFwdGVyLmNyZWF0ZUFjY291bnQoe3VzZXJJZDpzLnVzZXJJZCxwcm92aWRlcklkOm4uaWQsYWNjb3VudElkOm0uaWR9KSlyZXR1cm4gcChcInVuYWJsZV90b19saW5rX2FjY291bnRcIik7bGV0IHg7dHJ5e3g9bmV3IFVSTCh1KS50b1N0cmluZygpfWNhdGNoe3g9dX10aHJvdyBlLnJlZGlyZWN0KHgpfWxldCBnPWF3YWl0IGNlKGUse3VzZXJJbmZvOntlbWFpbDpsLmVtYWlsLGlkOmwuaWQsbmFtZTpsLm5hbWV8fFwiXCIsaW1hZ2U6bC5pbWFnZSxlbWFpbFZlcmlmaWVkOmwuZW1haWxWZXJpZmllZHx8ITF9LGFjY291bnQ6e3Byb3ZpZGVySWQ6bi5pZCxhY2NvdW50SWQ6bS5pZCxhY2Nlc3NUb2tlbjpjLmFjY2Vzc1Rva2VuLHJlZnJlc2hUb2tlbjpjLnJlZnJlc2hUb2tlbixleHBpcmVzQXQ6Yy5hY2Nlc3NUb2tlbkV4cGlyZXNBdH0sY2FsbGJhY2tVUkw6dX0pO2lmKGcuZXJyb3IpcmV0dXJuIGUuY29udGV4dC5sb2dnZXIuZXJyb3IoZy5lcnJvci5zcGxpdChcIiBcIikuam9pbihcIl9cIikpLHAoZy5lcnJvci5zcGxpdChcIiBcIikuam9pbihcIl9cIikpO2xldHtzZXNzaW9uOnksdXNlcjpofT1nLmRhdGE7YXdhaXQgSShlLHtzZXNzaW9uOnksdXNlcjpofSk7bGV0IEE7dHJ5e0E9bmV3IFVSTCh1KS50b1N0cmluZygpfWNhdGNoe0E9dX10aHJvdyBlLnJlZGlyZWN0KEEpfSk7aW1wb3J0XCJ6b2RcIjtpbXBvcnR7QVBJRXJyb3IgYXMgX3J9ZnJvbVwiYmV0dGVyLWNhbGxcIjt2YXIgdXQ9YihcIi9zaWduLW91dFwiLHttZXRob2Q6XCJQT1NUXCIscmVxdWlyZUhlYWRlcnM6ITB9LGFzeW5jIGU9PntsZXQgdD1hd2FpdCBlLmdldFNpZ25lZENvb2tpZShlLmNvbnRleHQuYXV0aENvb2tpZXMuc2Vzc2lvblRva2VuLm5hbWUsZS5jb250ZXh0LnNlY3JldCk7aWYoIXQpdGhyb3cgcShlKSxuZXcgX3IoXCJCQURfUkVRVUVTVFwiLHttZXNzYWdlOlwiU2Vzc2lvbiBub3QgZm91bmRcIn0pO3JldHVybiBhd2FpdCBlLmNvbnRleHQuaW50ZXJuYWxBZGFwdGVyLmRlbGV0ZVNlc3Npb24odCkscShlKSxlLmpzb24oe3N1Y2Nlc3M6ITB9KX0pO2ltcG9ydHt6IGFzIER9ZnJvbVwiem9kXCI7aW1wb3J0e0FQSUVycm9yIGFzIGtlfWZyb21cImJldHRlci1jYWxsXCI7ZnVuY3Rpb24gbHQoZSx0LHIpe2xldCBvPXQ/bmV3IFVSTCh0LGUuYmFzZVVSTCk6bmV3IFVSTChgJHtlLmJhc2VVUkx9L2Vycm9yYCk7cmV0dXJuIHImJk9iamVjdC5lbnRyaWVzKHIpLmZvckVhY2goKFtpLG5dKT0+by5zZWFyY2hQYXJhbXMuc2V0KGksbikpLG8uaHJlZn1mdW5jdGlvbiBMcihlLHQscil7bGV0IG89bmV3IFVSTCh0LGUuYmFzZVVSTCk7cmV0dXJuIHImJk9iamVjdC5lbnRyaWVzKHIpLmZvckVhY2goKFtpLG5dKT0+by5zZWFyY2hQYXJhbXMuc2V0KGksbikpLG8uaHJlZn12YXIgcHQ9YihcIi9mb3JnZXQtcGFzc3dvcmRcIix7bWV0aG9kOlwiUE9TVFwiLGJvZHk6RC5vYmplY3Qoe2VtYWlsOkQuc3RyaW5nKCkuZW1haWwoKSxyZWRpcmVjdFRvOkQuc3RyaW5nKCl9KX0sYXN5bmMgZT0+e2lmKCFlLmNvbnRleHQub3B0aW9ucy5lbWFpbEFuZFBhc3N3b3JkPy5zZW5kUmVzZXRQYXNzd29yZCl0aHJvdyBlLmNvbnRleHQubG9nZ2VyLmVycm9yKFwiUmVzZXQgcGFzc3dvcmQgaXNuJ3QgZW5hYmxlZC5QbGVhc2UgcGFzcyBhbiBlbWFpbEFuZFBhc3N3b3JkLnNlbmRSZXNldFBhc3N3b3JkVG9rZW4gZnVuY3Rpb24gaW4geW91ciBhdXRoIGNvbmZpZyFcIiksbmV3IGtlKFwiQkFEX1JFUVVFU1RcIix7bWVzc2FnZTpcIlJlc2V0IHBhc3N3b3JkIGlzbid0IGVuYWJsZWRcIn0pO2xldHtlbWFpbDp0LHJlZGlyZWN0VG86cn09ZS5ib2R5LG89YXdhaXQgZS5jb250ZXh0LmludGVybmFsQWRhcHRlci5maW5kVXNlckJ5RW1haWwodCx7aW5jbHVkZUFjY291bnRzOiEwfSk7aWYoIW8pcmV0dXJuIGUuY29udGV4dC5sb2dnZXIuZXJyb3IoXCJSZXNldCBQYXNzd29yZDogVXNlciBub3QgZm91bmRcIix7ZW1haWw6dH0pLGUuanNvbih7c3RhdHVzOiExfSx7Ym9keTp7c3RhdHVzOiEwfX0pO2xldCBpPTYwKjYwKjEsbj1TKGUuY29udGV4dC5vcHRpb25zLmVtYWlsQW5kUGFzc3dvcmQucmVzZXRQYXNzd29yZFRva2VuRXhwaXJlc0lufHxpLFwic2VjXCIpLGQ9ZS5jb250ZXh0LnV1aWQoKTthd2FpdCBlLmNvbnRleHQuaW50ZXJuYWxBZGFwdGVyLmNyZWF0ZVZlcmlmaWNhdGlvblZhbHVlKHt2YWx1ZTpvLnVzZXIuaWQsaWRlbnRpZmllcjpgcmVzZXQtcGFzc3dvcmQ6JHtkfWAsZXhwaXJlc0F0Om59KTtsZXQgdT1gJHtlLmNvbnRleHQuYmFzZVVSTH0vcmVzZXQtcGFzc3dvcmQvJHtkfT9jYWxsYmFja1VSTD0ke3J9YDtyZXR1cm4gYXdhaXQgZS5jb250ZXh0Lm9wdGlvbnMuZW1haWxBbmRQYXNzd29yZC5zZW5kUmVzZXRQYXNzd29yZCh7dXNlcjpvLnVzZXIsdXJsOnUsdG9rZW46ZH0sZS5yZXF1ZXN0KSxlLmpzb24oe3N0YXR1czohMH0pfSksZnQ9YihcIi9yZXNldC1wYXNzd29yZC86dG9rZW5cIix7bWV0aG9kOlwiR0VUXCIscXVlcnk6RC5vYmplY3Qoe2NhbGxiYWNrVVJMOkQuc3RyaW5nKCl9KX0sYXN5bmMgZT0+e2xldHt0b2tlbjp0fT1lLnBhcmFtcyx7Y2FsbGJhY2tVUkw6cn09ZS5xdWVyeTtpZighdHx8IXIpdGhyb3cgZS5yZWRpcmVjdChsdChlLmNvbnRleHQscix7ZXJyb3I6XCJJTlZBTElEX1RPS0VOXCJ9KSk7bGV0IG89YXdhaXQgZS5jb250ZXh0LmludGVybmFsQWRhcHRlci5maW5kVmVyaWZpY2F0aW9uVmFsdWUoYHJlc2V0LXBhc3N3b3JkOiR7dH1gKTt0aHJvdyFvfHxvLmV4cGlyZXNBdDxuZXcgRGF0ZT9lLnJlZGlyZWN0KGx0KGUuY29udGV4dCxyLHtlcnJvcjpcIklOVkFMSURfVE9LRU5cIn0pKTplLnJlZGlyZWN0KExyKGUuY29udGV4dCxyLHt0b2tlbjp0fSkpfSksbXQ9YihcIi9yZXNldC1wYXNzd29yZFwiLHtxdWVyeTpELm9wdGlvbmFsKEQub2JqZWN0KHt0b2tlbjpELnN0cmluZygpLm9wdGlvbmFsKCksY3VycmVudFVSTDpELnN0cmluZygpLm9wdGlvbmFsKCl9KSksbWV0aG9kOlwiUE9TVFwiLGJvZHk6RC5vYmplY3Qoe25ld1Bhc3N3b3JkOkQuc3RyaW5nKCksdG9rZW46RC5zdHJpbmcoKS5vcHRpb25hbCgpfSl9LGFzeW5jIGU9PntsZXQgdD1lLmJvZHkudG9rZW58fGUucXVlcnk/LnRva2VufHwoZS5xdWVyeT8uY3VycmVudFVSTD9uZXcgVVJMKGUucXVlcnkuY3VycmVudFVSTCkuc2VhcmNoUGFyYW1zLmdldChcInRva2VuXCIpOlwiXCIpO2lmKCF0KXRocm93IG5ldyBrZShcIkJBRF9SRVFVRVNUXCIse21lc3NhZ2U6XCJUb2tlbiBub3QgZm91bmRcIn0pO2xldHtuZXdQYXNzd29yZDpyfT1lLmJvZHksbz1gcmVzZXQtcGFzc3dvcmQ6JHt0fWAsaT1hd2FpdCBlLmNvbnRleHQuaW50ZXJuYWxBZGFwdGVyLmZpbmRWZXJpZmljYXRpb25WYWx1ZShvKTtpZighaXx8aS5leHBpcmVzQXQ8bmV3IERhdGUpdGhyb3cgbmV3IGtlKFwiQkFEX1JFUVVFU1RcIix7bWVzc2FnZTpcIkludmFsaWQgdG9rZW5cIn0pO2F3YWl0IGUuY29udGV4dC5pbnRlcm5hbEFkYXB0ZXIuZGVsZXRlVmVyaWZpY2F0aW9uVmFsdWUoaS5pZCk7bGV0IG49aS52YWx1ZSxkPWF3YWl0IGUuY29udGV4dC5wYXNzd29yZC5oYXNoKHIpO3JldHVybihhd2FpdCBlLmNvbnRleHQuaW50ZXJuYWxBZGFwdGVyLmZpbmRBY2NvdW50cyhuKSkuZmluZChhPT5hLnByb3ZpZGVySWQ9PT1cImNyZWRlbnRpYWxcIik/KGF3YWl0IGUuY29udGV4dC5pbnRlcm5hbEFkYXB0ZXIudXBkYXRlUGFzc3dvcmQobixkKSxlLmpzb24oe3N0YXR1czohMH0pKTooYXdhaXQgZS5jb250ZXh0LmludGVybmFsQWRhcHRlci5jcmVhdGVBY2NvdW50KHt1c2VySWQ6bixwcm92aWRlcklkOlwiY3JlZGVudGlhbFwiLHBhc3N3b3JkOmQsYWNjb3VudElkOmUuY29udGV4dC51dWlkKCl9KSxlLmpzb24oe3N0YXR1czohMH0pKX0pO2ltcG9ydHt6IGFzIFR9ZnJvbVwiem9kXCI7aW1wb3J0e0FQSUVycm9yIGFzIFB9ZnJvbVwiYmV0dGVyLWNhbGxcIjtpbXBvcnR7eiBhcyBrfWZyb21cInpvZFwiO3ZhciBrcz1rLm9iamVjdCh7aWQ6ay5zdHJpbmcoKSxwcm92aWRlcklkOmsuc3RyaW5nKCksYWNjb3VudElkOmsuc3RyaW5nKCksdXNlcklkOmsuc3RyaW5nKCksYWNjZXNzVG9rZW46ay5zdHJpbmcoKS5udWxsaXNoKCkscmVmcmVzaFRva2VuOmsuc3RyaW5nKCkubnVsbGlzaCgpLGlkVG9rZW46ay5zdHJpbmcoKS5udWxsaXNoKCksZXhwaXJlc0F0OmsuZGF0ZSgpLm51bGxpc2goKSxwYXNzd29yZDprLnN0cmluZygpLm51bGxpc2goKX0pLFJzPWsub2JqZWN0KHtpZDprLnN0cmluZygpLGVtYWlsOmsuc3RyaW5nKCkudHJhbnNmb3JtKGU9PmUudG9Mb3dlckNhc2UoKSksZW1haWxWZXJpZmllZDprLmJvb2xlYW4oKS5kZWZhdWx0KCExKSxuYW1lOmsuc3RyaW5nKCksaW1hZ2U6ay5zdHJpbmcoKS5udWxsaXNoKCksY3JlYXRlZEF0OmsuZGF0ZSgpLmRlZmF1bHQobmV3IERhdGUpLHVwZGF0ZWRBdDprLmRhdGUoKS5kZWZhdWx0KG5ldyBEYXRlKX0pLHhzPWsub2JqZWN0KHtpZDprLnN0cmluZygpLHVzZXJJZDprLnN0cmluZygpLGV4cGlyZXNBdDprLmRhdGUoKSxpcEFkZHJlc3M6ay5zdHJpbmcoKS5udWxsaXNoKCksdXNlckFnZW50Omsuc3RyaW5nKCkubnVsbGlzaCgpfSksdnM9ay5vYmplY3Qoe2lkOmsuc3RyaW5nKCksdmFsdWU6ay5zdHJpbmcoKSxjcmVhdGVkQXQ6ay5kYXRlKCksZXhwaXJlc0F0OmsuZGF0ZSgpLGlkZW50aWZpZXI6ay5zdHJpbmcoKX0pO2Z1bmN0aW9uIGd0KGUsdCl7bGV0IHI9dC5maWVsZHMsbz17fTtmb3IobGV0IGkgaW4gZSl7bGV0IG49cltpXTtpZighbil7b1tpXT1lW2ldO2NvbnRpbnVlfW4ucmV0dXJuZWQhPT0hMSYmKG9baV09ZVtpXSl9cmV0dXJuIG99ZnVuY3Rpb24gUmUoZSx0KXtsZXQgcj17Li4udD09PVwidXNlclwiP2UudXNlcj8uYWRkaXRpb25hbEZpZWxkczp7fSwuLi50PT09XCJzZXNzaW9uXCI/ZS5zZXNzaW9uPy5hZGRpdGlvbmFsRmllbGRzOnt9fTtmb3IobGV0IG8gb2YgZS5wbHVnaW5zfHxbXSlvLnNjaGVtYSYmby5zY2hlbWFbdF0mJihyPXsuLi5yLC4uLm8uc2NoZW1hW3RdLmZpZWxkc30pO3JldHVybiByfWZ1bmN0aW9uIHhlKGUsdCl7bGV0IHI9UmUoZSxcInVzZXJcIik7cmV0dXJuIGd0KHQse2ZpZWxkczpyfSl9ZnVuY3Rpb24gbGUoZSx0KXtsZXQgcj1SZShlLFwic2Vzc2lvblwiKTtyZXR1cm4gZ3QodCx7ZmllbGRzOnJ9KX1mdW5jdGlvbiBDcihlLHQpe2xldCByPXQuYWN0aW9ufHxcImNyZWF0ZVwiLG89dC5maWVsZHMsaT17fTtmb3IobGV0IG4gaW4gbyl7aWYobiBpbiBlKXtpZihvW25dLmlucHV0PT09ITEpe2lmKG9bbl0uZGVmYXVsdFZhbHVlKXtpW25dPW9bbl0uZGVmYXVsdFZhbHVlO2NvbnRpbnVlfWNvbnRpbnVlfWlbbl09ZVtuXTtjb250aW51ZX1pZihvW25dLmRlZmF1bHRWYWx1ZSYmcj09PVwiY3JlYXRlXCIpe2lbbl09b1tuXS5kZWZhdWx0VmFsdWU7Y29udGludWV9fXJldHVybiBpfWZ1bmN0aW9uIHBlKGUsdCxyKXtsZXQgbz1SZShlLFwidXNlclwiKTtyZXR1cm4gQ3IodHx8e30se2ZpZWxkczpvLGFjdGlvbjpyfSl9dmFyIGh0PSgpPT5iKFwiL3VwZGF0ZS11c2VyXCIse21ldGhvZDpcIlBPU1RcIixib2R5OlQucmVjb3JkKFQuc3RyaW5nKCksVC5hbnkoKSksdXNlOltDXX0sYXN5bmMgZT0+e2xldCB0PWUuYm9keTtpZih0LmVtYWlsKXRocm93IG5ldyBQKFwiQkFEX1JFUVVFU1RcIix7bWVzc2FnZTpcIllvdSBjYW4ndCB1cGRhdGUgZW1haWxcIn0pO2xldHtuYW1lOnIsaW1hZ2U6bywuLi5pfT10LG49ZS5jb250ZXh0LnNlc3Npb247aWYoIW8mJiFyJiZPYmplY3Qua2V5cyhpKS5sZW5ndGg9PT0wKXJldHVybiBlLmpzb24oe3VzZXI6bi51c2VyfSk7bGV0IGQ9cGUoZS5jb250ZXh0Lm9wdGlvbnMsaSxcInVwZGF0ZVwiKSx1PWF3YWl0IGUuY29udGV4dC5pbnRlcm5hbEFkYXB0ZXIudXBkYXRlVXNlckJ5RW1haWwobi51c2VyLmVtYWlsLHtuYW1lOnIsaW1hZ2U6bywuLi5kfSk7cmV0dXJuIGF3YWl0IEkoZSx7c2Vzc2lvbjpuLnNlc3Npb24sdXNlcjp1fSksZS5qc29uKHt1c2VyOnV9KX0pLHl0PWIoXCIvY2hhbmdlLXBhc3N3b3JkXCIse21ldGhvZDpcIlBPU1RcIixib2R5OlQub2JqZWN0KHtuZXdQYXNzd29yZDpULnN0cmluZygpLGN1cnJlbnRQYXNzd29yZDpULnN0cmluZygpLHJldm9rZU90aGVyU2Vzc2lvbnM6VC5ib29sZWFuKCkub3B0aW9uYWwoKX0pLHVzZTpbQ119LGFzeW5jIGU9PntsZXR7bmV3UGFzc3dvcmQ6dCxjdXJyZW50UGFzc3dvcmQ6cixyZXZva2VPdGhlclNlc3Npb25zOm99PWUuYm9keSxpPWUuY29udGV4dC5zZXNzaW9uLG49ZS5jb250ZXh0LnBhc3N3b3JkLmNvbmZpZy5taW5QYXNzd29yZExlbmd0aDtpZih0Lmxlbmd0aDxuKXRocm93IGUuY29udGV4dC5sb2dnZXIuZXJyb3IoXCJQYXNzd29yZCBpcyB0b28gc2hvcnRcIiksbmV3IFAoXCJCQURfUkVRVUVTVFwiLHttZXNzYWdlOlwiUGFzc3dvcmQgaXMgdG9vIHNob3J0XCJ9KTtsZXQgZD1lLmNvbnRleHQucGFzc3dvcmQuY29uZmlnLm1heFBhc3N3b3JkTGVuZ3RoO2lmKHQubGVuZ3RoPmQpdGhyb3cgZS5jb250ZXh0LmxvZ2dlci5lcnJvcihcIlBhc3N3b3JkIGlzIHRvbyBsb25nXCIpLG5ldyBQKFwiQkFEX1JFUVVFU1RcIix7bWVzc2FnZTpcIlBhc3N3b3JkIHRvbyBsb25nXCJ9KTtsZXQgcz0oYXdhaXQgZS5jb250ZXh0LmludGVybmFsQWRhcHRlci5maW5kQWNjb3VudHMoaS51c2VyLmlkKSkuZmluZChtPT5tLnByb3ZpZGVySWQ9PT1cImNyZWRlbnRpYWxcIiYmbS5wYXNzd29yZCk7aWYoIXN8fCFzLnBhc3N3b3JkKXRocm93IG5ldyBQKFwiQkFEX1JFUVVFU1RcIix7bWVzc2FnZTpcIlVzZXIgZG9lcyBub3QgaGF2ZSBhIHBhc3N3b3JkXCJ9KTtsZXQgYT1hd2FpdCBlLmNvbnRleHQucGFzc3dvcmQuaGFzaCh0KTtpZighYXdhaXQgZS5jb250ZXh0LnBhc3N3b3JkLnZlcmlmeShzLnBhc3N3b3JkLHIpKXRocm93IG5ldyBQKFwiQkFEX1JFUVVFU1RcIix7bWVzc2FnZTpcIkluY29ycmVjdCBwYXNzd29yZFwifSk7aWYoYXdhaXQgZS5jb250ZXh0LmludGVybmFsQWRhcHRlci51cGRhdGVBY2NvdW50KHMuaWQse3Bhc3N3b3JkOmF9KSxvKXthd2FpdCBlLmNvbnRleHQuaW50ZXJuYWxBZGFwdGVyLmRlbGV0ZVNlc3Npb25zKGkudXNlci5pZCk7bGV0IG09YXdhaXQgZS5jb250ZXh0LmludGVybmFsQWRhcHRlci5jcmVhdGVTZXNzaW9uKGkudXNlci5pZCxlLmhlYWRlcnMpO2lmKCFtKXRocm93IG5ldyBQKFwiSU5URVJOQUxfU0VSVkVSX0VSUk9SXCIse21lc3NhZ2U6XCJVbmFibGUgdG8gY3JlYXRlIHNlc3Npb25cIn0pO2F3YWl0IEkoZSx7c2Vzc2lvbjptLHVzZXI6aS51c2VyfSl9cmV0dXJuIGUuanNvbihpLnVzZXIpfSksd3Q9YihcIi9zZXQtcGFzc3dvcmRcIix7bWV0aG9kOlwiUE9TVFwiLGJvZHk6VC5vYmplY3Qoe25ld1Bhc3N3b3JkOlQuc3RyaW5nKCl9KSxtZXRhZGF0YTp7U0VSVkVSX09OTFk6ITB9LHVzZTpbQ119LGFzeW5jIGU9PntsZXR7bmV3UGFzc3dvcmQ6dH09ZS5ib2R5LHI9ZS5jb250ZXh0LnNlc3Npb24sbz1lLmNvbnRleHQucGFzc3dvcmQuY29uZmlnLm1pblBhc3N3b3JkTGVuZ3RoO2lmKHQubGVuZ3RoPG8pdGhyb3cgZS5jb250ZXh0LmxvZ2dlci5lcnJvcihcIlBhc3N3b3JkIGlzIHRvbyBzaG9ydFwiKSxuZXcgUChcIkJBRF9SRVFVRVNUXCIse21lc3NhZ2U6XCJQYXNzd29yZCBpcyB0b28gc2hvcnRcIn0pO2xldCBpPWUuY29udGV4dC5wYXNzd29yZC5jb25maWcubWF4UGFzc3dvcmRMZW5ndGg7aWYodC5sZW5ndGg+aSl0aHJvdyBlLmNvbnRleHQubG9nZ2VyLmVycm9yKFwiUGFzc3dvcmQgaXMgdG9vIGxvbmdcIiksbmV3IFAoXCJCQURfUkVRVUVTVFwiLHttZXNzYWdlOlwiUGFzc3dvcmQgdG9vIGxvbmdcIn0pO2xldCBkPShhd2FpdCBlLmNvbnRleHQuaW50ZXJuYWxBZGFwdGVyLmZpbmRBY2NvdW50cyhyLnVzZXIuaWQpKS5maW5kKHM9PnMucHJvdmlkZXJJZD09PVwiY3JlZGVudGlhbFwiJiZzLnBhc3N3b3JkKSx1PWF3YWl0IGUuY29udGV4dC5wYXNzd29yZC5oYXNoKHQpO2lmKCFkKXJldHVybiBhd2FpdCBlLmNvbnRleHQuaW50ZXJuYWxBZGFwdGVyLmxpbmtBY2NvdW50KHt1c2VySWQ6ci51c2VyLmlkLHByb3ZpZGVySWQ6XCJjcmVkZW50aWFsXCIsYWNjb3VudElkOnIudXNlci5pZCxwYXNzd29yZDp1fSksZS5qc29uKHIudXNlcik7dGhyb3cgbmV3IFAoXCJCQURfUkVRVUVTVFwiLHttZXNzYWdlOlwidXNlciBhbHJlYWR5IGhhcyBhIHBhc3N3b3JkXCJ9KX0pLGJ0PWIoXCIvZGVsZXRlLXVzZXJcIix7bWV0aG9kOlwiUE9TVFwiLGJvZHk6VC5vYmplY3Qoe3Bhc3N3b3JkOlQuc3RyaW5nKCl9KSx1c2U6W0NdfSxhc3luYyBlPT57bGV0e3Bhc3N3b3JkOnR9PWUuYm9keSxyPWUuY29udGV4dC5zZXNzaW9uLGk9KGF3YWl0IGUuY29udGV4dC5pbnRlcm5hbEFkYXB0ZXIuZmluZEFjY291bnRzKHIudXNlci5pZCkpLmZpbmQoZD0+ZC5wcm92aWRlcklkPT09XCJjcmVkZW50aWFsXCImJmQucGFzc3dvcmQpO2lmKCFpfHwhaS5wYXNzd29yZCl0aHJvdyBuZXcgUChcIkJBRF9SRVFVRVNUXCIse21lc3NhZ2U6XCJVc2VyIGRvZXMgbm90IGhhdmUgYSBwYXNzd29yZFwifSk7aWYoIWF3YWl0IGUuY29udGV4dC5wYXNzd29yZC52ZXJpZnkoaS5wYXNzd29yZCx0KSl0aHJvdyBuZXcgUChcIkJBRF9SRVFVRVNUXCIse21lc3NhZ2U6XCJJbmNvcnJlY3QgcGFzc3dvcmRcIn0pO3JldHVybiBhd2FpdCBlLmNvbnRleHQuaW50ZXJuYWxBZGFwdGVyLmRlbGV0ZVVzZXIoci51c2VyLmlkKSxhd2FpdCBlLmNvbnRleHQuaW50ZXJuYWxBZGFwdGVyLmRlbGV0ZVNlc3Npb25zKHIudXNlci5pZCkscShlKSxlLmpzb24obnVsbCl9KSxBdD1iKFwiL2NoYW5nZS1lbWFpbFwiLHttZXRob2Q6XCJQT1NUXCIscXVlcnk6VC5vYmplY3Qoe2N1cnJlbnRVUkw6VC5zdHJpbmcoKS5vcHRpb25hbCgpfSkub3B0aW9uYWwoKSxib2R5OlQub2JqZWN0KHtuZXdFbWFpbDpULnN0cmluZygpLmVtYWlsKCksY2FsbGJhY2tVUkw6VC5zdHJpbmcoKS5vcHRpb25hbCgpfSksdXNlOltDXX0sYXN5bmMgZT0+e2lmKCFlLmNvbnRleHQub3B0aW9ucy51c2VyPy5jaGFuZ2VFbWFpbD8uZW5hYmxlZCl0aHJvdyBlLmNvbnRleHQubG9nZ2VyLmVycm9yKFwiQ2hhbmdlIGVtYWlsIGlzIGRpc2FibGVkLlwiKSxuZXcgUChcIkJBRF9SRVFVRVNUXCIse21lc3NhZ2U6XCJDaGFuZ2UgZW1haWwgaXMgZGlzYWJsZWRcIn0pO2lmKGUuYm9keS5uZXdFbWFpbD09PWUuY29udGV4dC5zZXNzaW9uLnVzZXIuZW1haWwpdGhyb3cgZS5jb250ZXh0LmxvZ2dlci5lcnJvcihcIkVtYWlsIGlzIHRoZSBzYW1lXCIpLG5ldyBQKFwiQkFEX1JFUVVFU1RcIix7bWVzc2FnZTpcIkVtYWlsIGlzIHRoZSBzYW1lXCJ9KTtpZihhd2FpdCBlLmNvbnRleHQuaW50ZXJuYWxBZGFwdGVyLmZpbmRVc2VyQnlFbWFpbChlLmJvZHkubmV3RW1haWwpKXRocm93IGUuY29udGV4dC5sb2dnZXIuZXJyb3IoXCJFbWFpbCBhbHJlYWR5IGV4aXN0c1wiKSxuZXcgUChcIkJBRF9SRVFVRVNUXCIse21lc3NhZ2U6XCJDb3VsZG4ndCB1cGRhdGUgeW91ciBlbWFpbFwifSk7aWYoZS5jb250ZXh0LnNlc3Npb24udXNlci5lbWFpbFZlcmlmaWVkIT09ITApe2xldCBpPWF3YWl0IGUuY29udGV4dC5pbnRlcm5hbEFkYXB0ZXIudXBkYXRlVXNlckJ5RW1haWwoZS5jb250ZXh0LnNlc3Npb24udXNlci5lbWFpbCx7ZW1haWw6ZS5ib2R5Lm5ld0VtYWlsfSk7cmV0dXJuIGUuanNvbih7dXNlcjppLHN0YXR1czohMH0pfWlmKCFlLmNvbnRleHQub3B0aW9ucy51c2VyLmNoYW5nZUVtYWlsLnNlbmRDaGFuZ2VFbWFpbFZlcmlmaWNhdGlvbil0aHJvdyBlLmNvbnRleHQubG9nZ2VyLmVycm9yKFwiVmVyaWZpY2F0aW9uIGVtYWlsIGlzbid0IGVuYWJsZWQuXCIpLG5ldyBQKFwiQkFEX1JFUVVFU1RcIix7bWVzc2FnZTpcIlZlcmlmaWNhdGlvbiBlbWFpbCBpc24ndCBlbmFibGVkXCJ9KTtsZXQgcj1hd2FpdCBWKGUuY29udGV4dC5zZWNyZXQsZS5jb250ZXh0LnNlc3Npb24udXNlci5lbWFpbCxlLmJvZHkubmV3RW1haWwpLG89YCR7ZS5jb250ZXh0LmJhc2VVUkx9L3ZlcmlmeS1lbWFpbD90b2tlbj0ke3J9JmNhbGxiYWNrVVJMPSR7ZS5ib2R5LmNhbGxiYWNrVVJMfHxlLnF1ZXJ5Py5jdXJyZW50VVJMfHxcIi9cIn1gO3JldHVybiBhd2FpdCBlLmNvbnRleHQub3B0aW9ucy51c2VyLmNoYW5nZUVtYWlsLnNlbmRDaGFuZ2VFbWFpbFZlcmlmaWNhdGlvbih7dXNlcjplLmNvbnRleHQuc2Vzc2lvbi51c2VyLG5ld0VtYWlsOmUuYm9keS5uZXdFbWFpbCx1cmw6byx0b2tlbjpyfSxlLnJlcXVlc3QpLGUuanNvbih7dXNlcjpudWxsLHN0YXR1czohMH0pfSk7dmFyIEJyPShlPVwiVW5rbm93blwiKT0+YDwhRE9DVFlQRSBodG1sPlxuPGh0bWwgbGFuZz1cImVuXCI+XG48aGVhZD5cbiAgICA8bWV0YSBjaGFyc2V0PVwiVVRGLThcIj5cbiAgICA8bWV0YSBuYW1lPVwidmlld3BvcnRcIiBjb250ZW50PVwid2lkdGg9ZGV2aWNlLXdpZHRoLCBpbml0aWFsLXNjYWxlPTEuMFwiPlxuICAgIDx0aXRsZT5BdXRoZW50aWNhdGlvbiBFcnJvcjwvdGl0bGU+XG4gICAgPHN0eWxlPlxuICAgICAgICA6cm9vdCB7XG4gICAgICAgICAgICAtLWJnLWNvbG9yOiAjZjhmOWZhO1xuICAgICAgICAgICAgLS10ZXh0LWNvbG9yOiAjMjEyNTI5O1xuICAgICAgICAgICAgLS1hY2NlbnQtY29sb3I6ICMwMDAwMDA7XG4gICAgICAgICAgICAtLWVycm9yLWNvbG9yOiAjZGMzNTQ1O1xuICAgICAgICAgICAgLS1ib3JkZXItY29sb3I6ICNlOWVjZWY7XG4gICAgICAgIH1cbiAgICAgICAgYm9keSB7XG4gICAgICAgICAgICBmb250LWZhbWlseTogLWFwcGxlLXN5c3RlbSwgQmxpbmtNYWNTeXN0ZW1Gb250LCAnU2Vnb2UgVUknLCBSb2JvdG8sICdIZWx2ZXRpY2EgTmV1ZScsIEFyaWFsLCBzYW5zLXNlcmlmO1xuICAgICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogdmFyKC0tYmctY29sb3IpO1xuICAgICAgICAgICAgY29sb3I6IHZhcigtLXRleHQtY29sb3IpO1xuICAgICAgICAgICAgZGlzcGxheTogZmxleDtcbiAgICAgICAgICAgIGp1c3RpZnktY29udGVudDogY2VudGVyO1xuICAgICAgICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcbiAgICAgICAgICAgIGhlaWdodDogMTAwdmg7XG4gICAgICAgICAgICBtYXJnaW46IDA7XG4gICAgICAgICAgICBsaW5lLWhlaWdodDogMS41O1xuICAgICAgICB9XG4gICAgICAgIC5lcnJvci1jb250YWluZXIge1xuICAgICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogI2ZmZmZmZjtcbiAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDEycHg7XG4gICAgICAgICAgICBib3gtc2hhZG93OiAwIDRweCA2cHggcmdiYSgwLCAwLCAwLCAwLjA1KTtcbiAgICAgICAgICAgIHBhZGRpbmc6IDIuNXJlbTtcbiAgICAgICAgICAgIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgICAgICAgICAgIG1heC13aWR0aDogOTAlO1xuICAgICAgICAgICAgd2lkdGg6IDQwMHB4O1xuICAgICAgICB9XG4gICAgICAgIGgxIHtcbiAgICAgICAgICAgIGNvbG9yOiB2YXIoLS1lcnJvci1jb2xvcik7XG4gICAgICAgICAgICBmb250LXNpemU6IDEuNzVyZW07XG4gICAgICAgICAgICBtYXJnaW4tYm90dG9tOiAxcmVtO1xuICAgICAgICAgICAgZm9udC13ZWlnaHQ6IDYwMDtcbiAgICAgICAgfVxuICAgICAgICBwIHtcbiAgICAgICAgICAgIG1hcmdpbi1ib3R0b206IDEuNXJlbTtcbiAgICAgICAgICAgIGNvbG9yOiAjNDk1MDU3O1xuICAgICAgICB9XG4gICAgICAgIC5idG4ge1xuICAgICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogdmFyKC0tYWNjZW50LWNvbG9yKTtcbiAgICAgICAgICAgIGNvbG9yOiAjZmZmZmZmO1xuICAgICAgICAgICAgdGV4dC1kZWNvcmF0aW9uOiBub25lO1xuICAgICAgICAgICAgcGFkZGluZzogMC43NXJlbSAxLjVyZW07XG4gICAgICAgICAgICBib3JkZXItcmFkaXVzOiA2cHg7XG4gICAgICAgICAgICB0cmFuc2l0aW9uOiBhbGwgMC4zcyBlYXNlO1xuICAgICAgICAgICAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xuICAgICAgICAgICAgZm9udC13ZWlnaHQ6IDUwMDtcbiAgICAgICAgICAgIGJvcmRlcjogMnB4IHNvbGlkIHZhcigtLWFjY2VudC1jb2xvcik7XG4gICAgICAgIH1cbiAgICAgICAgLmJ0bjpob3ZlciB7XG4gICAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjMTMxNzIxO1xuICAgICAgICB9XG4gICAgICAgIC5lcnJvci1jb2RlIHtcbiAgICAgICAgICAgIGZvbnQtc2l6ZTogMC44NzVyZW07XG4gICAgICAgICAgICBjb2xvcjogIzZjNzU3ZDtcbiAgICAgICAgICAgIG1hcmdpbi10b3A6IDEuNXJlbTtcbiAgICAgICAgICAgIHBhZGRpbmctdG9wOiAxLjVyZW07XG4gICAgICAgICAgICBib3JkZXItdG9wOiAxcHggc29saWQgdmFyKC0tYm9yZGVyLWNvbG9yKTtcbiAgICAgICAgfVxuICAgICAgICAuaWNvbiB7XG4gICAgICAgICAgICBmb250LXNpemU6IDNyZW07XG4gICAgICAgICAgICBtYXJnaW4tYm90dG9tOiAxcmVtO1xuICAgICAgICB9XG4gICAgPC9zdHlsZT5cbjwvaGVhZD5cbjxib2R5PlxuICAgIDxkaXYgY2xhc3M9XCJlcnJvci1jb250YWluZXJcIj5cbiAgICAgICAgPGRpdiBjbGFzcz1cImljb25cIj5cXHUyNkEwXFx1RkUwRjwvZGl2PlxuICAgICAgICA8aDE+QmV0dGVyIEF1dGggRXJyb3I8L2gxPlxuICAgICAgICA8cD5XZSBlbmNvdW50ZXJlZCBhbiBpc3N1ZSB3aGlsZSBwcm9jZXNzaW5nIHlvdXIgcmVxdWVzdC4gUGxlYXNlIHRyeSBhZ2FpbiBvciBjb250YWN0IHRoZSBhcHBsaWNhdGlvbiBvd25lciBpZiB0aGUgcHJvYmxlbSBwZXJzaXN0cy48L3A+XG4gICAgICAgIDxhIGhyZWY9XCIvXCIgaWQ9XCJyZXR1cm5MaW5rXCIgY2xhc3M9XCJidG5cIj5SZXR1cm4gdG8gQXBwbGljYXRpb248L2E+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJlcnJvci1jb2RlXCI+RXJyb3IgQ29kZTogPHNwYW4gaWQ9XCJlcnJvckNvZGVcIj4ke2V9PC9zcGFuPjwvZGl2PlxuICAgIDwvZGl2PlxuPC9ib2R5PlxuPC9odG1sPmAsa3Q9YihcIi9lcnJvclwiLHttZXRob2Q6XCJHRVRcIixtZXRhZGF0YTp6fSxhc3luYyBlPT57bGV0IHQ9bmV3IFVSTChlLnJlcXVlc3Q/LnVybHx8XCJcIikuc2VhcmNoUGFyYW1zLmdldChcImVycm9yXCIpfHxcIlVua25vd25cIjtyZXR1cm4gbmV3IFJlc3BvbnNlKEJyKHQpLHtoZWFkZXJzOntcIkNvbnRlbnQtVHlwZVwiOlwidGV4dC9odG1sXCJ9fSl9KTt2YXIgUnQ9YihcIi9va1wiLHttZXRob2Q6XCJHRVRcIixtZXRhZGF0YTp6fSxhc3luYyBlPT5lLmpzb24oe29rOiEwfSkpO2ltcG9ydHt6IGFzIEh9ZnJvbVwiem9kXCI7aW1wb3J0e0FQSUVycm9yIGFzIEZ9ZnJvbVwiYmV0dGVyLWNhbGxcIjt2YXIgeHQ9KCk9PmIoXCIvc2lnbi11cC9lbWFpbFwiLHttZXRob2Q6XCJQT1NUXCIscXVlcnk6SC5vYmplY3Qoe2N1cnJlbnRVUkw6SC5zdHJpbmcoKS5vcHRpb25hbCgpfSkub3B0aW9uYWwoKSxib2R5OkgucmVjb3JkKEguc3RyaW5nKCksSC5hbnkoKSl9LGFzeW5jIGU9PntpZighZS5jb250ZXh0Lm9wdGlvbnMuZW1haWxBbmRQYXNzd29yZD8uZW5hYmxlZCl0aHJvdyBuZXcgRihcIkJBRF9SRVFVRVNUXCIse21lc3NhZ2U6XCJFbWFpbCBhbmQgcGFzc3dvcmQgc2lnbiB1cCBpcyBub3QgZW5hYmxlZFwifSk7bGV0IHQ9ZS5ib2R5LHtuYW1lOnIsZW1haWw6byxwYXNzd29yZDppLGltYWdlOm4sY2FsbGJhY2tVUkw6ZCwuLi51fT10O2lmKCFILnN0cmluZygpLmVtYWlsKCkuc2FmZVBhcnNlKG8pLnN1Y2Nlc3MpdGhyb3cgbmV3IEYoXCJCQURfUkVRVUVTVFwiLHttZXNzYWdlOlwiSW52YWxpZCBlbWFpbFwifSk7bGV0IGE9ZS5jb250ZXh0LnBhc3N3b3JkLmNvbmZpZy5taW5QYXNzd29yZExlbmd0aDtpZihpLmxlbmd0aDxhKXRocm93IGUuY29udGV4dC5sb2dnZXIuZXJyb3IoXCJQYXNzd29yZCBpcyB0b28gc2hvcnRcIiksbmV3IEYoXCJCQURfUkVRVUVTVFwiLHttZXNzYWdlOlwiUGFzc3dvcmQgaXMgdG9vIHNob3J0XCJ9KTtsZXQgYz1lLmNvbnRleHQucGFzc3dvcmQuY29uZmlnLm1heFBhc3N3b3JkTGVuZ3RoO2lmKGkubGVuZ3RoPmMpdGhyb3cgZS5jb250ZXh0LmxvZ2dlci5lcnJvcihcIlBhc3N3b3JkIGlzIHRvbyBsb25nXCIpLG5ldyBGKFwiQkFEX1JFUVVFU1RcIix7bWVzc2FnZTpcIlBhc3N3b3JkIGlzIHRvbyBsb25nXCJ9KTtpZigoYXdhaXQgZS5jb250ZXh0LmludGVybmFsQWRhcHRlci5maW5kVXNlckJ5RW1haWwobykpPy51c2VyKXRocm93IGUuY29udGV4dC5sb2dnZXIuaW5mbyhgU2lnbi11cCBhdHRlbXB0IGZvciBleGlzdGluZyBlbWFpbDogJHtvfWApLG5ldyBGKFwiVU5QUk9DRVNTQUJMRV9FTlRJVFlcIix7bWVzc2FnZTpcIlVzZXIgd2l0aCB0aGlzIGVtYWlsIGFscmVhZHkgZXhpc3RzXCJ9KTtsZXQgZj1wZShlLmNvbnRleHQub3B0aW9ucyx1KSxsO3RyeXtpZihsPWF3YWl0IGUuY29udGV4dC5pbnRlcm5hbEFkYXB0ZXIuY3JlYXRlVXNlcih7ZW1haWw6by50b0xvd2VyQ2FzZSgpLG5hbWU6cixpbWFnZTpuLC4uLmYsZW1haWxWZXJpZmllZDohMX0pLCFsKXRocm93IG5ldyBGKFwiQkFEX1JFUVVFU1RcIix7bWVzc2FnZTpcIkZhaWxlZCB0byBjcmVhdGUgdXNlclwifSl9Y2F0Y2goeSl7dGhyb3cgZS5jb250ZXh0LmxvZ2dlci5lcnJvcihcIkZhaWxlZCB0byBjcmVhdGUgdXNlclwiLHkpLG5ldyBGKFwiVU5QUk9DRVNTQUJMRV9FTlRJVFlcIix7bWVzc2FnZTpcIkZhaWxlZCB0byBjcmVhdGUgdXNlclwiLGRldGFpbHM6eX0pfWlmKCFsKXRocm93IG5ldyBGKFwiVU5QUk9DRVNTQUJMRV9FTlRJVFlcIix7bWVzc2FnZTpcIkZhaWxlZCB0byBjcmVhdGUgdXNlclwifSk7bGV0IHA9YXdhaXQgZS5jb250ZXh0LnBhc3N3b3JkLmhhc2goaSk7aWYoYXdhaXQgZS5jb250ZXh0LmludGVybmFsQWRhcHRlci5saW5rQWNjb3VudCh7dXNlcklkOmwuaWQscHJvdmlkZXJJZDpcImNyZWRlbnRpYWxcIixhY2NvdW50SWQ6bC5pZCxwYXNzd29yZDpwLGV4cGlyZXNBdDpTKDYwKjYwKjI0KjMwLFwic2VjXCIpfSksZS5jb250ZXh0Lm9wdGlvbnMuZW1haWxWZXJpZmljYXRpb24/LnNlbmRPblNpZ25VcCl7bGV0IHk9YXdhaXQgVihlLmNvbnRleHQuc2VjcmV0LGwuZW1haWwpLGg9YCR7ZS5jb250ZXh0LmJhc2VVUkx9L3ZlcmlmeS1lbWFpbD90b2tlbj0ke3l9JmNhbGxiYWNrVVJMPSR7dC5jYWxsYmFja1VSTHx8ZS5xdWVyeT8uY3VycmVudFVSTHx8XCIvXCJ9YDthd2FpdCBlLmNvbnRleHQub3B0aW9ucy5lbWFpbFZlcmlmaWNhdGlvbj8uc2VuZFZlcmlmaWNhdGlvbkVtYWlsPy4oe3VzZXI6bCx1cmw6aCx0b2tlbjp5fSxlLnJlcXVlc3QpfWlmKCFlLmNvbnRleHQub3B0aW9ucy5lbWFpbEFuZFBhc3N3b3JkLmF1dG9TaWduSW58fGUuY29udGV4dC5vcHRpb25zLmVtYWlsQW5kUGFzc3dvcmQucmVxdWlyZUVtYWlsVmVyaWZpY2F0aW9uKXJldHVybiBlLmpzb24oe3VzZXI6bCxzZXNzaW9uOm51bGx9KTtsZXQgZz1hd2FpdCBlLmNvbnRleHQuaW50ZXJuYWxBZGFwdGVyLmNyZWF0ZVNlc3Npb24obC5pZCxlLnJlcXVlc3QpO2lmKCFnKXRocm93IG5ldyBGKFwiQkFEX1JFUVVFU1RcIix7bWVzc2FnZTpcIkZhaWxlZCB0byBjcmVhdGUgc2Vzc2lvblwifSk7cmV0dXJuIGF3YWl0IEkoZSx7c2Vzc2lvbjpnLHVzZXI6bH0pLGUuanNvbih7dXNlcjpsLHNlc3Npb246Z30pfSk7aW1wb3J0e3ogYXMgWX1mcm9tXCJ6b2RcIjtpbXBvcnR7QVBJRXJyb3IgYXMgdnR9ZnJvbVwiYmV0dGVyLWNhbGxcIjt2YXIgVXQ9YihcIi9saXN0LWFjY291bnRzXCIse21ldGhvZDpcIkdFVFwiLHVzZTpbQ119LGFzeW5jIGU9PntsZXQgdD1lLmNvbnRleHQuc2Vzc2lvbixyPWF3YWl0IGUuY29udGV4dC5pbnRlcm5hbEFkYXB0ZXIuZmluZEFjY291bnRzKHQudXNlci5pZCk7cmV0dXJuIGUuanNvbihyLm1hcChvPT4oe2lkOm8uaWQscHJvdmlkZXI6by5wcm92aWRlcklkfSkpKX0pLFR0PWIoXCIvbGluay1zb2NpYWxcIix7bWV0aG9kOlwiUE9TVFwiLHJlcXVpcmVIZWFkZXJzOiEwLHF1ZXJ5Olkub2JqZWN0KHtjdXJyZW50VVJMOlkuc3RyaW5nKCkub3B0aW9uYWwoKX0pLm9wdGlvbmFsKCksYm9keTpZLm9iamVjdCh7Y2FsbGJhY2tVUkw6WS5zdHJpbmcoKS5vcHRpb25hbCgpLHByb3ZpZGVyOlkuZW51bShzZSl9KSx1c2U6W0NdfSxhc3luYyBlPT57bGV0IHQ9ZS5jb250ZXh0LnNlc3Npb247aWYoKGF3YWl0IGUuY29udGV4dC5pbnRlcm5hbEFkYXB0ZXIuZmluZEFjY291bnRzKHQudXNlci5pZCkpLmZpbmQodT0+dS5wcm92aWRlcklkPT09ZS5ib2R5LnByb3ZpZGVyKSl0aHJvdyBuZXcgdnQoXCJCQURfUkVRVUVTVFwiLHttZXNzYWdlOlwiU29jaWFsIEFjY291bnQgaXMgYWxyZWFkeSBsaW5rZWQuXCJ9KTtsZXQgaT1lLmNvbnRleHQuc29jaWFsUHJvdmlkZXJzLmZpbmQodT0+dS5pZD09PWUuYm9keS5wcm92aWRlcik7aWYoIWkpdGhyb3cgZS5jb250ZXh0LmxvZ2dlci5lcnJvcihcIlByb3ZpZGVyIG5vdCBmb3VuZC4gTWFrZSBzdXJlIHRvIGFkZCB0aGUgcHJvdmlkZXIgaW4geW91ciBhdXRoIGNvbmZpZ1wiLHtwcm92aWRlcjplLmJvZHkucHJvdmlkZXJ9KSxuZXcgdnQoXCJOT1RfRk9VTkRcIix7bWVzc2FnZTpcIlByb3ZpZGVyIG5vdCBmb3VuZFwifSk7bGV0IG49YXdhaXQgbmUoZSx7dXNlcklkOnQudXNlci5pZCxlbWFpbDp0LnVzZXIuZW1haWx9KSxkPWF3YWl0IGkuY3JlYXRlQXV0aG9yaXphdGlvblVSTCh7c3RhdGU6bi5zdGF0ZSxjb2RlVmVyaWZpZXI6bi5jb2RlVmVyaWZpZXIscmVkaXJlY3RVUkk6YCR7ZS5jb250ZXh0LmJhc2VVUkx9L2NhbGxiYWNrLyR7aS5pZH1gfSk7cmV0dXJuIGUuanNvbih7dXJsOmQudG9TdHJpbmcoKSxyZWRpcmVjdDohMH0pfSk7ZnVuY3Rpb24gZmUoZSx0KXtpZih0LmFkdmFuY2VkPy5pcEFkZHJlc3M/LmRpc2FibGVJcFRyYWNraW5nKXJldHVybiBudWxsO2xldCByPVwiMTI3LjAuMC4xXCI7aWYoQmUpcmV0dXJuIHI7bGV0IGk9dC5hZHZhbmNlZD8uaXBBZGRyZXNzPy5pcEFkZHJlc3NIZWFkZXJzfHxbXCJ4LWNsaWVudC1pcFwiLFwieC1mb3J3YXJkZWQtZm9yXCIsXCJjZi1jb25uZWN0aW5nLWlwXCIsXCJmYXN0bHktY2xpZW50LWlwXCIsXCJ4LXJlYWwtaXBcIixcIngtY2x1c3Rlci1jbGllbnQtaXBcIixcIngtZm9yd2FyZGVkXCIsXCJmb3J3YXJkZWQtZm9yXCIsXCJmb3J3YXJkZWRcIl0sbj1lIGluc3RhbmNlb2YgUmVxdWVzdD9lLmhlYWRlcnM6ZTtmb3IobGV0IGQgb2YgaSl7bGV0IHU9bi5nZXQoZCk7aWYodHlwZW9mIHU9PVwic3RyaW5nXCIpe2xldCBzPXUuc3BsaXQoXCIsXCIpWzBdLnRyaW0oKTtpZihzKXJldHVybiBzfX1yZXR1cm4gbnVsbH1mdW5jdGlvbiBEcihlLHQscil7bGV0IG89RGF0ZS5ub3coKSxpPXQqMWUzO3JldHVybiBvLXIubGFzdFJlcXVlc3Q8aSYmci5jb3VudD49ZX1mdW5jdGlvbiBOcihlKXtyZXR1cm4gbmV3IFJlc3BvbnNlKEpTT04uc3RyaW5naWZ5KHttZXNzYWdlOlwiVG9vIG1hbnkgcmVxdWVzdHMuIFBsZWFzZSB0cnkgYWdhaW4gbGF0ZXIuXCJ9KSx7c3RhdHVzOjQyOSxzdGF0dXNUZXh0OlwiVG9vIE1hbnkgUmVxdWVzdHNcIixoZWFkZXJzOntcIlgtUmV0cnktQWZ0ZXJcIjplLnRvU3RyaW5nKCl9fSl9ZnVuY3Rpb24gcXIoZSx0KXtsZXQgcj1EYXRlLm5vdygpLG89dCoxZTM7cmV0dXJuIE1hdGguY2VpbCgoZStvLXIpLzFlMyl9ZnVuY3Rpb24gVnIoZSx0KXtsZXQgcj1cInJhdGVMaW1pdFwiLG89ZS5hZGFwdGVyO3JldHVybntnZXQ6YXN5bmMgaT0+YXdhaXQgby5maW5kT25lKHttb2RlbDpyLHdoZXJlOlt7ZmllbGQ6XCJrZXlcIix2YWx1ZTppfV19KSxzZXQ6YXN5bmMoaSxuLGQpPT57dHJ5e2Q/YXdhaXQgby51cGRhdGUoe21vZGVsOnQ/P1wicmF0ZUxpbWl0XCIsd2hlcmU6W3tmaWVsZDpcImtleVwiLHZhbHVlOml9XSx1cGRhdGU6e2NvdW50Om4uY291bnQsbGFzdFJlcXVlc3Q6bi5sYXN0UmVxdWVzdH19KTphd2FpdCBvLmNyZWF0ZSh7bW9kZWw6dD8/XCJyYXRlTGltaXRcIixkYXRhOntrZXk6aSxjb3VudDpuLmNvdW50LGxhc3RSZXF1ZXN0Om4ubGFzdFJlcXVlc3R9fSl9Y2F0Y2godSl7ZS5sb2dnZXIuZXJyb3IoXCJFcnJvciBzZXR0aW5nIHJhdGUgbGltaXRcIix1KX19fX12YXIgRXQ9bmV3IE1hcDtmdW5jdGlvbiBGcihlKXtyZXR1cm4gZS5yYXRlTGltaXQuc3RvcmFnZT09PVwic2Vjb25kYXJ5LXN0b3JhZ2VcIj97Z2V0OmFzeW5jIHI9PntsZXQgbz1hd2FpdCBlLm9wdGlvbnMuc2Vjb25kYXJ5U3RvcmFnZT8uZ2V0KHIpO3JldHVybiBvP0pTT04ucGFyc2Uobyk6dm9pZCAwfSxzZXQ6YXN5bmMocixvKT0+e2F3YWl0IGUub3B0aW9ucy5zZWNvbmRhcnlTdG9yYWdlPy5zZXQ/LihyLEpTT04uc3RyaW5naWZ5KG8pKX19OmUucmF0ZUxpbWl0LnN0b3JhZ2U9PT1cIm1lbW9yeVwiP3thc3luYyBnZXQocil7cmV0dXJuIEV0LmdldChyKX0sYXN5bmMgc2V0KHIsbyxpKXtFdC5zZXQocixvKX19OlZyKGUsZS5yYXRlTGltaXQubW9kZWxOYW1lKX1hc3luYyBmdW5jdGlvbiBQdChlLHQpe2lmKCF0LnJhdGVMaW1pdC5lbmFibGVkKXJldHVybjtsZXQgcj10LmJhc2VVUkwsbz1lLnVybC5yZXBsYWNlKHIsXCJcIiksaT10LnJhdGVMaW1pdC53aW5kb3csbj10LnJhdGVMaW1pdC5tYXgsZD1mZShlLHQub3B0aW9ucykrbyxzPSRyKCkuZmluZChmPT5mLnBhdGhNYXRjaGVyKG8pKTtzJiYoaT1zLndpbmRvdyxuPXMubWF4KTtmb3IobGV0IGYgb2YgdC5vcHRpb25zLnBsdWdpbnN8fFtdKWlmKGYucmF0ZUxpbWl0KXtsZXQgbD1mLnJhdGVMaW1pdC5maW5kKHA9PnAucGF0aE1hdGNoZXIobykpO2lmKGwpe2k9bC53aW5kb3csbj1sLm1heDticmVha319aWYodC5yYXRlTGltaXQuY3VzdG9tUnVsZXMpe2xldCBmPXQucmF0ZUxpbWl0LmN1c3RvbVJ1bGVzW29dO2YmJihpPWYud2luZG93LG49Zi5tYXgpfWxldCBhPUZyKHQpLGM9YXdhaXQgYS5nZXQoZCksbT1EYXRlLm5vdygpO2lmKCFjKWF3YWl0IGEuc2V0KGQse2tleTpkLGNvdW50OjEsbGFzdFJlcXVlc3Q6bX0pO2Vsc2V7bGV0IGY9bS1jLmxhc3RSZXF1ZXN0O2lmKERyKG4saSxjKSl7bGV0IGw9cXIoYy5sYXN0UmVxdWVzdCxpKTtyZXR1cm4gTnIobCl9ZWxzZSBmPmkqMWUzP2F3YWl0IGEuc2V0KGQsey4uLmMsY291bnQ6MSxsYXN0UmVxdWVzdDptfSk6YXdhaXQgYS5zZXQoZCx7Li4uYyxjb3VudDpjLmNvdW50KzEsbGFzdFJlcXVlc3Q6bX0pfX1mdW5jdGlvbiAkcigpe3JldHVyblt7cGF0aE1hdGNoZXIodCl7cmV0dXJuIHQuc3RhcnRzV2l0aChcIi9zaWduLWluXCIpfHx0LnN0YXJ0c1dpdGgoXCIvc2lnbi11cFwiKXx8dC5zdGFydHNXaXRoKFwiL2NoYW5nZS1wYXNzd29yZFwiKXx8dC5zdGFydHNXaXRoKFwiL2NoYW5nZS1lbWFpbFwiKX0sd2luZG93OjEwLG1heDozfV19aW1wb3J0e0FQSUVycm9yIGFzIE5hfWZyb21cImJldHRlci1jYWxsXCI7ZnVuY3Rpb24gVWUoZSx0KXtsZXQgcj10LnBsdWdpbnM/LnJlZHVjZSgodSxzKT0+KHsuLi51LC4uLnMuZW5kcG9pbnRzfSkse30pLG89dC5wbHVnaW5zPy5tYXAodT0+dS5taWRkbGV3YXJlcz8ubWFwKHM9PntsZXQgYT1hc3luYyBjPT5zLm1pZGRsZXdhcmUoey4uLmMsY29udGV4dDp7Li4uZSwuLi5jLmNvbnRleHR9fSk7cmV0dXJuIGEucGF0aD1zLnBhdGgsYS5vcHRpb25zPXMubWlkZGxld2FyZS5vcHRpb25zLGEuaGVhZGVycz1zLm1pZGRsZXdhcmUuaGVhZGVycyx7cGF0aDpzLnBhdGgsbWlkZGxld2FyZTphfX0pKS5maWx0ZXIodT0+dSE9PXZvaWQgMCkuZmxhdCgpfHxbXSxuPXsuLi57c2lnbkluU29jaWFsOmF0LGNhbGxiYWNrT0F1dGg6Y3QsZ2V0U2Vzc2lvbjpBZSgpLHNpZ25PdXQ6dXQsc2lnblVwRW1haWw6eHQoKSxzaWduSW5FbWFpbDpkdCxmb3JnZXRQYXNzd29yZDpwdCxyZXNldFBhc3N3b3JkOm10LHZlcmlmeUVtYWlsOnN0LHNlbmRWZXJpZmljYXRpb25FbWFpbDppdCxjaGFuZ2VFbWFpbDpBdCxjaGFuZ2VQYXNzd29yZDp5dCxzZXRQYXNzd29yZDp3dCx1cGRhdGVVc2VyOmh0KCksZGVsZXRlVXNlcjpidCxmb3JnZXRQYXNzd29yZENhbGxiYWNrOmZ0LGxpc3RTZXNzaW9uczp0dCgpLHJldm9rZVNlc3Npb246cnQscmV2b2tlU2Vzc2lvbnM6b3QscmV2b2tlT3RoZXJTZXNzaW9uczpudCxsaW5rU29jaWFsQWNjb3VudDpUdCxsaXN0VXNlckFjY291bnRzOlV0fSwuLi5yLG9rOlJ0LGVycm9yOmt0fSxkPXt9O2ZvcihsZXRbdSxzXW9mIE9iamVjdC5lbnRyaWVzKG4pKWRbdV09YXN5bmMoYT17fSk9PntsZXQgYz1hd2FpdCBlO2Muc2Vzc2lvbj1udWxsO2ZvcihsZXQgbCBvZiB0LnBsdWdpbnN8fFtdKWlmKGwuaG9va3M/LmJlZm9yZSlmb3IobGV0IHAgb2YgbC5ob29rcy5iZWZvcmUpe2xldCBnPXsuLi5zLC4uLmEsY29udGV4dDp7Li4uYywuLi5hPy5jb250ZXh0fX07aWYocC5tYXRjaGVyKGcpKXtsZXQgaD1hd2FpdCBwLmhhbmRsZXIoZyk7aCYmXCJjb250ZXh0XCJpbiBoJiYoYT17Li4uaCwuLi5hfSl9fWxldCBtO3RyeXttPWF3YWl0IHMoey4uLmEsY29udGV4dDp7Li4uYywuLi5hLmNvbnRleHR9fSl9Y2F0Y2gobCl7aWYobCBpbnN0YW5jZW9mIHZlKXtsZXQgcD10LnBsdWdpbnM/Lm1hcChoPT57aWYoaC5ob29rcz8uYWZ0ZXIpcmV0dXJuIGguaG9va3MuYWZ0ZXJ9KS5maWx0ZXIoaD0+aCE9PXZvaWQgMCkuZmxhdCgpO2lmKCFwPy5sZW5ndGgpdGhyb3cgbDtsZXQgZz1uZXcgUmVzcG9uc2UoSlNPTi5zdHJpbmdpZnkobC5ib2R5KSx7c3RhdHVzOnpyW2wuc3RhdHVzXSxoZWFkZXJzOmwuaGVhZGVyc30pLHk7Zm9yKGxldCBoIG9mIHB8fFtdKXtsZXQgQT17Li4ucywuLi5hLGNvbnRleHQ6ey4uLmMsLi4uYS5jb250ZXh0LGVuZHBvaW50OnMscmV0dXJuZWQ6Z319O2lmKGgubWF0Y2hlcihBKSl7bGV0IHg9YXdhaXQgaC5oYW5kbGVyKEEpO3gmJlwicmVzcG9uc2VcImluIHgmJih5PXgucmVzcG9uc2UpfX1pZih5IGluc3RhbmNlb2YgUmVzcG9uc2UpcmV0dXJuIHk7dGhyb3cgbH10aHJvdyBsfWxldCBmPW07Zm9yKGxldCBsIG9mIHQucGx1Z2luc3x8W10paWYobC5ob29rcz8uYWZ0ZXIpZm9yKGxldCBwIG9mIGwuaG9va3MuYWZ0ZXIpe2xldCBnPXsuLi5zLC4uLmEsY29udGV4dDp7Li4uYywuLi5hLmNvbnRleHQsZW5kcG9pbnQ6cyxyZXR1cm5lZDpmfX07aWYocC5tYXRjaGVyKGcpKXtsZXQgaD1hd2FpdCBwLmhhbmRsZXIoZyk7aCYmKFwicmVzcG9uc2VcImluIGgmJihmPWgucmVzcG9uc2UpLFwicmVzcG9uc2VIZWFkZXJcImluIGgmJihmIGluc3RhbmNlb2YgUmVzcG9uc2U/Zj1uZXcgUmVzcG9uc2UoZi5ib2R5LHtzdGF0dXM6Zi5zdGF0dXMsaGVhZGVyczp7Li4uZi5oZWFkZXJzLC4uLmgucmVzcG9uc2VIZWFkZXJ9fSk6ZFt1XS5oZWFkZXJzPWgucmVzcG9uc2VIZWFkZXIpKX19cmV0dXJuIGZ9LGRbdV0ucGF0aD1zLnBhdGgsZFt1XS5tZXRob2Q9cy5tZXRob2QsZFt1XS5vcHRpb25zPXMub3B0aW9ucyxkW3VdLmhlYWRlcnM9cy5oZWFkZXJzO3JldHVybnthcGk6ZCxtaWRkbGV3YXJlczpvfX12YXIgSXQ9KGUsdCk9PntsZXR7YXBpOnIsbWlkZGxld2FyZXM6b309VWUoZSx0KSxpPW5ldyBVUkwoZS5iYXNlVVJMKS5wYXRobmFtZTtyZXR1cm4ganIocix7ZXh0cmFDb250ZXh0OmUsYmFzZVBhdGg6aSxyb3V0ZXJNaWRkbGV3YXJlOlt7cGF0aDpcIi8qKlwiLG1pZGRsZXdhcmU6U2V9LC4uLm9dLGFzeW5jIG9uUmVxdWVzdChuKXtmb3IobGV0IGQgb2YgZS5vcHRpb25zLnBsdWdpbnN8fFtdKWlmKGQub25SZXF1ZXN0KXtsZXQgdT1hd2FpdCBkLm9uUmVxdWVzdChuLGUpO2lmKHUmJlwicmVzcG9uc2VcImluIHUpcmV0dXJuIHUucmVzcG9uc2V9cmV0dXJuIFB0KG4sZSl9LGFzeW5jIG9uUmVzcG9uc2Uobil7Zm9yKGxldCBkIG9mIGUub3B0aW9ucy5wbHVnaW5zfHxbXSlpZihkLm9uUmVzcG9uc2Upe2xldCB1PWF3YWl0IGQub25SZXNwb25zZShuLGUpO2lmKHUpcmV0dXJuIHUucmVzcG9uc2V9cmV0dXJuIG59LG9uRXJyb3Iobil7aWYobiBpbnN0YW5jZW9mIHZlJiZuLnN0YXR1cz09PVwiRk9VTkRcIilyZXR1cm47aWYodC5vbkFQSUVycm9yPy50aHJvdyl0aHJvdyBuO2lmKHQub25BUElFcnJvcj8ub25FcnJvcil7dC5vbkFQSUVycm9yLm9uRXJyb3IobixlKTtyZXR1cm59bGV0IGQ9dC5sb2dnZXI/LmxldmVsLHU9ZD09PVwiZXJyb3JcInx8ZD09PVwid2FyblwifHxkPT09XCJkZWJ1Z1wiP0w6dm9pZCAwO2lmKHQubG9nZ2VyPy5kaXNhYmxlZCE9PSEwKXtpZihuJiZ0eXBlb2Ygbj09XCJvYmplY3RcIiYmXCJtZXNzYWdlXCJpbiBuJiZ0eXBlb2Ygbi5tZXNzYWdlPT1cInN0cmluZ1wiJiYobi5tZXNzYWdlLmluY2x1ZGVzKFwibm8gY29sdW1uXCIpfHxuLm1lc3NhZ2UuaW5jbHVkZXMoXCJjb2x1bW5cIil8fG4ubWVzc2FnZS5pbmNsdWRlcyhcInJlbGF0aW9uXCIpfHxuLm1lc3NhZ2UuaW5jbHVkZXMoXCJ0YWJsZVwiKXx8bi5tZXNzYWdlLmluY2x1ZGVzKFwiZG9lcyBub3QgZXhpc3RcIikpKXtlLmxvZ2dlcj8uZXJyb3Iobi5tZXNzYWdlKSxlLmxvZ2dlcj8uZXJyb3IoXCJJZiB5b3UgYXJlIHNlZWluZyB0aGlzIGVycm9yLCBpdCBpcyBsaWtlbHkgdGhhdCB5b3UgbmVlZCB0byBydW4gdGhlIG1pZ3JhdGlvbnMgZm9yIHRoZSBkYXRhYmFzZSBvciB5b3UgbmVlZCB0byB1cGRhdGUgeW91ciBkYXRhYmFzZSBzY2hlbWEuIElmIHlvdSByZWNlbnRseSB1cGRhdGVkIHRoZSBwYWNrYWdlLCBtYWtlIHN1cmUgdG8gcnVuIHRoZSBtaWdyYXRpb25zLlwiKTtyZXR1cm59biBpbnN0YW5jZW9mIHZlPyhuLnN0YXR1cz09PVwiSU5URVJOQUxfU0VSVkVSX0VSUk9SXCImJmUubG9nZ2VyLmVycm9yKG4uc3RhdHVzLG4pLHU/LmVycm9yKG4ubWVzc2FnZSkpOmUubG9nZ2VyPy5lcnJvcihuJiZ0eXBlb2Ygbj09XCJvYmplY3RcIiYmXCJuYW1lXCJpbiBuP24ubmFtZTpcIlwiLG4pfX19KX07aW1wb3J0e2RlZnUgYXMgV3J9ZnJvbVwiZGVmdVwiO2ltcG9ydHtkZWNvZGVIZXggYXMgTXIsZW5jb2RlSGV4IGFzIE90fWZyb21cIm9zbG8vZW5jb2RpbmdcIjtpbXBvcnR7c2NyeXB0QXN5bmMgYXMgSHJ9ZnJvbVwiQG5vYmxlL2hhc2hlcy9zY3J5cHRcIjtpbXBvcnR7Z2V0UmFuZG9tVmFsdWVzIGFzIEdyfWZyb21cInVuY3J5cHRvXCI7dmFyIEc9e046MTYzODQscjoxNixwOjEsZGtMZW46NjR9O2FzeW5jIGZ1bmN0aW9uIFN0KGUsdCl7cmV0dXJuIGF3YWl0IEhyKGUubm9ybWFsaXplKFwiTkZLQ1wiKSx0LHtOOkcuTixwOkcucCxyOkcucixka0xlbjpHLmRrTGVuLG1heG1lbToxMjgqRy5OKkcucioyfSl9dmFyIF90PWFzeW5jIGU9PntsZXQgdD1PdChHcihuZXcgVWludDhBcnJheSgxNikpKSxyPWF3YWl0IFN0KGUsdCk7cmV0dXJuYCR7dH06JHtPdChyKX1gfSxMdD1hc3luYyhlLHQpPT57bGV0W3Isb109ZS5zcGxpdChcIjpcIiksaT1hd2FpdCBTdCh0LHIpO3JldHVybiBtZShpLE1yKG8pKX07ZnVuY3Rpb24gQ3QoZSx0KXtsZXQgcj10Lmhvb2tzO2FzeW5jIGZ1bmN0aW9uIG8oZCx1LHMpe2xldCBhPWQ7Zm9yKGxldCBmIG9mIHJ8fFtdKXtsZXQgbD1mW3VdPy5jcmVhdGU/LmJlZm9yZTtpZihsKXtsZXQgcD1hd2FpdCBsKGQpO2lmKHA9PT0hMSlyZXR1cm4gbnVsbDt0eXBlb2YgcD09XCJvYmplY3RcIiYmXCJkYXRhXCJpbiBwJiYoYT1wLmRhdGEpfX1sZXQgYz1zP2F3YWl0IHMuZm4oYSk6bnVsbCxtPSFzfHxzLmV4ZWN1dGVNYWluRm4/YXdhaXQgZS5jcmVhdGUoe21vZGVsOnUsZGF0YTphfSk6Yztmb3IobGV0IGYgb2Ygcnx8W10pe2xldCBsPWZbdV0/LmNyZWF0ZT8uYWZ0ZXI7bCYmYXdhaXQgbChtKX1yZXR1cm4gbX1hc3luYyBmdW5jdGlvbiBpKGQsdSxzLGEpe2xldCBjPWQ7Zm9yKGxldCBsIG9mIHJ8fFtdKXtsZXQgcD1sW3NdPy51cGRhdGU/LmJlZm9yZTtpZihwKXtsZXQgZz1hd2FpdCBwKGQpO2lmKGc9PT0hMSlyZXR1cm4gbnVsbDtjPXR5cGVvZiBnPT1cIm9iamVjdFwiP2cuZGF0YTpnfX1sZXQgbT1hP2F3YWl0IGEuZm4oYyk6bnVsbCxmPSFhfHxhLmV4ZWN1dGVNYWluRm4/YXdhaXQgZS51cGRhdGUoe21vZGVsOnMsdXBkYXRlOmMsd2hlcmU6dX0pOm07Zm9yKGxldCBsIG9mIHJ8fFtdKXtsZXQgcD1sW3NdPy51cGRhdGU/LmFmdGVyO3AmJmF3YWl0IHAoZil9cmV0dXJuIGZ9YXN5bmMgZnVuY3Rpb24gbihkLHUscyxhKXtsZXQgYz1kO2ZvcihsZXQgbCBvZiByfHxbXSl7bGV0IHA9bFtzXT8udXBkYXRlPy5iZWZvcmU7aWYocCl7bGV0IGc9YXdhaXQgcChkKTtpZihnPT09ITEpcmV0dXJuIG51bGw7Yz10eXBlb2YgZz09XCJvYmplY3RcIj9nLmRhdGE6Z319bGV0IG09YT9hd2FpdCBhLmZuKGMpOm51bGwsZj0hYXx8YS5leGVjdXRlTWFpbkZuP2F3YWl0IGUudXBkYXRlTWFueSh7bW9kZWw6cyx1cGRhdGU6Yyx3aGVyZTp1fSk6bTtmb3IobGV0IGwgb2Ygcnx8W10pe2xldCBwPWxbc10/LnVwZGF0ZT8uYWZ0ZXI7cCYmYXdhaXQgcChmKX1yZXR1cm4gZn1yZXR1cm57Y3JlYXRlV2l0aEhvb2tzOm8sdXBkYXRlV2l0aEhvb2tzOmksdXBkYXRlTWFueVdpdGhIb29rczpufX12YXIgVGU9KGUsdCk9PntsZXQgcj10Lm9wdGlvbnMsbz1yLnNlY29uZGFyeVN0b3JhZ2UsaT1yLnNlc3Npb24/LmV4cGlyZXNJbnx8NjAqNjAqMjQqNyx7Y3JlYXRlV2l0aEhvb2tzOm4sdXBkYXRlV2l0aEhvb2tzOmQsdXBkYXRlTWFueVdpdGhIb29rczp1fT1DdChlLHQpO3JldHVybntjcmVhdGVPQXV0aFVzZXI6YXN5bmMocyxhKT0+e3RyeXtsZXQgYz1hd2FpdCBuKHtpZDpCKCksY3JlYXRlZEF0Om5ldyBEYXRlLHVwZGF0ZWRBdDpuZXcgRGF0ZSwuLi5zfSxcInVzZXJcIiksbT1hd2FpdCBuKHtpZDpCKCksLi4uYSx1c2VySWQ6Yy5pZHx8cy5pZH0sXCJhY2NvdW50XCIpO3JldHVybnt1c2VyOmMsYWNjb3VudDptfX1jYXRjaChjKXtyZXR1cm4gY29uc29sZS5sb2coYyksbnVsbH19LGNyZWF0ZVVzZXI6YXN5bmMgcz0+YXdhaXQgbih7aWQ6QigpLGNyZWF0ZWRBdDpuZXcgRGF0ZSx1cGRhdGVkQXQ6bmV3IERhdGUsZW1haWxWZXJpZmllZDohMSwuLi5zfSxcInVzZXJcIiksY3JlYXRlQWNjb3VudDphc3luYyBzPT5hd2FpdCBuKHtpZDpCKCksY3JlYXRlZEF0Om5ldyBEYXRlLHVwZGF0ZWRBdDpuZXcgRGF0ZSwuLi5zfSxcImFjY291bnRcIiksbGlzdFNlc3Npb25zOmFzeW5jIHM9PntpZihvKXtsZXQgYz1hd2FpdCBvLmdldChgYWN0aXZlLXNlc3Npb25zLSR7c31gKTtpZighYylyZXR1cm5bXTtsZXQgbT1NKGMpfHxbXSxmPURhdGUubm93KCksbD1tLmZpbHRlcihnPT5nLmV4cGlyZXNBdD5mKSxwPVtdO2ZvcihsZXQgZyBvZiBsKXtsZXQgeT1hd2FpdCBvLmdldChnLmlkKTtpZih5KXtsZXQgaD1KU09OLnBhcnNlKHkpLEE9bGUodC5vcHRpb25zLHsuLi5oLnNlc3Npb24sZXhwaXJlc0F0Om5ldyBEYXRlKGguc2Vzc2lvbi5leHBpcmVzQXQpfSk7cC5wdXNoKEEpfX1yZXR1cm4gcH1yZXR1cm4gYXdhaXQgZS5maW5kTWFueSh7bW9kZWw6XCJzZXNzaW9uXCIsd2hlcmU6W3tmaWVsZDpcInVzZXJJZFwiLHZhbHVlOnN9XX0pfSxsaXN0VXNlcnM6YXN5bmMocyxhLGMsbSk9PmF3YWl0IGUuZmluZE1hbnkoe21vZGVsOlwidXNlclwiLGxpbWl0OnMsb2Zmc2V0OmEsc29ydEJ5OmMsd2hlcmU6bX0pLGRlbGV0ZVVzZXI6YXN5bmMgcz0+e2F3YWl0IGUuZGVsZXRlTWFueSh7bW9kZWw6XCJzZXNzaW9uXCIsd2hlcmU6W3tmaWVsZDpcInVzZXJJZFwiLHZhbHVlOnN9XX0pLGF3YWl0IGUuZGVsZXRlTWFueSh7bW9kZWw6XCJhY2NvdW50XCIsd2hlcmU6W3tmaWVsZDpcInVzZXJJZFwiLHZhbHVlOnN9XX0pLGF3YWl0IGUuZGVsZXRlKHttb2RlbDpcInVzZXJcIix3aGVyZTpbe2ZpZWxkOlwiaWRcIix2YWx1ZTpzfV19KX0sY3JlYXRlU2Vzc2lvbjphc3luYyhzLGEsYyxtKT0+e2xldCBmPWEgaW5zdGFuY2VvZiBSZXF1ZXN0P2EuaGVhZGVyczphLGw9e2V4cGlyZXNBdDpjP1MoNjAqNjAqMjQsXCJzZWNcIik6UyhpLFwic2VjXCIpLGlwQWRkcmVzczphJiZmZShhLHQub3B0aW9ucyl8fFwiXCIsdXNlckFnZW50OmY/LmdldChcInVzZXItYWdlbnRcIil8fFwiXCIsLi4ubSxpZDpCKDMyKSx1c2VySWQ6c307cmV0dXJuIGF3YWl0IG4obCxcInNlc3Npb25cIixvP3tmbjphc3luYyBnPT57bGV0IHk9YXdhaXQgZS5maW5kT25lKHttb2RlbDpcInVzZXJcIix3aGVyZTpbe2ZpZWxkOlwiaWRcIix2YWx1ZTpzfV19KTtvLnNldChnLmlkLEpTT04uc3RyaW5naWZ5KHtzZXNzaW9uOmcsdXNlcjp5fSksaSk7bGV0IGg9YXdhaXQgby5nZXQoYGFjdGl2ZS1zZXNzaW9ucy0ke3N9YCksQT1bXSx3PURhdGUubm93KCk7cmV0dXJuIGgmJihBPU0oaCl8fFtdLEE9QS5maWx0ZXIoeD0+eC5leHBpcmVzQXQ+dykpLEEucHVzaCh7aWQ6Zy5pZCxleHBpcmVzQXQ6dytpKjFlM30pLGF3YWl0IG8uc2V0KGBhY3RpdmUtc2Vzc2lvbnMtJHtzfWAsSlNPTi5zdHJpbmdpZnkoQSksaSksZ30sZXhlY3V0ZU1haW5GbjpyLnNlc3Npb24/LnN0b3JlU2Vzc2lvbkluRGF0YWJhc2V9OnZvaWQgMCl9LGZpbmRTZXNzaW9uOmFzeW5jIHM9PntpZihvKXtsZXQgZj1hd2FpdCBvLmdldChzKTtpZihmKXtsZXQgbD1KU09OLnBhcnNlKGYpLHA9bGUodC5vcHRpb25zLHsuLi5sLnNlc3Npb24sZXhwaXJlc0F0Om5ldyBEYXRlKGwuc2Vzc2lvbi5leHBpcmVzQXQpfSksZz14ZSh0Lm9wdGlvbnMsey4uLmwudXNlcixjcmVhdGVkQXQ6bmV3IERhdGUobC51c2VyLmNyZWF0ZWRBdCksdXBkYXRlZEF0Om5ldyBEYXRlKGwudXNlci51cGRhdGVkQXQpfSk7cmV0dXJue3Nlc3Npb246cCx1c2VyOmd9fX1sZXQgYT1hd2FpdCBlLmZpbmRPbmUoe21vZGVsOlwic2Vzc2lvblwiLHdoZXJlOlt7dmFsdWU6cyxmaWVsZDpcImlkXCJ9XX0pO2lmKCFhKXJldHVybiBudWxsO2xldCBjPWF3YWl0IGUuZmluZE9uZSh7bW9kZWw6XCJ1c2VyXCIsd2hlcmU6W3t2YWx1ZTphLnVzZXJJZCxmaWVsZDpcImlkXCJ9XX0pO2lmKCFjKXJldHVybiBudWxsO2xldCBtPXhlKHQub3B0aW9ucyxjKTtyZXR1cm57c2Vzc2lvbjpsZSh0Lm9wdGlvbnMsYSksdXNlcjptfX0sZmluZFNlc3Npb25zOmFzeW5jIHM9PntpZihvKXtsZXQgZj1bXTtmb3IobGV0IGwgb2Ygcyl7bGV0IHA9YXdhaXQgby5nZXQobCk7aWYocCl7bGV0IGc9SlNPTi5wYXJzZShwKSx5PXtzZXNzaW9uOnsuLi5nLnNlc3Npb24sZXhwaXJlc0F0Om5ldyBEYXRlKGcuc2Vzc2lvbi5leHBpcmVzQXQpfSx1c2VyOnsuLi5nLnVzZXIsY3JlYXRlZEF0Om5ldyBEYXRlKGcudXNlci5jcmVhdGVkQXQpLHVwZGF0ZWRBdDpuZXcgRGF0ZShnLnVzZXIudXBkYXRlZEF0KX19O2YucHVzaCh5KX19cmV0dXJuIGZ9bGV0IGE9YXdhaXQgZS5maW5kTWFueSh7bW9kZWw6XCJzZXNzaW9uXCIsd2hlcmU6W3tmaWVsZDpcImlkXCIsdmFsdWU6cyxvcGVyYXRvcjpcImluXCJ9XX0pLGM9YS5tYXAoZj0+Zi51c2VySWQpO2lmKCFjLmxlbmd0aClyZXR1cm5bXTtsZXQgbT1hd2FpdCBlLmZpbmRNYW55KHttb2RlbDpcInVzZXJcIix3aGVyZTpbe2ZpZWxkOlwiaWRcIix2YWx1ZTpjLG9wZXJhdG9yOlwiaW5cIn1dfSk7cmV0dXJuIGEubWFwKGY9PntsZXQgbD1tLmZpbmQocD0+cC5pZD09PWYudXNlcklkKTtyZXR1cm4gbD97c2Vzc2lvbjpmLHVzZXI6bH06bnVsbH0pfSx1cGRhdGVTZXNzaW9uOmFzeW5jKHMsYSk9PmF3YWl0IGQoYSxbe2ZpZWxkOlwiaWRcIix2YWx1ZTpzfV0sXCJzZXNzaW9uXCIsbz97YXN5bmMgZm4obSl7bGV0IGY9YXdhaXQgby5nZXQocyksbD1udWxsO2lmKGYpe2xldCBwPUpTT04ucGFyc2UoZik7bD17Li4ucC5zZXNzaW9uLC4uLm19LGF3YWl0IG8uc2V0KHMsSlNPTi5zdHJpbmdpZnkoe3Nlc3Npb246bCx1c2VyOnAudXNlcn0pLHAuc2Vzc2lvbi5leHBpcmVzQXQ/TWF0aC5mbG9vcigocC5zZXNzaW9uLmV4cGlyZXNBdC5nZXRUaW1lKCktRGF0ZS5ub3coKSkvMWUzKTppKX1lbHNlIHJldHVybiBudWxsfSxleGVjdXRlTWFpbkZuOnIuc2Vzc2lvbj8uc3RvcmVTZXNzaW9uSW5EYXRhYmFzZX06dm9pZCAwKSxkZWxldGVTZXNzaW9uOmFzeW5jIHM9PntpZihvKXthd2FpdCBvLmRlbGV0ZShzKSxyLnNlc3Npb24/LnN0b3JlU2Vzc2lvbkluRGF0YWJhc2UmJmF3YWl0IGUuZGVsZXRlKHttb2RlbDpcInNlc3Npb25cIix3aGVyZTpbe2ZpZWxkOlwiaWRcIix2YWx1ZTpzfV19KTtyZXR1cm59YXdhaXQgZS5kZWxldGUoe21vZGVsOlwic2Vzc2lvblwiLHdoZXJlOlt7ZmllbGQ6XCJpZFwiLHZhbHVlOnN9XX0pfSxkZWxldGVTZXNzaW9uczphc3luYyBzPT57aWYobyl7aWYodHlwZW9mIHM9PVwic3RyaW5nXCIpe2xldCBhPWF3YWl0IG8uZ2V0KGBhY3RpdmUtc2Vzc2lvbnMtJHtzfWApLGM9YT9NKGEpOltdO2lmKCFjKXJldHVybjtmb3IobGV0IG0gb2YgYylhd2FpdCBvLmRlbGV0ZShtLmlkKX1lbHNlIGZvcihsZXQgYSBvZiBzKWF3YWl0IG8uZ2V0KGEpJiZhd2FpdCBvLmRlbGV0ZShhKTtyLnNlc3Npb24/LnN0b3JlU2Vzc2lvbkluRGF0YWJhc2UmJmF3YWl0IGUuZGVsZXRlTWFueSh7bW9kZWw6XCJzZXNzaW9uXCIsd2hlcmU6W3tmaWVsZDpBcnJheS5pc0FycmF5KHMpP1wiaWRcIjpcInVzZXJJZFwiLHZhbHVlOnMsb3BlcmF0b3I6QXJyYXkuaXNBcnJheShzKT9cImluXCI6dm9pZCAwfV19KTtyZXR1cm59YXdhaXQgZS5kZWxldGVNYW55KHttb2RlbDpcInNlc3Npb25cIix3aGVyZTpbe2ZpZWxkOkFycmF5LmlzQXJyYXkocyk/XCJpZFwiOlwidXNlcklkXCIsdmFsdWU6cyxvcGVyYXRvcjpBcnJheS5pc0FycmF5KHMpP1wiaW5cIjp2b2lkIDB9XX0pfSxmaW5kVXNlckJ5RW1haWw6YXN5bmMocyxhKT0+e2xldCBjPWF3YWl0IGUuZmluZE9uZSh7bW9kZWw6XCJ1c2VyXCIsd2hlcmU6W3t2YWx1ZTpzLnRvTG93ZXJDYXNlKCksZmllbGQ6XCJlbWFpbFwifV19KTtpZighYylyZXR1cm4gbnVsbDtpZihhPy5pbmNsdWRlQWNjb3VudHMpe2xldCBtPWF3YWl0IGUuZmluZE1hbnkoe21vZGVsOlwiYWNjb3VudFwiLHdoZXJlOlt7dmFsdWU6Yy5pZCxmaWVsZDpcInVzZXJJZFwifV19KTtyZXR1cm57dXNlcjpjLGFjY291bnRzOm19fXJldHVybnt1c2VyOmMsYWNjb3VudHM6W119fSxmaW5kVXNlckJ5SWQ6YXN5bmMgcz0+YXdhaXQgZS5maW5kT25lKHttb2RlbDpcInVzZXJcIix3aGVyZTpbe2ZpZWxkOlwiaWRcIix2YWx1ZTpzfV19KSxsaW5rQWNjb3VudDphc3luYyBzPT5hd2FpdCBuKHtpZDpCKCksLi4uc30sXCJhY2NvdW50XCIpLHVwZGF0ZVVzZXI6YXN5bmMocyxhKT0+YXdhaXQgZChhLFt7ZmllbGQ6XCJpZFwiLHZhbHVlOnN9XSxcInVzZXJcIiksdXBkYXRlVXNlckJ5RW1haWw6YXN5bmMocyxhKT0+YXdhaXQgZChhLFt7ZmllbGQ6XCJlbWFpbFwiLHZhbHVlOnN9XSxcInVzZXJcIiksdXBkYXRlUGFzc3dvcmQ6YXN5bmMocyxhKT0+e2F3YWl0IHUoe3Bhc3N3b3JkOmF9LFt7ZmllbGQ6XCJ1c2VySWRcIix2YWx1ZTpzfSx7ZmllbGQ6XCJwcm92aWRlcklkXCIsdmFsdWU6XCJjcmVkZW50aWFsXCJ9XSxcImFjY291bnRcIil9LGZpbmRBY2NvdW50czphc3luYyBzPT5hd2FpdCBlLmZpbmRNYW55KHttb2RlbDpcImFjY291bnRcIix3aGVyZTpbe2ZpZWxkOlwidXNlcklkXCIsdmFsdWU6c31dfSksZmluZEFjY291bnQ6YXN5bmMgcz0+YXdhaXQgZS5maW5kT25lKHttb2RlbDpcImFjY291bnRcIix3aGVyZTpbe2ZpZWxkOlwiYWNjb3VudElkXCIsdmFsdWU6c31dfSksZmluZEFjY291bnRCeVVzZXJJZDphc3luYyBzPT5hd2FpdCBlLmZpbmRNYW55KHttb2RlbDpcImFjY291bnRcIix3aGVyZTpbe2ZpZWxkOlwidXNlcklkXCIsdmFsdWU6c31dfSksdXBkYXRlQWNjb3VudDphc3luYyhzLGEpPT5hd2FpdCBkKGEsW3tmaWVsZDpcImlkXCIsdmFsdWU6c31dLFwiYWNjb3VudFwiKSxjcmVhdGVWZXJpZmljYXRpb25WYWx1ZTphc3luYyBzPT5hd2FpdCBuKHtpZDpCKCksY3JlYXRlZEF0Om5ldyBEYXRlLC4uLnN9LFwidmVyaWZpY2F0aW9uXCIpLGZpbmRWZXJpZmljYXRpb25WYWx1ZTphc3luYyBzPT4oYXdhaXQgZS5maW5kTWFueSh7bW9kZWw6XCJ2ZXJpZmljYXRpb25cIix3aGVyZTpbe2ZpZWxkOlwiaWRlbnRpZmllclwiLHZhbHVlOnN9XSxzb3J0Qnk6e2ZpZWxkOlwiY3JlYXRlZEF0XCIsZGlyZWN0aW9uOlwiZGVzY1wifSxsaW1pdDoxMH0pKVswXSxkZWxldGVWZXJpZmljYXRpb25WYWx1ZTphc3luYyBzPT57YXdhaXQgZS5kZWxldGUoe21vZGVsOlwidmVyaWZpY2F0aW9uXCIsd2hlcmU6W3tmaWVsZDpcImlkXCIsdmFsdWU6c31dfSl9LGRlbGV0ZVZlcmlmaWNhdGlvbkJ5SWRlbnRpZmllcjphc3luYyBzPT57YXdhaXQgZS5kZWxldGUoe21vZGVsOlwidmVyaWZpY2F0aW9uXCIsd2hlcmU6W3tmaWVsZDpcImlkZW50aWZpZXJcIix2YWx1ZTpzfV19KX0sdXBkYXRlVmVyaWZpY2F0aW9uVmFsdWU6YXN5bmMocyxhKT0+YXdhaXQgZChhLFt7ZmllbGQ6XCJpZFwiLHZhbHVlOnN9XSxcInZlcmlmaWNhdGlvblwiKX19O3ZhciBYPWU9PntsZXQgdD1lLnBsdWdpbnM/LnJlZHVjZSgocyxhKT0+e2xldCBjPWEuc2NoZW1hO2lmKCFjKXJldHVybiBzO2ZvcihsZXRbbSxmXW9mIE9iamVjdC5lbnRyaWVzKGMpKXNbbV09e2ZpZWxkczp7Li4uc1ttXT8uZmllbGRzLC4uLmYuZmllbGRzfSxtb2RlbE5hbWU6Zi5tb2RlbE5hbWV8fG19O3JldHVybiBzfSx7fSkscj1lLnJhdGVMaW1pdD8uc3RvcmFnZT09PVwiZGF0YWJhc2VcIixvPXtyYXRlTGltaXQ6e21vZGVsTmFtZTplLnJhdGVMaW1pdD8ubW9kZWxOYW1lfHxcInJhdGVMaW1pdFwiLGZpZWxkczp7a2V5Ont0eXBlOlwic3RyaW5nXCIsZmllbGROYW1lOmUucmF0ZUxpbWl0Py5maWVsZHM/LmtleXx8XCJrZXlcIn0sY291bnQ6e3R5cGU6XCJudW1iZXJcIixmaWVsZE5hbWU6ZS5yYXRlTGltaXQ/LmZpZWxkcz8uY291bnR8fFwiY291bnRcIn0sbGFzdFJlcXVlc3Q6e3R5cGU6XCJudW1iZXJcIixmaWVsZE5hbWU6ZS5yYXRlTGltaXQ/LmZpZWxkcz8ubGFzdFJlcXVlc3R8fFwibGFzdFJlcXVlc3RcIn19fX0se3VzZXI6aSxzZXNzaW9uOm4sYWNjb3VudDpkLC4uLnV9PXR8fHt9O3JldHVybnt1c2VyOnttb2RlbE5hbWU6ZS51c2VyPy5tb2RlbE5hbWV8fFwidXNlclwiLGZpZWxkczp7bmFtZTp7dHlwZTpcInN0cmluZ1wiLHJlcXVpcmVkOiEwLGZpZWxkTmFtZTplLnVzZXI/LmZpZWxkcz8ubmFtZXx8XCJuYW1lXCJ9LGVtYWlsOnt0eXBlOlwic3RyaW5nXCIsdW5pcXVlOiEwLHJlcXVpcmVkOiEwLGZpZWxkTmFtZTplLnVzZXI/LmZpZWxkcz8uZW1haWx8fFwiZW1haWxcIn0sZW1haWxWZXJpZmllZDp7dHlwZTpcImJvb2xlYW5cIixkZWZhdWx0VmFsdWU6KCk9PiExLHJlcXVpcmVkOiEwLGZpZWxkTmFtZTplLnVzZXI/LmZpZWxkcz8uZW1haWxWZXJpZmllZHx8XCJlbWFpbFZlcmlmaWVkXCJ9LGltYWdlOnt0eXBlOlwic3RyaW5nXCIscmVxdWlyZWQ6ITEsZmllbGROYW1lOmUudXNlcj8uZmllbGRzPy5pbWFnZXx8XCJpbWFnZVwifSxjcmVhdGVkQXQ6e3R5cGU6XCJkYXRlXCIsZGVmYXVsdFZhbHVlOigpPT5uZXcgRGF0ZSxyZXF1aXJlZDohMCxmaWVsZE5hbWU6ZS51c2VyPy5maWVsZHM/LmNyZWF0ZWRBdHx8XCJjcmVhdGVkQXRcIn0sdXBkYXRlZEF0Ont0eXBlOlwiZGF0ZVwiLGRlZmF1bHRWYWx1ZTooKT0+bmV3IERhdGUscmVxdWlyZWQ6ITAsZmllbGROYW1lOmUudXNlcj8uZmllbGRzPy51cGRhdGVkQXR8fFwidXBkYXRlZEF0XCJ9LC4uLmk/LmZpZWxkcywuLi5lLnVzZXI/LmFkZGl0aW9uYWxGaWVsZHN9LG9yZGVyOjF9LHNlc3Npb246e21vZGVsTmFtZTplLnNlc3Npb24/Lm1vZGVsTmFtZXx8XCJzZXNzaW9uXCIsZmllbGRzOntleHBpcmVzQXQ6e3R5cGU6XCJkYXRlXCIscmVxdWlyZWQ6ITAsZmllbGROYW1lOmUuc2Vzc2lvbj8uZmllbGRzPy5leHBpcmVzQXR8fFwiZXhwaXJlc0F0XCJ9LGlwQWRkcmVzczp7dHlwZTpcInN0cmluZ1wiLHJlcXVpcmVkOiExLGZpZWxkTmFtZTplLnNlc3Npb24/LmZpZWxkcz8uaXBBZGRyZXNzfHxcImlwQWRkcmVzc1wifSx1c2VyQWdlbnQ6e3R5cGU6XCJzdHJpbmdcIixyZXF1aXJlZDohMSxmaWVsZE5hbWU6ZS5zZXNzaW9uPy5maWVsZHM/LnVzZXJBZ2VudHx8XCJ1c2VyQWdlbnRcIn0sdXNlcklkOnt0eXBlOlwic3RyaW5nXCIsZmllbGROYW1lOmUuc2Vzc2lvbj8uZmllbGRzPy51c2VySWR8fFwidXNlcklkXCIscmVmZXJlbmNlczp7bW9kZWw6ZS51c2VyPy5tb2RlbE5hbWV8fFwidXNlclwiLGZpZWxkOlwiaWRcIixvbkRlbGV0ZTpcImNhc2NhZGVcIn0scmVxdWlyZWQ6ITB9LC4uLm4/LmZpZWxkcywuLi5lLnNlc3Npb24/LmFkZGl0aW9uYWxGaWVsZHN9LG9yZGVyOjJ9LGFjY291bnQ6e21vZGVsTmFtZTplLmFjY291bnQ/Lm1vZGVsTmFtZXx8XCJhY2NvdW50XCIsZmllbGRzOnthY2NvdW50SWQ6e3R5cGU6XCJzdHJpbmdcIixyZXF1aXJlZDohMCxmaWVsZE5hbWU6ZS5hY2NvdW50Py5maWVsZHM/LmFjY291bnRJZHx8XCJhY2NvdW50SWRcIn0scHJvdmlkZXJJZDp7dHlwZTpcInN0cmluZ1wiLHJlcXVpcmVkOiEwLGZpZWxkTmFtZTplLmFjY291bnQ/LmZpZWxkcz8ucHJvdmlkZXJJZHx8XCJwcm92aWRlcklkXCJ9LHVzZXJJZDp7dHlwZTpcInN0cmluZ1wiLHJlZmVyZW5jZXM6e21vZGVsOmUudXNlcj8ubW9kZWxOYW1lfHxcInVzZXJcIixmaWVsZDpcImlkXCIsb25EZWxldGU6XCJjYXNjYWRlXCJ9LHJlcXVpcmVkOiEwLGZpZWxkTmFtZTplLmFjY291bnQ/LmZpZWxkcz8udXNlcklkfHxcInVzZXJJZFwifSxhY2Nlc3NUb2tlbjp7dHlwZTpcInN0cmluZ1wiLHJlcXVpcmVkOiExLGZpZWxkTmFtZTplLmFjY291bnQ/LmZpZWxkcz8uYWNjZXNzVG9rZW58fFwiYWNjZXNzVG9rZW5cIn0scmVmcmVzaFRva2VuOnt0eXBlOlwic3RyaW5nXCIscmVxdWlyZWQ6ITEsZmllbGROYW1lOmUuYWNjb3VudD8uZmllbGRzPy5yZWZyZXNoVG9rZW58fFwicmVmcmVzaFRva2VuXCJ9LGlkVG9rZW46e3R5cGU6XCJzdHJpbmdcIixyZXF1aXJlZDohMSxmaWVsZE5hbWU6ZS5hY2NvdW50Py5maWVsZHM/LmlkVG9rZW58fFwiaWRUb2tlblwifSxleHBpcmVzQXQ6e3R5cGU6XCJkYXRlXCIscmVxdWlyZWQ6ITEsZmllbGROYW1lOmUuYWNjb3VudD8uZmllbGRzPy5leHBpcmVzQXR8fFwiZXhwaXJlc0F0XCJ9LHBhc3N3b3JkOnt0eXBlOlwic3RyaW5nXCIscmVxdWlyZWQ6ITEsZmllbGROYW1lOmUuYWNjb3VudD8uZmllbGRzPy5wYXNzd29yZHx8XCJwYXNzd29yZFwifSwuLi5kPy5maWVsZHN9LG9yZGVyOjN9LHZlcmlmaWNhdGlvbjp7bW9kZWxOYW1lOmUudmVyaWZpY2F0aW9uPy5tb2RlbE5hbWV8fFwidmVyaWZpY2F0aW9uXCIsZmllbGRzOntpZGVudGlmaWVyOnt0eXBlOlwic3RyaW5nXCIscmVxdWlyZWQ6ITAsZmllbGROYW1lOmUudmVyaWZpY2F0aW9uPy5maWVsZHM/LmlkZW50aWZpZXJ8fFwiaWRlbnRpZmllclwifSx2YWx1ZTp7dHlwZTpcInN0cmluZ1wiLHJlcXVpcmVkOiEwLGZpZWxkTmFtZTplLnZlcmlmaWNhdGlvbj8uZmllbGRzPy52YWx1ZXx8XCJ2YWx1ZVwifSxleHBpcmVzQXQ6e3R5cGU6XCJkYXRlXCIscmVxdWlyZWQ6ITAsZmllbGROYW1lOmUudmVyaWZpY2F0aW9uPy5maWVsZHM/LmV4cGlyZXNBdHx8XCJleHBpcmVzQXRcIn0sY3JlYXRlZEF0Ont0eXBlOlwiZGF0ZVwiLHJlcXVpcmVkOiExLGRlZmF1bHRWYWx1ZTooKT0+bmV3IERhdGUsZmllbGROYW1lOmUudmVyaWZpY2F0aW9uPy5maWVsZHM/LmNyZWF0ZWRBdHx8XCJjcmVhdGVkQXRcIn19LG9yZGVyOjR9LC4uLnUsLi4ucj9vOnt9fX07aW1wb3J0e3ogYXMgZWR9ZnJvbVwiem9kXCI7aW1wb3J0e0t5c2VseSBhcyBCdCxNc3NxbERpYWxlY3QgYXMgS3J9ZnJvbVwia3lzZWx5XCI7aW1wb3J0e015c3FsRGlhbGVjdCBhcyBEdCxQb3N0Z3Jlc0RpYWxlY3QgYXMgTnQsU3FsaXRlRGlhbGVjdCBhcyBxdH1mcm9tXCJreXNlbHlcIjtmdW5jdGlvbiBWdChlKXtpZihcImRpYWxlY3RcImluIGUpcmV0dXJuIFZ0KGUuZGlhbGVjdCk7aWYoXCJjcmVhdGVEcml2ZXJcImluIGUpe2lmKGUgaW5zdGFuY2VvZiBxdClyZXR1cm5cInNxbGl0ZVwiO2lmKGUgaW5zdGFuY2VvZiBEdClyZXR1cm5cIm15c3FsXCI7aWYoZSBpbnN0YW5jZW9mIE50KXJldHVyblwicG9zdGdyZXNcIjtpZihlIGluc3RhbmNlb2YgS3IpcmV0dXJuXCJtc3NxbFwifXJldHVyblwiYWdncmVnYXRlXCJpbiBlP1wic3FsaXRlXCI6XCJnZXRDb25uZWN0aW9uXCJpbiBlP1wibXlzcWxcIjpcImNvbm5lY3RcImluIGU/XCJwb3N0Z3Jlc1wiOm51bGx9dmFyIEVlPWFzeW5jIGU9PntsZXQgdD1lLmRhdGFiYXNlO2lmKFwiZGJcImluIHQpcmV0dXJue2t5c2VseTp0LmRiLGRhdGFiYXNlVHlwZTp0LnR5cGV9O2lmKFwiZGlhbGVjdFwiaW4gdClyZXR1cm57a3lzZWx5Om5ldyBCdCh7ZGlhbGVjdDp0LmRpYWxlY3R9KSxkYXRhYmFzZVR5cGU6dC50eXBlfTtsZXQgcixvPVZ0KHQpO3JldHVyblwiY3JlYXRlRHJpdmVyXCJpbiB0JiYocj10KSxcImFnZ3JlZ2F0ZVwiaW4gdCYmKHI9bmV3IHF0KHtkYXRhYmFzZTp0fSkpLFwiZ2V0Q29ubmVjdGlvblwiaW4gdCYmKHI9bmV3IER0KHQpKSxcImNvbm5lY3RcImluIHQmJihyPW5ldyBOdCh7cG9vbDp0fSkpLHtreXNlbHk6cj9uZXcgQnQoe2RpYWxlY3Q6cn0pOm51bGwsZGF0YWJhc2VUeXBlOm99fTt2YXIgUXI9KGUsdCxyKT0+e2xldCBvPVgodCk7ZnVuY3Rpb24gaShhLGMpe2lmKGM9PT1cImlkXCIpcmV0dXJuIGM7bGV0IG09b1thXS5maWVsZHNbY107cmV0dXJuIG18fGNvbnNvbGUubG9nKFwiRmllbGQgbm90IGZvdW5kXCIsYSxjKSxtLmZpZWxkTmFtZXx8Y31mdW5jdGlvbiBuKGEsYyxtKXtsZXR7dHlwZTpmPVwic3FsaXRlXCJ9PXJ8fHt9LGw9b1tjXS5maWVsZHNbbV07cmV0dXJuIGwudHlwZT09PVwiYm9vbGVhblwiJiZmPT09XCJzcWxpdGVcIj9hPzE6MDpsLnR5cGU9PT1cImRhdGVcIiYmYSYmYSBpbnN0YW5jZW9mIERhdGUmJmY9PT1cInNxbGl0ZVwiP2EudG9JU09TdHJpbmcoKTphfWZ1bmN0aW9uIGQoYSxjLG0pe2xldHt0eXBlOmY9XCJzcWxpdGVcIn09cnx8e30sbD1vW2NdLmZpZWxkc1ttXTtyZXR1cm4gbC50eXBlPT09XCJib29sZWFuXCImJmY9PT1cInNxbGl0ZVwiJiZhIT09bnVsbD9hPT09MTpsLnR5cGU9PT1cImRhdGVcIiYmYT9uZXcgRGF0ZShhKTphfWZ1bmN0aW9uIHUoYSl7cmV0dXJuIG9bYV0ubW9kZWxOYW1lfWxldCBzPXI/LmdlbmVyYXRlSWQhPT0hMTtyZXR1cm57dHJhbnNmb3JtSW5wdXQoYSxjKXtsZXQgbT1hLmlkJiZzP3tpZDpyPy5nZW5lcmF0ZUlkP3IuZ2VuZXJhdGVJZCgpOmEuaWR9Ont9O2ZvcihsZXQgZiBpbiBhKXtsZXQgbD1vW2NdLmZpZWxkc1tmXTtsJiYobVtsLmZpZWxkTmFtZXx8Zl09bihhW2ZdLGMsZikpfXJldHVybiBtfSx0cmFuc2Zvcm1PdXRwdXQoYSxjLG09W10pe2lmKCFhKXJldHVybiBudWxsO2xldCBmPWEuaWQ/bS5sZW5ndGg9PT0wfHxtLmluY2x1ZGVzKFwiaWRcIik/e2lkOmEuaWR9Ont9Ont9LGw9b1tjXS5maWVsZHM7Zm9yKGxldCBwIGluIGwpe2lmKG0ubGVuZ3RoJiYhbS5pbmNsdWRlcyhwKSljb250aW51ZTtsZXQgZz1sW3BdO2cmJihmW3BdPWQoYVtnLmZpZWxkTmFtZXx8cF0sYyxwKSl9cmV0dXJuIGZ9LGNvbnZlcnRXaGVyZUNsYXVzZShhLGMpe2lmKCFjKXJldHVybnthbmQ6bnVsbCxvcjpudWxsfTtsZXQgbT17YW5kOltdLG9yOltdfTtyZXR1cm4gYy5mb3JFYWNoKGY9PntsZXR7ZmllbGQ6bCx2YWx1ZTpwLG9wZXJhdG9yOmc9XCI9XCIsY29ubmVjdG9yOnk9XCJBTkRcIn09ZixoPWkoYSxsKSxBPXc9PmcudG9Mb3dlckNhc2UoKT09PVwiaW5cIj93KGgsXCJpblwiLEFycmF5LmlzQXJyYXkocCk/cDpbcF0pOmc9PT1cImNvbnRhaW5zXCI/dyhoLFwibGlrZVwiLGAlJHtwfSVgKTpnPT09XCJzdGFydHNfd2l0aFwiP3coaCxcImxpa2VcIixgJHtwfSVgKTpnPT09XCJlbmRzX3dpdGhcIj93KGgsXCJsaWtlXCIsYCUke3B9YCk6Zz09PVwiZXFcIj93KGgsXCI9XCIscCk6Zz09PVwibmVcIj93KGgsXCI8PlwiLHApOmc9PT1cImd0XCI/dyhoLFwiPlwiLHApOmc9PT1cImd0ZVwiP3coaCxcIj49XCIscCk6Zz09PVwibHRcIj93KGgsXCI8XCIscCk6Zz09PVwibHRlXCI/dyhoLFwiPD1cIixwKTp3KGgsZyxwKTt5PT09XCJPUlwiP20ub3IucHVzaChBKTptLmFuZC5wdXNoKEEpfSkse2FuZDptLmFuZC5sZW5ndGg/bS5hbmQ6bnVsbCxvcjptLm9yLmxlbmd0aD9tLm9yOm51bGx9fSxhc3luYyB3aXRoUmV0dXJuaW5nKGEsYyxtLGYpe2xldCBsO2lmKHI/LnR5cGUhPT1cIm15c3FsXCIpbD1hd2FpdCBjLnJldHVybmluZ0FsbCgpLmV4ZWN1dGVUYWtlRmlyc3QoKTtlbHNle2F3YWl0IGMuZXhlY3V0ZSgpO2xldCBwPWEuaWQ/XCJpZFwiOmZbMF0uZmllbGQ/ZlswXS5maWVsZDpcImlkXCIsZz1hW3BdfHxmWzBdLnZhbHVlO2w9YXdhaXQgZS5zZWxlY3RGcm9tKHUobSkpLnNlbGVjdEFsbCgpLndoZXJlKGkobSxwKSxcIj1cIixnKS5leGVjdXRlVGFrZUZpcnN0KCl9cmV0dXJuIGx9LGdldE1vZGVsTmFtZTp1LGdldEZpZWxkOml9fSxGdD0oZSx0KT0+cj0+e2xldHt0cmFuc2Zvcm1JbnB1dDpvLHdpdGhSZXR1cm5pbmc6aSx0cmFuc2Zvcm1PdXRwdXQ6bixjb252ZXJ0V2hlcmVDbGF1c2U6ZCxnZXRNb2RlbE5hbWU6dSxnZXRGaWVsZDpzfT1RcihlLHIsdCk7cmV0dXJue2lkOlwia3lzZWx5XCIsYXN5bmMgY3JlYXRlKGEpe2xldHttb2RlbDpjLGRhdGE6bSxzZWxlY3Q6Zn09YSxsPW8obSxjKSxwPWUuaW5zZXJ0SW50byh1KGMpKS52YWx1ZXMobCk7cmV0dXJuIG4oYXdhaXQgaShsLHAsYyxbXSksYyxmKX0sYXN5bmMgZmluZE9uZShhKXtsZXR7bW9kZWw6Yyx3aGVyZTptLHNlbGVjdDpmfT1hLHthbmQ6bCxvcjpwfT1kKGMsbSksZz1lLnNlbGVjdEZyb20odShjKSkuc2VsZWN0QWxsKCk7bCYmKGc9Zy53aGVyZShoPT5oLmFuZChsLm1hcChBPT5BKGgpKSkpKSxwJiYoZz1nLndoZXJlKGg9Pmgub3IocC5tYXAoQT0+QShoKSkpKSk7bGV0IHk9YXdhaXQgZy5leGVjdXRlVGFrZUZpcnN0KCk7cmV0dXJuIHk/bih5LGMsZik6bnVsbH0sYXN5bmMgZmluZE1hbnkoYSl7bGV0e21vZGVsOmMsd2hlcmU6bSxsaW1pdDpmLG9mZnNldDpsLHNvcnRCeTpwfT1hLHthbmQ6Zyxvcjp5fT1kKGMsbSksaD1lLnNlbGVjdEZyb20odShjKSk7ZyYmKGg9aC53aGVyZSh3PT53LmFuZChnLm1hcCh4PT54KHcpKSkpKSx5JiYoaD1oLndoZXJlKHc9Pncub3IoeS5tYXAoeD0+eCh3KSkpKSksaD1oLmxpbWl0KGZ8fDEwMCksbCYmKGg9aC5vZmZzZXQobCkpLHAmJihoPWgub3JkZXJCeShzKGMscC5maWVsZCkscC5kaXJlY3Rpb24pKTtsZXQgQT1hd2FpdCBoLnNlbGVjdEFsbCgpLmV4ZWN1dGUoKTtyZXR1cm4gQT9BLm1hcCh3PT5uKHcsYykpOltdfSxhc3luYyB1cGRhdGUoYSl7bGV0e21vZGVsOmMsd2hlcmU6bSx1cGRhdGU6Zn09YSx7YW5kOmwsb3I6cH09ZChjLG0pLGc9byhmLGMpLHk9ZS51cGRhdGVUYWJsZSh1KGMpKS5zZXQoZyk7cmV0dXJuIGwmJih5PXkud2hlcmUoaD0+aC5hbmQobC5tYXAoQT0+QShoKSkpKSkscCYmKHk9eS53aGVyZShoPT5oLm9yKHAubWFwKEE9PkEoaCkpKSkpLG4oYXdhaXQgaShnLHksYyxtKSxjKX0sYXN5bmMgdXBkYXRlTWFueShhKXtsZXR7bW9kZWw6Yyx3aGVyZTptLHVwZGF0ZTpmfT1hLHthbmQ6bCxvcjpwfT1kKGMsbSksZz1vKGYsYykseT1lLnVwZGF0ZVRhYmxlKHUoYykpLnNldChnKTtyZXR1cm4gbCYmKHk9eS53aGVyZShBPT5BLmFuZChsLm1hcCh3PT53KEEpKSkpKSxwJiYoeT15LndoZXJlKEE9PkEub3IocC5tYXAodz0+dyhBKSkpKSksKGF3YWl0IHkuZXhlY3V0ZSgpKS5sZW5ndGh9LGFzeW5jIGRlbGV0ZShhKXtsZXR7bW9kZWw6Yyx3aGVyZTptfT1hLHthbmQ6ZixvcjpsfT1kKGMsbSkscD1lLmRlbGV0ZUZyb20odShjKSk7ZiYmKHA9cC53aGVyZShnPT5nLmFuZChmLm1hcCh5PT55KGcpKSkpKSxsJiYocD1wLndoZXJlKGc9Pmcub3IobC5tYXAoeT0+eShnKSkpKSksYXdhaXQgcC5leGVjdXRlKCl9LGFzeW5jIGRlbGV0ZU1hbnkoYSl7bGV0e21vZGVsOmMsd2hlcmU6bX09YSx7YW5kOmYsb3I6bH09ZChjLG0pLHA9ZS5kZWxldGVGcm9tKHUoYykpO3JldHVybiBmJiYocD1wLndoZXJlKGc9PmcuYW5kKGYubWFwKHk9PnkoZykpKSkpLGwmJihwPXAud2hlcmUoZz0+Zy5vcihsLm1hcCh5PT55KGcpKSkpKSwoYXdhaXQgcC5leGVjdXRlKCkpLmxlbmd0aH0sb3B0aW9uczp0fX07YXN5bmMgZnVuY3Rpb24gJHQoZSl7aWYoIWUuZGF0YWJhc2UpdGhyb3cgbmV3IE8oXCJEYXRhYmFzZSBjb25maWd1cmF0aW9uIGlzIHJlcXVpcmVkXCIpO2lmKHR5cGVvZiBlLmRhdGFiYXNlPT1cImZ1bmN0aW9uXCIpcmV0dXJuIGUuZGF0YWJhc2UoZSk7bGV0e2t5c2VseTp0LGRhdGFiYXNlVHlwZTpyfT1hd2FpdCBFZShlKTtpZighdCl0aHJvdyBuZXcgTyhcIkZhaWxlZCB0byBpbml0aWFsaXplIGRhdGFiYXNlIGFkYXB0ZXJcIik7cmV0dXJuIEZ0KHQse2dlbmVyYXRlSWQ6XCJnZW5lcmF0ZUlkXCJpbiBlLmRhdGFiYXNlP2UuZGF0YWJhc2UuZ2VuZXJhdGVJZDp2b2lkIDAsdHlwZTpyfHxcInNxbGl0ZVwifSkoZSl9dmFyIFBlPVwiYmV0dGVyLWF1dGgtc2VjcmV0LTEyMzQ1Njc4OVwiO2ltcG9ydHtBUElFcnJvciBhcyBqdH1mcm9tXCJiZXR0ZXItY2FsbFwiO2FzeW5jIGZ1bmN0aW9uIHp0KGUsdCl7bGV0IG89KGF3YWl0IHQuY29udGV4dC5pbnRlcm5hbEFkYXB0ZXIuZmluZEFjY291bnRzKGUpKT8uZmluZChkPT5kLnByb3ZpZGVySWQ9PT1cImNyZWRlbnRpYWxcIiksaT1vPy5wYXNzd29yZDtpZighb3x8IWkpdGhyb3cgbmV3IGp0KFwiQkFEX1JFUVVFU1RcIix7bWVzc2FnZTpcIk5vIHBhc3N3b3JkIGNyZWRlbnRpYWwgZm91bmRcIn0pO2lmKCFhd2FpdCB0LmNvbnRleHQucGFzc3dvcmQudmVyaWZ5KGksdC5ib2R5LnBhc3N3b3JkKSl0aHJvdyBuZXcganQoXCJCQURfUkVRVUVTVFwiLHttZXNzYWdlOlwiSW52YWxpZCBwYXNzd29yZFwifSk7cmV0dXJuITB9dmFyIE10PWFzeW5jIGU9PntsZXQgdD1hd2FpdCAkdChlKSxyPWUucGx1Z2luc3x8W10sbz1KcihlKSxpPWllKGUubG9nZ2VyKSxuPVcoZS5iYXNlVVJMLGUuYmFzZVBhdGgpLGQ9ZS5zZWNyZXR8fF8uQkVUVEVSX0FVVEhfU0VDUkVUfHxfLkFVVEhfU0VDUkVUfHxQZTtkPT09UGUmJlEmJmkuZXJyb3IoXCJZb3UgYXJlIHVzaW5nIHRoZSBkZWZhdWx0IHNlY3JldC4gUGxlYXNlIHNldCBgQkVUVEVSX0FVVEhfU0VDUkVUYCBpbiB5b3VyIGVudmlyb25tZW50IHZhcmlhYmxlcyBvciBwYXNzIGBzZWNyZXRgIGluIHlvdXIgYXV0aCBjb25maWcuXCIpLGU9ey4uLmUsc2VjcmV0OmQsYmFzZVVSTDpuP25ldyBVUkwobikub3JpZ2luOlwiXCIsYmFzZVBhdGg6ZS5iYXNlUGF0aHx8XCIvYXBpL2F1dGhcIixwbHVnaW5zOnIuY29uY2F0KG8pLGVtYWlsQW5kUGFzc3dvcmQ6ey4uLmUuZW1haWxBbmRQYXNzd29yZCxlbmFibGVkOmUuZW1haWxBbmRQYXNzd29yZD8uZW5hYmxlZD8/ITEsYXV0b1NpZ25JbjplLmVtYWlsQW5kUGFzc3dvcmQ/LmF1dG9TaWduSW4/PyEwfX07bGV0IHU9RGUoZSkscz1YKGUpLGE9T2JqZWN0LmtleXMoZS5zb2NpYWxQcm92aWRlcnN8fHt9KS5tYXAoZj0+e2xldCBsPWUuc29jaWFsUHJvdmlkZXJzPy5bZl07cmV0dXJuIGwuZW5hYmxlZD09PSExP251bGw6KCghbC5jbGllbnRJZHx8IWwuY2xpZW50U2VjcmV0KSYmaS53YXJuKGBTb2NpYWwgcHJvdmlkZXIgJHtmfSBpcyBtaXNzaW5nIGNsaWVudElkIG9yIGNsaWVudFNlY3JldGApLGJlW2ZdKGwpKX0pLmZpbHRlcihmPT5mIT09bnVsbCksYz17YXBwTmFtZTplLmFwcE5hbWV8fFwiQmV0dGVyIEF1dGhcIixzb2NpYWxQcm92aWRlcnM6YSxvcHRpb25zOmUsdGFibGVzOnMsdHJ1c3RlZE9yaWdpbnM6WXIoZSksYmFzZVVSTDpufHxcIlwiLHNlc3Npb25Db25maWc6e3VwZGF0ZUFnZTplLnNlc3Npb24/LnVwZGF0ZUFnZXx8MjQqNjAqNjAsZXhwaXJlc0luOmUuc2Vzc2lvbj8uZXhwaXJlc0lufHw2MCo2MCoyNCo3fSxzZWNyZXQ6ZCxyYXRlTGltaXQ6ey4uLmUucmF0ZUxpbWl0LGVuYWJsZWQ6ZS5yYXRlTGltaXQ/LmVuYWJsZWQ/P1Esd2luZG93OmUucmF0ZUxpbWl0Py53aW5kb3d8fDEwLG1heDplLnJhdGVMaW1pdD8ubWF4fHwxMDAsc3RvcmFnZTplLnJhdGVMaW1pdD8uc3RvcmFnZXx8ZS5zZWNvbmRhcnlTdG9yYWdlP1wic2Vjb25kYXJ5LXN0b3JhZ2VcIjpcIm1lbW9yeVwifSxhdXRoQ29va2llczp1LGxvZ2dlcjppLHV1aWQ6QixzZXNzaW9uOm51bGwsc2Vjb25kYXJ5U3RvcmFnZTplLnNlY29uZGFyeVN0b3JhZ2UscGFzc3dvcmQ6e2hhc2g6ZS5lbWFpbEFuZFBhc3N3b3JkPy5wYXNzd29yZD8uaGFzaHx8X3QsdmVyaWZ5OmUuZW1haWxBbmRQYXNzd29yZD8ucGFzc3dvcmQ/LnZlcmlmeXx8THQsY29uZmlnOnttaW5QYXNzd29yZExlbmd0aDplLmVtYWlsQW5kUGFzc3dvcmQ/Lm1pblBhc3N3b3JkTGVuZ3RofHw4LG1heFBhc3N3b3JkTGVuZ3RoOmUuZW1haWxBbmRQYXNzd29yZD8ubWF4UGFzc3dvcmRMZW5ndGh8fDEyOH0sY2hlY2tQYXNzd29yZDp6dH0sYWRhcHRlcjp0LGludGVybmFsQWRhcHRlcjpUZSh0LHtvcHRpb25zOmUsaG9va3M6ZS5kYXRhYmFzZUhvb2tzP1tlLmRhdGFiYXNlSG9va3NdOltdfSksY3JlYXRlQXV0aENvb2tpZTpnZShlKX0se2NvbnRleHQ6bX09WnIoYyk7cmV0dXJuIG19O2Z1bmN0aW9uIFpyKGUpe2xldCB0PWUub3B0aW9ucyxyPXQucGx1Z2luc3x8W10sbz1lLGk9W107Zm9yKGxldCBuIG9mIHIpaWYobi5pbml0KXtsZXQgZD1uLmluaXQoZSk7dHlwZW9mIGQ9PVwib2JqZWN0XCImJihkLm9wdGlvbnMmJihkLm9wdGlvbnMuZGF0YWJhc2VIb29rcyYmaS5wdXNoKGQub3B0aW9ucy5kYXRhYmFzZUhvb2tzKSx0PVdyKHQsZC5vcHRpb25zKSksZC5jb250ZXh0JiYobz17Li4ubywuLi5kLmNvbnRleHR9KSl9cmV0dXJuIGkucHVzaCh0LmRhdGFiYXNlSG9va3MpLG8uaW50ZXJuYWxBZGFwdGVyPVRlKGUuYWRhcHRlcix7b3B0aW9uczp0LGhvb2tzOmkuZmlsdGVyKG49Pm4hPT12b2lkIDApfSksby5vcHRpb25zPXQse2NvbnRleHQ6b319ZnVuY3Rpb24gSnIoZSl7bGV0IHQ9W107cmV0dXJuIGUuYWR2YW5jZWQ/LmNyb3NzU3ViRG9tYWluQ29va2llcz8uZW5hYmxlZCx0fWZ1bmN0aW9uIFlyKGUpe2xldCB0PVcoZS5iYXNlVVJMLGUuYmFzZVBhdGgpO2lmKCF0KXJldHVybltdO2xldCByPVtuZXcgVVJMKHQpLm9yaWdpbl07ZS50cnVzdGVkT3JpZ2lucyYmci5wdXNoKC4uLmUudHJ1c3RlZE9yaWdpbnMpO2xldCBvPV8uQkVUVEVSX0FVVEhfVFJVU1RFRF9PUklHSU5TO3JldHVybiBvJiZyLnB1c2goLi4uby5zcGxpdChcIixcIikpLHJ9dmFyIGVjPWU9PntsZXQgdD1NdChlKSx7YXBpOnJ9PVVlKHQsZSk7cmV0dXJue2hhbmRsZXI6YXN5bmMgbz0+e2xldCBpPWF3YWl0IHQsbj1pLm9wdGlvbnMuYmFzZVBhdGh8fFwiL2FwaS9hdXRoXCIsZD1uZXcgVVJMKG8udXJsKTtpZighaS5vcHRpb25zLmJhc2VVUkwpe2xldCBzPVcodm9pZCAwLG4pfHxgJHtkLm9yaWdpbn0ke259YDtpLm9wdGlvbnMuYmFzZVVSTD1zLGkuYmFzZVVSTD1zfWlmKGkudHJ1c3RlZE9yaWdpbnMucHVzaChkLm9yaWdpbiksIWkub3B0aW9ucy5iYXNlVVJMKXJldHVybiBuZXcgUmVzcG9uc2UoXCJCYXNlIFVSTCBub3Qgc2V0XCIse3N0YXR1czo0MDB9KTtpZihkLnBhdGhuYW1lPT09bnx8ZC5wYXRobmFtZT09PWAke259L2ApcmV0dXJuIG5ldyBSZXNwb25zZShcIldlbGNvbWUgdG8gQmV0dGVyQXV0aFwiLHtzdGF0dXM6MjAwfSk7bGV0e2hhbmRsZXI6dX09SXQoaSxlKTtyZXR1cm4gdShvKX0sYXBpOnIsb3B0aW9uczplLCRjb250ZXh0OnQsJEluZmVyOnt9fX07ZXhwb3J0e08gYXMgQmV0dGVyQXV0aEVycm9yLHogYXMgSElERV9NRVRBREFUQSxMZSBhcyBNaXNzaW5nRGVwZW5kZW5jeUVycm9yLGVjIGFzIGJldHRlckF1dGgsVG4gYXMgY2FwaXRhbGl6ZUZpcnN0TGV0dGVyLGdlIGFzIGNyZWF0ZUNvb2tpZUdldHRlcixpZSBhcyBjcmVhdGVMb2dnZXIscSBhcyBkZWxldGVTZXNzaW9uQ29va2llLEIgYXMgZ2VuZXJhdGVJZCxuZSBhcyBnZW5lcmF0ZVN0YXRlLERlIGFzIGdldENvb2tpZXMseWUgYXMgbGV2ZWxzLEwgYXMgbG9nZ2VyLFJvIGFzIHBhcnNlQ29va2llcyxtbyBhcyBwYXJzZVNldENvb2tpZUhlYWRlciwkZSBhcyBwYXJzZVN0YXRlLEkgYXMgc2V0U2Vzc2lvbkNvb2tpZSxnciBhcyBzaG91bGRQdWJsaXNoTG9nfTtcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/better-auth/dist/index.js\n");

/***/ }),

/***/ "(rsc)/./node_modules/better-auth/dist/next-js.js":
/*!**************************************************!*\
  !*** ./node_modules/better-auth/dist/next-js.js ***!
  \**************************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   nextCookies: () => (/* binding */ Y),\n/* harmony export */   toNextJsHandler: () => (/* binding */ X)\n/* harmony export */ });\n/* harmony import */ var next_headers__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/headers */ \"(rsc)/./node_modules/next/dist/api/headers.js\");\n/* harmony import */ var oslo__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! oslo */ \"(rsc)/./node_modules/oslo/dist/index.js\");\n/* harmony import */ var oslo_encoding__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! oslo/encoding */ \"(rsc)/./node_modules/oslo/dist/encoding/index.js\");\n/* harmony import */ var oslo_crypto__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! oslo/crypto */ \"(rsc)/./node_modules/oslo/dist/crypto/index.js\");\nvar m=Object.create(null),a=e=>globalThis.process?.env||globalThis.Deno?.env.toObject()||globalThis.__env__||(e?m:globalThis),x=new Proxy(m,{get(e,t){return a()[t]??m[t]},has(e,t){let o=a();return t in o||t in m},set(e,t,o){let i=a(!0);return i[t]=o,!0},deleteProperty(e,t){if(!t)return!1;let o=a(!0);return delete o[t],!0},ownKeys(){let e=a(!0);return Object.keys(e)}});function C(e){return e?e!==\"false\":!1}var y=typeof process<\"u\"&&process.env&&\"development\"||\"\";var _=y===\"test\"||C(x.TEST);function l(e){let t=new Map;return e.split(\", \").forEach(i=>{let d=i.split(\";\").map(f=>f.trim()),[s,...c]=d,[u,...h]=s.split(\"=\"),p=h.join(\"=\");if(!u||p===void 0){console.warn(`Malformed cookie: ${i}`);return}let r={value:p};c.forEach(f=>{let[g,...b]=f.split(\"=\"),n=b.join(\"=\"),k=g.trim().toLowerCase();switch(k){case\"max-age\":r[\"max-age\"]=n?parseInt(n.trim(),10):void 0;break;case\"expires\":r.expires=n?new Date(n.trim()):void 0;break;case\"domain\":r.domain=n?n.trim():void 0;break;case\"path\":r.path=n?n.trim():void 0;break;case\"secure\":r.secure=!0;break;case\"httponly\":r.httponly=!0;break;case\"samesite\":r.samesite=n?n.trim().toLowerCase():void 0;break;default:r[k]=n?n.trim():!0;break}}),t.set(u,r)}),t}function X(e){let t=async o=>\"handler\"in e?e.handler(o):e(o);return{GET:t,POST:t}}var Y=()=>({id:\"next-cookies\",hooks:{after:[{matcher(e){return!0},handler:async e=>{let t=e.responseHeader;if(t instanceof Headers){let o=t?.get(\"set-cookie\");if(!o)return;let i=l(o),d=await (0,next_headers__WEBPACK_IMPORTED_MODULE_0__.cookies)();i.forEach((s,c)=>{if(!c)return;let u={sameSite:s.samesite,secure:s.secure,maxAge:s[\"max-age\"],httpOnly:s.httponly,domain:s.domain,path:s.path};try{d.set(c,decodeURIComponent(s.value),u)}catch{if(false){}}});return}}}]}});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvYmV0dGVyLWF1dGgvZGlzdC9uZXh0LWpzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUFnSyw2SUFBNkksU0FBUyxvQkFBb0IsVUFBVSxVQUFVLHNCQUFzQixZQUFZLFlBQVksaUJBQWlCLHFCQUFxQixlQUFlLFlBQVksc0JBQXNCLFdBQVcsWUFBWSx1QkFBdUIsRUFBRSxjQUFjLHdCQUF3Qix1Q0FBdUMsYUFBb0IsS0FBSyw0QkFBNEIsY0FBYyxjQUFjLGlDQUFpQyxnQkFBZ0IsbUVBQW1FLG1CQUFtQixrQ0FBa0MsRUFBRSxHQUFHLE9BQU8sT0FBTyxTQUFTLGNBQWMsZ0VBQWdFLFVBQVUsMERBQTBELE1BQU0sb0RBQW9ELE1BQU0sd0NBQXdDLE1BQU0sb0NBQW9DLE1BQU0seUJBQXlCLE1BQU0sNkJBQTZCLE1BQU0sMERBQTBELE1BQU0sMkJBQTJCLE9BQU8sYUFBYSxJQUFJLGNBQWMsK0NBQStDLE9BQU8sY0FBYyxZQUFZLHlCQUF5QixRQUFRLFdBQVcsU0FBUyxtQkFBbUIsdUJBQXVCLHlCQUF5QiwyQkFBMkIsYUFBYSxtQkFBbUIscURBQUMsR0FBRyxrQkFBa0IsYUFBYSxPQUFPLHlHQUF5RyxJQUFJLHVDQUF1QyxNQUFNLEdBQUcsS0FBb0MsQ0FBQyxFQUFNLEVBQUUsRUFBRSxTQUFTLEdBQUcsRUFBZ0QiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9hdHRhY2stY2FwaXRhbC10YXNrLy4vbm9kZV9tb2R1bGVzL2JldHRlci1hdXRoL2Rpc3QvbmV4dC1qcy5qcz82ZGRlIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydHtjb29raWVzIGFzIEF9ZnJvbVwibmV4dC9oZWFkZXJzXCI7aW1wb3J0e1RpbWVTcGFuIGFzIFZ9ZnJvbVwib3Nsb1wiO2ltcG9ydHtiYXNlNjR1cmwgYXMgTX1mcm9tXCJvc2xvL2VuY29kaW5nXCI7aW1wb3J0e0hNQUMgYXMgdixzaGEyNTYgYXMgRX1mcm9tXCJvc2xvL2NyeXB0b1wiO3ZhciBtPU9iamVjdC5jcmVhdGUobnVsbCksYT1lPT5nbG9iYWxUaGlzLnByb2Nlc3M/LmVudnx8Z2xvYmFsVGhpcy5EZW5vPy5lbnYudG9PYmplY3QoKXx8Z2xvYmFsVGhpcy5fX2Vudl9ffHwoZT9tOmdsb2JhbFRoaXMpLHg9bmV3IFByb3h5KG0se2dldChlLHQpe3JldHVybiBhKClbdF0/P21bdF19LGhhcyhlLHQpe2xldCBvPWEoKTtyZXR1cm4gdCBpbiBvfHx0IGluIG19LHNldChlLHQsbyl7bGV0IGk9YSghMCk7cmV0dXJuIGlbdF09bywhMH0sZGVsZXRlUHJvcGVydHkoZSx0KXtpZighdClyZXR1cm4hMTtsZXQgbz1hKCEwKTtyZXR1cm4gZGVsZXRlIG9bdF0sITB9LG93bktleXMoKXtsZXQgZT1hKCEwKTtyZXR1cm4gT2JqZWN0LmtleXMoZSl9fSk7ZnVuY3Rpb24gQyhlKXtyZXR1cm4gZT9lIT09XCJmYWxzZVwiOiExfXZhciB5PXR5cGVvZiBwcm9jZXNzPFwidVwiJiZwcm9jZXNzLmVudiYmcHJvY2Vzcy5lbnYuTk9ERV9FTlZ8fFwiXCI7dmFyIF89eT09PVwidGVzdFwifHxDKHguVEVTVCk7ZnVuY3Rpb24gbChlKXtsZXQgdD1uZXcgTWFwO3JldHVybiBlLnNwbGl0KFwiLCBcIikuZm9yRWFjaChpPT57bGV0IGQ9aS5zcGxpdChcIjtcIikubWFwKGY9PmYudHJpbSgpKSxbcywuLi5jXT1kLFt1LC4uLmhdPXMuc3BsaXQoXCI9XCIpLHA9aC5qb2luKFwiPVwiKTtpZighdXx8cD09PXZvaWQgMCl7Y29uc29sZS53YXJuKGBNYWxmb3JtZWQgY29va2llOiAke2l9YCk7cmV0dXJufWxldCByPXt2YWx1ZTpwfTtjLmZvckVhY2goZj0+e2xldFtnLC4uLmJdPWYuc3BsaXQoXCI9XCIpLG49Yi5qb2luKFwiPVwiKSxrPWcudHJpbSgpLnRvTG93ZXJDYXNlKCk7c3dpdGNoKGspe2Nhc2VcIm1heC1hZ2VcIjpyW1wibWF4LWFnZVwiXT1uP3BhcnNlSW50KG4udHJpbSgpLDEwKTp2b2lkIDA7YnJlYWs7Y2FzZVwiZXhwaXJlc1wiOnIuZXhwaXJlcz1uP25ldyBEYXRlKG4udHJpbSgpKTp2b2lkIDA7YnJlYWs7Y2FzZVwiZG9tYWluXCI6ci5kb21haW49bj9uLnRyaW0oKTp2b2lkIDA7YnJlYWs7Y2FzZVwicGF0aFwiOnIucGF0aD1uP24udHJpbSgpOnZvaWQgMDticmVhaztjYXNlXCJzZWN1cmVcIjpyLnNlY3VyZT0hMDticmVhaztjYXNlXCJodHRwb25seVwiOnIuaHR0cG9ubHk9ITA7YnJlYWs7Y2FzZVwic2FtZXNpdGVcIjpyLnNhbWVzaXRlPW4/bi50cmltKCkudG9Mb3dlckNhc2UoKTp2b2lkIDA7YnJlYWs7ZGVmYXVsdDpyW2tdPW4/bi50cmltKCk6ITA7YnJlYWt9fSksdC5zZXQodSxyKX0pLHR9ZnVuY3Rpb24gWChlKXtsZXQgdD1hc3luYyBvPT5cImhhbmRsZXJcImluIGU/ZS5oYW5kbGVyKG8pOmUobyk7cmV0dXJue0dFVDp0LFBPU1Q6dH19dmFyIFk9KCk9Pih7aWQ6XCJuZXh0LWNvb2tpZXNcIixob29rczp7YWZ0ZXI6W3ttYXRjaGVyKGUpe3JldHVybiEwfSxoYW5kbGVyOmFzeW5jIGU9PntsZXQgdD1lLnJlc3BvbnNlSGVhZGVyO2lmKHQgaW5zdGFuY2VvZiBIZWFkZXJzKXtsZXQgbz10Py5nZXQoXCJzZXQtY29va2llXCIpO2lmKCFvKXJldHVybjtsZXQgaT1sKG8pLGQ9YXdhaXQgQSgpO2kuZm9yRWFjaCgocyxjKT0+e2lmKCFjKXJldHVybjtsZXQgdT17c2FtZVNpdGU6cy5zYW1lc2l0ZSxzZWN1cmU6cy5zZWN1cmUsbWF4QWdlOnNbXCJtYXgtYWdlXCJdLGh0dHBPbmx5OnMuaHR0cG9ubHksZG9tYWluOnMuZG9tYWluLHBhdGg6cy5wYXRofTt0cnl7ZC5zZXQoYyxkZWNvZGVVUklDb21wb25lbnQocy52YWx1ZSksdSl9Y2F0Y2h7aWYocHJvY2Vzcy5lbnYuTk9ERV9FTlYhPT1cImRldmVsb3BtZW50XCIpcmV0dXJufX0pO3JldHVybn19fV19fSk7ZXhwb3J0e1kgYXMgbmV4dENvb2tpZXMsWCBhcyB0b05leHRKc0hhbmRsZXJ9O1xuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/better-auth/dist/next-js.js\n");

/***/ })

};
;